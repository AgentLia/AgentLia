/*! For license information please see sumarizeWebsite.js.LICENSE.txt */
!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var a=t();for(var r in a)("object"==typeof exports?exports:e)[r]=a[r]}}(global,(()=>(()=>{var e,t={49060:(e,t,a)=>{"use strict";a.r(t),a.d(t,{MAX:()=>r,NIL:()=>n,parse:()=>s,stringify:()=>o.A,v1:()=>m,v1ToV6:()=>h,v3:()=>v,v4:()=>y.A,v5:()=>_,v6:()=>w,v6ToV1:()=>P,v7:()=>S,validate:()=>i.A,version:()=>C});const r="ffffffff-ffff-ffff-ffff-ffffffffffff",n="00000000-0000-0000-0000-000000000000";var i=a(16200);const s=function(e){if(!(0,i.A)(e))throw TypeError("Invalid UUID");let t;const a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a};var o=a(10456),l=a(8108);let d,p,u=0,c=0;const m=function(e,t,a){let r=t&&a||0;const n=t||new Array(16);let i=(e=e||{}).node,s=e.clockseq;if(e._v6||(i||(i=d),null==s&&(s=p)),null==i||null==s){const t=e.random||(e.rng||l.A)();null==i&&(i=[t[0],t[1],t[2],t[3],t[4],t[5]],d||e._v6||(i[0]|=1,d=i)),null==s&&(s=16383&(t[6]<<8|t[7]),void 0!==p||e._v6||(p=s))}let m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1;const f=m-u+(h-c)/1e4;if(f<0&&void 0===e.clockseq&&(s=s+1&16383),(f<0||m>u)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=m,c=h,p=s,m+=122192928e5;const b=(1e4*(268435455&m)+h)%4294967296;n[r++]=b>>>24&255,n[r++]=b>>>16&255,n[r++]=b>>>8&255,n[r++]=255&b;const g=m/4294967296*1e4&268435455;n[r++]=g>>>8&255,n[r++]=255&g,n[r++]=g>>>24&15|16,n[r++]=g>>>16&255,n[r++]=s>>>8|128,n[r++]=255&s;for(let e=0;e<6;++e)n[r+e]=i[e];return t||(0,o.k)(n)};function h(e){const t=(a="string"==typeof e?s(e):e,Uint8Array.of((15&a[6])<<4|a[7]>>4&15,(15&a[7])<<4|(240&a[4])>>4,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,(15&a[1])<<4|(240&a[2])>>4,96|15&a[2],a[3],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]));var a;return"string"==typeof e?(0,o.k)(t):t}function f(e,t,a){function r(e,r,n,i){var l;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}(e)),"string"==typeof r&&(r=s(r)),16!==(null===(l=r)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let d=new Uint8Array(16+e.length);if(d.set(r),d.set(e,r.length),d=a(d),d[6]=15&d[6]|t,d[8]=63&d[8]|128,n){i=i||0;for(let e=0;e<16;++e)n[i+e]=d[e];return n}return(0,o.k)(d)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}var b=a(77598),g=a.n(b);const v=f("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),g().createHash("md5").update(e).digest()}));var y=a(92198);const _=f("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),g().createHash("sha1").update(e).digest()}));function w(e={},t,a=0){let r=m({...e,_v6:!0},new Uint8Array(16));if(r=h(r),t){for(let e=0;e<16;e++)t[a+e]=r[e];return t}return(0,o.k)(r)}function P(e){const t=(a="string"==typeof e?s(e):e,Uint8Array.of((15&a[3])<<4|a[4]>>4&15,(15&a[4])<<4|(240&a[5])>>4,(15&a[5])<<4|15&a[6],a[7],(15&a[1])<<4|(240&a[2])>>4,(15&a[2])<<4|(240&a[3])>>4,16|(240&a[0])>>4,(15&a[0])<<4|(240&a[1])>>4,a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]));var a;return"string"==typeof e?(0,o.k)(t):t}let O=null,T=null,A=0;const S=function(e,t,a){e=e||{};let r=t&&a||0;const n=t||new Uint8Array(16),i=e.random||(e.rng||l.A)(),s=void 0!==e.msecs?e.msecs:Date.now();let d=void 0!==e.seq?e.seq:null,p=T,u=O;return s>A&&void 0===e.msecs&&(A=s,null!==d&&(p=null,u=null)),null!==d&&(d>2147483647&&(d=2147483647),p=d>>>19&4095,u=524287&d),null!==p&&null!==u||(p=127&i[6],p=p<<8|i[7],u=63&i[8],u=u<<8|i[9],u=u<<5|i[10]>>>3),s+1e4>A&&null===d?++u>524287&&(u=0,++p>4095&&(p=0,A++)):A=s,T=p,O=u,n[r++]=A/1099511627776&255,n[r++]=A/4294967296&255,n[r++]=A/16777216&255,n[r++]=A/65536&255,n[r++]=A/256&255,n[r++]=255&A,n[r++]=p>>>4&15|112,n[r++]=255&p,n[r++]=u>>>13&63|128,n[r++]=u>>>5&255,n[r++]=u<<3&255|7&i[10],n[r++]=i[11],n[r++]=i[12],n[r++]=i[13],n[r++]=i[14],n[r++]=i[15],t||(0,o.k)(n)},C=function(e){if(!(0,i.A)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},8108:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(77598),n=a.n(r);const i=new Uint8Array(256);let s=i.length;function o(){return s>i.length-16&&(n().randomFillSync(i),s=0),i.slice(s,s+=16)}},10456:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,k:()=>i});var r=a(16200);const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function i(e,t=0){return(n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]).toLowerCase()}const s=function(e,t=0){const a=i(e,t);if(!(0,r.A)(a))throw TypeError("Stringified UUID is invalid");return a}},92198:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(77598);const n={randomUUID:a.n(r)().randomUUID};var i=a(8108),s=a(10456);const o=function(e,t,a){if(n.randomUUID&&!t&&!e)return n.randomUUID();const r=(e=e||{}).random||(e.rng||i.A)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=r[e];return t}return(0,s.k)(r)}},16200:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i,n=function(e){return"string"==typeof e&&r.test(e)}},89467:(e,t)=>{"use strict";const a=["user","model","function","system"];var r,n,i,s,o,l,d,p;t.HarmCategory=void 0,(r=t.HarmCategory||(t.HarmCategory={})).HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",r.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",r.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",r.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",r.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",t.HarmBlockThreshold=void 0,(n=t.HarmBlockThreshold||(t.HarmBlockThreshold={})).HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",t.HarmProbability=void 0,(i=t.HarmProbability||(t.HarmProbability={})).HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",i.NEGLIGIBLE="NEGLIGIBLE",i.LOW="LOW",i.MEDIUM="MEDIUM",i.HIGH="HIGH",t.BlockReason=void 0,(s=t.BlockReason||(t.BlockReason={})).BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",s.SAFETY="SAFETY",s.OTHER="OTHER",t.FinishReason=void 0,(o=t.FinishReason||(t.FinishReason={})).FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.OTHER="OTHER",t.TaskType=void 0,(l=t.TaskType||(t.TaskType={})).TASK_TYPE_UNSPECIFIED="TASK_TYPE_UNSPECIFIED",l.RETRIEVAL_QUERY="RETRIEVAL_QUERY",l.RETRIEVAL_DOCUMENT="RETRIEVAL_DOCUMENT",l.SEMANTIC_SIMILARITY="SEMANTIC_SIMILARITY",l.CLASSIFICATION="CLASSIFICATION",l.CLUSTERING="CLUSTERING",t.FunctionCallingMode=void 0,(d=t.FunctionCallingMode||(t.FunctionCallingMode={})).MODE_UNSPECIFIED="MODE_UNSPECIFIED",d.AUTO="AUTO",d.ANY="ANY",d.NONE="NONE",t.FunctionDeclarationSchemaType=void 0,(p=t.FunctionDeclarationSchemaType||(t.FunctionDeclarationSchemaType={})).STRING="STRING",p.NUMBER="NUMBER",p.INTEGER="INTEGER",p.BOOLEAN="BOOLEAN",p.ARRAY="ARRAY",p.OBJECT="OBJECT";class u extends Error{constructor(e){super(`[GoogleGenerativeAI Error]: ${e}`)}}class c extends u{constructor(e,t){super(e),this.response=t}}const m="0.7.1",h="genai-js";var f;!function(e){e.GENERATE_CONTENT="generateContent",e.STREAM_GENERATE_CONTENT="streamGenerateContent",e.COUNT_TOKENS="countTokens",e.EMBED_CONTENT="embedContent",e.BATCH_EMBED_CONTENTS="batchEmbedContents"}(f||(f={}));class b{constructor(e,t,a,r,n){this.model=e,this.task=t,this.apiKey=a,this.stream=r,this.requestOptions=n}toString(){var e,t;const a=(null===(e=this.requestOptions)||void 0===e?void 0:e.apiVersion)||"v1beta";let r=`${(null===(t=this.requestOptions)||void 0===t?void 0:t.baseUrl)||"https://generativelanguage.googleapis.com"}/${a}/${this.model}:${this.task}`;return this.stream&&(r+="?alt=sse"),r}}async function g(e){const t=new Headers;return t.append("Content-Type","application/json"),t.append("x-goog-api-client",function(e){const t=[];return(null==e?void 0:e.apiClient)&&t.push(e.apiClient),t.push(`${h}/${m}`),t.join(" ")}(e.requestOptions)),t.append("x-goog-api-key",e.apiKey),t}async function v(e,t,a,r,n,i){return async function(e,t,a,r,n,i,s=fetch){const o=new b(e,t,a,r,i);let l;try{const o=await async function(e,t,a,r,n,i){const s=new b(e,t,a,r,i);return{url:s.toString(),fetchOptions:Object.assign(Object.assign({},y(i)),{method:"POST",headers:await g(s),body:n})}}(e,t,a,r,n,i);if(l=await s(o.url,o.fetchOptions),!l.ok){let e="";try{const t=await l.json();e=t.error.message,t.error.details&&(e+=` ${JSON.stringify(t.error.details)}`)}catch(e){}throw new Error(`[${l.status} ${l.statusText}] ${e}`)}}catch(e){const t=new u(`Error fetching from ${o.toString()}: ${e.message}`);throw t.stack=e.stack,t}return l}(e,t,a,r,n,i,fetch)}function y(e){const t={};if((null==e?void 0:e.timeout)>=0){const a=new AbortController,r=a.signal;setTimeout((()=>a.abort()),e.timeout),t.signal=r}return t}function _(e){return e.text=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning text from the first candidate only. Access response.candidates directly to use the other candidates.`),O(e.candidates[0]))throw new c(`${T(e)}`,e);return function(e){var t,a,r,n;return(null===(n=null===(r=null===(a=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===a?void 0:a.parts)||void 0===r?void 0:r[0])||void 0===n?void 0:n.text)?e.candidates[0].content.parts.map((({text:e})=>e)).join(""):""}(e)}if(e.promptFeedback)throw new c(`Text not available. ${T(e)}`,e);return""},e.functionCall=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),O(e.candidates[0]))throw new c(`${T(e)}`,e);return console.warn("response.functionCall() is deprecated. Use response.functionCalls() instead."),w(e)[0]}if(e.promptFeedback)throw new c(`Function call not available. ${T(e)}`,e)},e.functionCalls=()=>{if(e.candidates&&e.candidates.length>0){if(e.candidates.length>1&&console.warn(`This response had ${e.candidates.length} candidates. Returning function calls from the first candidate only. Access response.candidates directly to use the other candidates.`),O(e.candidates[0]))throw new c(`${T(e)}`,e);return w(e)}if(e.promptFeedback)throw new c(`Function call not available. ${T(e)}`,e)},e}function w(e){var t,a,r,n;const i=[];if(null===(a=null===(t=e.candidates)||void 0===t?void 0:t[0].content)||void 0===a?void 0:a.parts)for(const t of null===(n=null===(r=e.candidates)||void 0===r?void 0:r[0].content)||void 0===n?void 0:n.parts)t.functionCall&&i.push(t.functionCall);return i.length>0?i:void 0}const P=[t.FinishReason.RECITATION,t.FinishReason.SAFETY];function O(e){return!!e.finishReason&&P.includes(e.finishReason)}function T(e){var t,a,r;let n="";if(e.candidates&&0!==e.candidates.length||!e.promptFeedback){if(null===(r=e.candidates)||void 0===r?void 0:r[0]){const t=e.candidates[0];O(t)&&(n+=`Candidate was blocked due to ${t.finishReason}`,t.finishMessage&&(n+=`: ${t.finishMessage}`))}}else n+="Response was blocked",(null===(t=e.promptFeedback)||void 0===t?void 0:t.blockReason)&&(n+=` due to ${e.promptFeedback.blockReason}`),(null===(a=e.promptFeedback)||void 0===a?void 0:a.blockReasonMessage)&&(n+=`: ${e.promptFeedback.blockReasonMessage}`);return n}function A(e){return this instanceof A?(this.v=e,this):new A(e)}"function"==typeof SuppressedError&&SuppressedError;const S=/^data\: (.*)(?:\n\n|\r\r|\r\n\r\n)/;async function C(e){const t=[],a=e.getReader();for(;;){const{done:e,value:r}=await a.read();if(e)return _(I(t));t.push(r)}}function E(e){return function(e,t,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=a.apply(e,t||[]),i=[];return r={},s("next"),s("throw"),s("return"),r[Symbol.asyncIterator]=function(){return this},r;function s(e){n[e]&&(r[e]=function(t){return new Promise((function(a,r){i.push([e,t,a,r])>1||o(e,t)}))})}function o(e,t){try{(a=n[e](t)).value instanceof A?Promise.resolve(a.value.v).then(l,d):p(i[0][2],a)}catch(e){p(i[0][3],e)}var a}function l(e){o("next",e)}function d(e){o("throw",e)}function p(e,t){e(t),i.shift(),i.length&&o(i[0][0],i[0][1])}}(this,arguments,(function*(){const t=e.getReader();for(;;){const{value:e,done:a}=yield A(t.read());if(a)break;yield yield A(_(e))}}))}function I(e){const t=e[e.length-1],a={promptFeedback:null==t?void 0:t.promptFeedback};for(const t of e)if(t.candidates)for(const e of t.candidates){const t=e.index;if(a.candidates||(a.candidates=[]),a.candidates[t]||(a.candidates[t]={index:e.index}),a.candidates[t].citationMetadata=e.citationMetadata,a.candidates[t].finishReason=e.finishReason,a.candidates[t].finishMessage=e.finishMessage,a.candidates[t].safetyRatings=e.safetyRatings,e.content&&e.content.parts){a.candidates[t].content||(a.candidates[t].content={role:e.content.role||"user",parts:[]});const r={};for(const n of e.content.parts)n.text&&(r.text=n.text),n.functionCall&&(r.functionCall=n.functionCall),0===Object.keys(r).length&&(r.text=""),a.candidates[t].content.parts.push(r)}}return a}async function k(e,t,a,r){return function(e){const t=function(e){const t=e.getReader();return new ReadableStream({start(e){let a="";return function r(){return t.read().then((({value:t,done:n})=>{if(n)return a.trim()?void e.error(new u("Failed to parse stream")):void e.close();a+=t;let i,s=a.match(S);for(;s;){try{i=JSON.parse(s[1])}catch(t){return void e.error(new u(`Error parsing JSON response: "${s[1]}"`))}e.enqueue(i),a=a.substring(s[0].length),s=a.match(S)}return r()}))}()}})}(e.body.pipeThrough(new TextDecoderStream("utf8",{fatal:!0}))),[a,r]=t.tee();return{stream:E(a),response:C(r)}}(await v(t,f.STREAM_GENERATE_CONTENT,e,!0,JSON.stringify(a),r))}async function R(e,t,a,r){const n=await v(t,f.GENERATE_CONTENT,e,!1,JSON.stringify(a),r);return{response:_(await n.json())}}function j(e){let t=[];if("string"==typeof e)t=[{text:e}];else for(const a of e)"string"==typeof a?t.push({text:a}):t.push(a);return function(e){const t={role:"user",parts:[]},a={role:"function",parts:[]};let r=!1,n=!1;for(const i of e)"functionResponse"in i?(a.parts.push(i),n=!0):(t.parts.push(i),r=!0);if(r&&n)throw new u("Within a single message, FunctionResponse cannot be mixed with other type of part in the request for sending chat message.");if(!r&&!n)throw new u("No content is provided for sending chat message.");return r?t:a}(t)}function x(e){return e.contents?e:{contents:[j(e)]}}const N=["text","inlineData","functionCall","functionResponse"],M={user:["text","inlineData"],function:["functionResponse"],model:["text","functionCall"],system:["text"]},D={user:["model"],function:["model"],model:["user","function"],system:[]},L="SILENT_ERROR";class ${constructor(e,t,r,n){this.model=t,this.params=r,this.requestOptions=n,this._history=[],this._sendPromise=Promise.resolve(),this._apiKey=e,(null==r?void 0:r.history)&&(function(e){let t;for(const r of e){const{role:e,parts:n}=r;if(!t&&"user"!==e)throw new u(`First content should be with role 'user', got ${e}`);if(!a.includes(e))throw new u(`Each item should include role field. Got ${e} but valid roles are: ${JSON.stringify(a)}`);if(!Array.isArray(n))throw new u("Content should have 'parts' property with an array of Parts");if(0===n.length)throw new u("Each Content should have at least one part");const i={text:0,inlineData:0,functionCall:0,functionResponse:0};for(const e of n)for(const t of N)t in e&&(i[t]+=1);const s=M[e];for(const t of N)if(!s.includes(t)&&i[t]>0)throw new u(`Content with role '${e}' can't contain '${t}' part`);if(t&&!D[e].includes(t.role))throw new u(`Content with role '${e}' can't follow '${t.role}'. Valid previous roles: ${JSON.stringify(D)}`);t=r}}(r.history),this._history=r.history)}async getHistory(){return await this._sendPromise,this._history}async sendMessage(e){var t,a,r,n,i;await this._sendPromise;const s=j(e),o={safetySettings:null===(t=this.params)||void 0===t?void 0:t.safetySettings,generationConfig:null===(a=this.params)||void 0===a?void 0:a.generationConfig,tools:null===(r=this.params)||void 0===r?void 0:r.tools,toolConfig:null===(n=this.params)||void 0===n?void 0:n.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,contents:[...this._history,s]};let l;return this._sendPromise=this._sendPromise.then((()=>R(this._apiKey,this.model,o,this.requestOptions))).then((e=>{var t;if(e.response.candidates&&e.response.candidates.length>0){this._history.push(s);const a=Object.assign({parts:[],role:"model"},null===(t=e.response.candidates)||void 0===t?void 0:t[0].content);this._history.push(a)}else{const t=T(e.response);t&&console.warn(`sendMessage() was unsuccessful. ${t}. Inspect response object for details.`)}l=e})),await this._sendPromise,l}async sendMessageStream(e){var t,a,r,n,i;await this._sendPromise;const s=j(e),o={safetySettings:null===(t=this.params)||void 0===t?void 0:t.safetySettings,generationConfig:null===(a=this.params)||void 0===a?void 0:a.generationConfig,tools:null===(r=this.params)||void 0===r?void 0:r.tools,toolConfig:null===(n=this.params)||void 0===n?void 0:n.toolConfig,systemInstruction:null===(i=this.params)||void 0===i?void 0:i.systemInstruction,contents:[...this._history,s]},l=k(this._apiKey,this.model,o,this.requestOptions);return this._sendPromise=this._sendPromise.then((()=>l)).catch((e=>{throw new Error(L)})).then((e=>e.response)).then((e=>{if(e.candidates&&e.candidates.length>0){this._history.push(s);const t=Object.assign({},e.candidates[0].content);t.role||(t.role="model"),this._history.push(t)}else{const t=T(e);t&&console.warn(`sendMessageStream() was unsuccessful. ${t}. Inspect response object for details.`)}})).catch((e=>{e.message!==L&&console.error(e)})),l}}class F{constructor(e,t,a){this.apiKey=e,t.model.includes("/")?this.model=t.model:this.model=`models/${t.model}`,this.generationConfig=t.generationConfig||{},this.safetySettings=t.safetySettings||[],this.tools=t.tools,this.toolConfig=t.toolConfig,this.systemInstruction=t.systemInstruction,this.requestOptions=a||{}}async generateContent(e){const t=x(e);return R(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}async generateContentStream(e){const t=x(e);return k(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},t),this.requestOptions)}startChat(e){return new $(this.apiKey,this.model,Object.assign({generationConfig:this.generationConfig,safetySettings:this.safetySettings,tools:this.tools,toolConfig:this.toolConfig,systemInstruction:this.systemInstruction},e),this.requestOptions)}async countTokens(e){const t=x(e);return async function(e,t,a,r){return(await v(t,f.COUNT_TOKENS,e,!1,JSON.stringify(Object.assign(Object.assign({},a),{model:t})),r)).json()}(this.apiKey,this.model,t,this.requestOptions)}async embedContent(e){const t="string"==typeof(a=e)||Array.isArray(a)?{content:j(a)}:a;var a;return async function(e,t,a,r){return(await v(t,f.EMBED_CONTENT,e,!1,JSON.stringify(a),r)).json()}(this.apiKey,this.model,t,this.requestOptions)}async batchEmbedContents(e){return async function(e,t,a,r){const n=a.requests.map((e=>Object.assign(Object.assign({},e),{model:t})));return(await v(t,f.BATCH_EMBED_CONTENTS,e,!1,JSON.stringify({requests:n}),r)).json()}(this.apiKey,this.model,e,this.requestOptions)}}t.ChatSession=$,t.GenerativeModel=F,t.GoogleGenerativeAI=class{constructor(e){this.apiKey=e}getGenerativeModel(e,t){if(!e.model)throw new u("Must provide a model name. Example: genai.getGenerativeModel({ model: 'my-model-name' })");return new F(this.apiKey,e,t)}},t.POSSIBLE_ROLES=a},66584:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(14988);class n extends r.EventTarget{constructor(){throw super(),new TypeError("AbortSignal cannot be constructed directly")}get aborted(){const e=i.get(this);if("boolean"!=typeof e)throw new TypeError("Expected 'this' to be an 'AbortSignal' object, but got "+(null===this?"null":typeof this));return e}}r.defineEventAttribute(n.prototype,"abort");const i=new WeakMap;Object.defineProperties(n.prototype,{aborted:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(n.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortSignal"});class s{constructor(){o.set(this,function(){const e=Object.create(n.prototype);return r.EventTarget.call(e),i.set(e,!1),e}())}get signal(){return l(this)}abort(){var e;e=l(this),!1===i.get(e)&&(i.set(e,!0),e.dispatchEvent({type:"abort"}))}}const o=new WeakMap;function l(e){const t=o.get(e);if(null==t)throw new TypeError("Expected 'this' to be an 'AbortController' object, but got "+(null===e?"null":typeof e));return t}Object.defineProperties(s.prototype,{signal:{enumerable:!0},abort:{enumerable:!0}}),"function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(s.prototype,Symbol.toStringTag,{configurable:!0,value:"AbortController"}),t.AbortController=s,t.AbortSignal=n,t.default=s,e.exports=s,e.exports.AbortController=e.exports.default=s,e.exports.AbortSignal=n},95692:(e,t,a)=>{"use strict";e.exports=a(74593),e.exports.HttpsAgent=a(92251),e.exports.constants=a(78125)},74593:(e,t,a)=>{"use strict";const r=a(58611).Agent,n=a(53151),i=a(39023).debuglog("agentkeepalive"),{INIT_SOCKET:s,CURRENT_ID:o,CREATE_ID:l,SOCKET_CREATED_TIME:d,SOCKET_NAME:p,SOCKET_REQUEST_COUNT:u,SOCKET_REQUEST_FINISHED_COUNT:c}=a(78125);let m=1;const h=parseInt(process.version.split(".",1)[0].substring(1));function f(e){console.log("[agentkeepalive:deprecated] %s",e)}function b(e){return e.timeout||e._idleTimeout}function g(e){const t={};for(const a in e)t[a]=e[a].length;return t}h>=11&&h<=12?m=2:h>=13&&(m=3),e.exports=class extends r{constructor(e){(e=e||{}).keepAlive=!1!==e.keepAlive,void 0===e.freeSocketTimeout&&(e.freeSocketTimeout=4e3),e.keepAliveTimeout&&(f("options.keepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.keepAliveTimeout,delete e.keepAliveTimeout),e.freeSocketKeepAliveTimeout&&(f("options.freeSocketKeepAliveTimeout is deprecated, please use options.freeSocketTimeout instead"),e.freeSocketTimeout=e.freeSocketKeepAliveTimeout,delete e.freeSocketKeepAliveTimeout),void 0===e.timeout&&(e.timeout=Math.max(2*e.freeSocketTimeout,8e3)),e.timeout=n(e.timeout),e.freeSocketTimeout=n(e.freeSocketTimeout),e.socketActiveTTL=e.socketActiveTTL?n(e.socketActiveTTL):0,super(e),this[o]=0,this.createSocketCount=0,this.createSocketCountLastCheck=0,this.createSocketErrorCount=0,this.createSocketErrorCountLastCheck=0,this.closeSocketCount=0,this.closeSocketCountLastCheck=0,this.errorSocketCount=0,this.errorSocketCountLastCheck=0,this.requestCount=0,this.requestCountLastCheck=0,this.timeoutSocketCount=0,this.timeoutSocketCountLastCheck=0,this.on("free",(e=>{const t=this.calcSocketTimeout(e);t>0&&e.timeout!==t&&e.setTimeout(t)}))}get freeSocketKeepAliveTimeout(){return f("agent.freeSocketKeepAliveTimeout is deprecated, please use agent.options.freeSocketTimeout instead"),this.options.freeSocketTimeout}get timeout(){return f("agent.timeout is deprecated, please use agent.options.timeout instead"),this.options.timeout}get socketActiveTTL(){return f("agent.socketActiveTTL is deprecated, please use agent.options.socketActiveTTL instead"),this.options.socketActiveTTL}calcSocketTimeout(e){let t=this.options.freeSocketTimeout;const a=this.options.socketActiveTTL;if(a){const r=a-(Date.now()-e[d]);if(r<=0)return r;t&&r<t&&(t=r)}if(t)return e.freeSocketTimeout||e.freeSocketKeepAliveTimeout||t}keepSocketAlive(e){const t=super.keepSocketAlive(e);if(!t)return t;const a=this.calcSocketTimeout(e);return void 0===a||(a<=0?(i("%s(requests: %s, finished: %s) free but need to destroy by TTL, request count %s, diff is %s",e[p],e[u],e[c],a),!1):(e.timeout!==a&&e.setTimeout(a),!0))}reuseSocket(...e){super.reuseSocket(...e);const t=e[0];e[1].reusedSocket=!0;const a=this.options.timeout;b(t)!==a&&(t.setTimeout(a),i("%s reset timeout to %sms",t[p],a)),t[u]++,i("%s(requests: %s, finished: %s) reuse on addRequest, timeout %sms",t[p],t[u],t[c],b(t))}[l](){const e=this[o]++;return this[o]===Number.MAX_SAFE_INTEGER&&(this[o]=0),e}[s](e,t){t.timeout&&(b(e)||e.setTimeout(t.timeout)),this.options.keepAlive&&e.setNoDelay(!0),this.createSocketCount++,this.options.socketActiveTTL&&(e[d]=Date.now()),e[p]=`sock[${this[l]()}#${t._agentKey}]`.split("-----BEGIN",1)[0],e[u]=1,e[c]=0,function(e,t,a){function r(){if(!t._httpMessage&&1===t[u])return;t[c]++,e.requestCount++,i("%s(requests: %s, finished: %s) free",t[p],t[u],t[c]);const r=e.getName(a);t.writable&&e.requests[r]&&e.requests[r].length&&(t[u]++,i("%s(requests: %s, finished: %s) will be reuse on agent free event",t[p],t[u],t[c]))}function n(a){i("%s(requests: %s, finished: %s) close, isError: %s",t[p],t[u],t[c],a),e.closeSocketCount++}function s(){const r=t.listeners("timeout").length,n=b(t),s=t._httpMessage,o=s&&s.listeners("timeout").length||0;i("%s(requests: %s, finished: %s) timeout after %sms, listeners %s, defaultTimeoutListenerCount %s, hasHttpRequest %s, HttpRequest timeoutListenerCount %s",t[p],t[u],t[c],n,r,m,!!s,o),i.enabled&&i("timeout listeners: %s",t.listeners("timeout").map((e=>e.name)).join(", ")),e.timeoutSocketCount++;const l=e.getName(a);if(e.freeSockets[l]&&-1!==e.freeSockets[l].indexOf(t))t.destroy(),e.removeSocket(t,a),i("%s is free, destroy quietly",t[p]);else if(0===o){const r=new Error("Socket timeout");r.code="ERR_SOCKET_TIMEOUT",r.timeout=n,t.destroy(r),e.removeSocket(t,a),i("%s destroy with timeout error",t[p])}}function o(a){const r=t.listeners("error").length;i("%s(requests: %s, finished: %s) error: %s, listenerCount: %s",t[p],t[u],t[c],a,r),e.errorSocketCount++,1===r&&(i("%s emit uncaught error event",t[p]),t.removeListener("error",o),t.emit("error",a))}i("%s create, timeout %sms",t[p],b(t)),t.on("free",r),t.on("close",n),t.on("timeout",s),t.on("error",o),t.on("agentRemove",(function e(){i("%s(requests: %s, finished: %s) agentRemove",t[p],t[u],t[c]),t.removeListener("close",n),t.removeListener("error",o),t.removeListener("free",r),t.removeListener("timeout",s),t.removeListener("agentRemove",e)}))}(this,e,t)}createConnection(e,t){let a=!1;const r=(r,n)=>{if(!a){if(a=!0,r)return this.createSocketErrorCount++,t(r);this[s](n,e),t(r,n)}},n=super.createConnection(e,r);return n&&r(null,n),n}get statusChanged(){const e=this.createSocketCount!==this.createSocketCountLastCheck||this.createSocketErrorCount!==this.createSocketErrorCountLastCheck||this.closeSocketCount!==this.closeSocketCountLastCheck||this.errorSocketCount!==this.errorSocketCountLastCheck||this.timeoutSocketCount!==this.timeoutSocketCountLastCheck||this.requestCount!==this.requestCountLastCheck;return e&&(this.createSocketCountLastCheck=this.createSocketCount,this.createSocketErrorCountLastCheck=this.createSocketErrorCount,this.closeSocketCountLastCheck=this.closeSocketCount,this.errorSocketCountLastCheck=this.errorSocketCount,this.timeoutSocketCountLastCheck=this.timeoutSocketCount,this.requestCountLastCheck=this.requestCount),e}getCurrentStatus(){return{createSocketCount:this.createSocketCount,createSocketErrorCount:this.createSocketErrorCount,closeSocketCount:this.closeSocketCount,errorSocketCount:this.errorSocketCount,timeoutSocketCount:this.timeoutSocketCount,requestCount:this.requestCount,freeSockets:g(this.freeSockets),sockets:g(this.sockets),requests:g(this.requests)}}}},78125:e=>{"use strict";e.exports={CURRENT_ID:Symbol("agentkeepalive#currentId"),CREATE_ID:Symbol("agentkeepalive#createId"),INIT_SOCKET:Symbol("agentkeepalive#initSocket"),CREATE_HTTPS_CONNECTION:Symbol("agentkeepalive#createHttpsConnection"),SOCKET_CREATED_TIME:Symbol("agentkeepalive#socketCreatedTime"),SOCKET_NAME:Symbol("agentkeepalive#socketName"),SOCKET_REQUEST_COUNT:Symbol("agentkeepalive#socketRequestCount"),SOCKET_REQUEST_FINISHED_COUNT:Symbol("agentkeepalive#socketRequestFinishedCount")}},92251:(e,t,a)=>{"use strict";const r=a(65692).Agent,n=a(74593),{INIT_SOCKET:i,CREATE_HTTPS_CONNECTION:s}=a(78125);class o extends n{constructor(e){super(e),this.defaultPort=443,this.protocol="https:",this.maxCachedSessions=this.options.maxCachedSessions,void 0===this.maxCachedSessions&&(this.maxCachedSessions=100),this._sessionCache={map:{},list:[]}}createConnection(e,t){const a=this[s](e,t);return this[i](a,e),a}}o.prototype[s]=r.prototype.createConnection,["getName","_getSession","_cacheSession","_evictSession"].forEach((function(e){"function"==typeof r.prototype[e]&&(o.prototype[e]=r.prototype[e])})),e.exports=o},94083:(e,t,a)=>{"use strict";e=a.nmd(e);const r=(e=0)=>t=>`[${38+e};5;${t}m`,n=(e=0)=>(t,a,r)=>`[${38+e};2;${t};${a};${r}m`;Object.defineProperty(e,"exports",{enumerable:!0,get:function(){const e=new Map,t={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};t.color.gray=t.color.blackBright,t.bgColor.bgGray=t.bgColor.bgBlackBright,t.color.grey=t.color.blackBright,t.bgColor.bgGrey=t.bgColor.bgBlackBright;for(const[a,r]of Object.entries(t)){for(const[a,n]of Object.entries(r))t[a]={open:`[${n[0]}m`,close:`[${n[1]}m`},r[a]=t[a],e.set(n[0],n[1]);Object.defineProperty(t,a,{value:r,enumerable:!1})}return Object.defineProperty(t,"codes",{value:e,enumerable:!1}),t.color.close="[39m",t.bgColor.close="[49m",t.color.ansi256=r(),t.color.ansi16m=n(),t.bgColor.ansi256=r(10),t.bgColor.ansi16m=n(10),Object.defineProperties(t,{rgbToAnsi256:{value:(e,t,a)=>e===t&&t===a?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(a/255*5),enumerable:!1},hexToRgb:{value:e=>{const t=/(?<colorString>[a-f\d]{6}|[a-f\d]{3})/i.exec(e.toString(16));if(!t)return[0,0,0];let{colorString:a}=t.groups;3===a.length&&(a=a.split("").map((e=>e+e)).join(""));const r=Number.parseInt(a,16);return[r>>16&255,r>>8&255,255&r]},enumerable:!1},hexToAnsi256:{value:e=>t.rgbToAnsi256(...t.hexToRgb(e)),enumerable:!1}}),t}})},67526:(e,t)=>{"use strict";t.byteLength=function(e){var t=o(e),a=t[0],r=t[1];return 3*(a+r)/4-r},t.toByteArray=function(e){var t,a,i=o(e),s=i[0],l=i[1],d=new n(function(e,t,a){return 3*(t+a)/4-a}(0,s,l)),p=0,u=l>0?s-4:s;for(a=0;a<u;a+=4)t=r[e.charCodeAt(a)]<<18|r[e.charCodeAt(a+1)]<<12|r[e.charCodeAt(a+2)]<<6|r[e.charCodeAt(a+3)],d[p++]=t>>16&255,d[p++]=t>>8&255,d[p++]=255&t;return 2===l&&(t=r[e.charCodeAt(a)]<<2|r[e.charCodeAt(a+1)]>>4,d[p++]=255&t),1===l&&(t=r[e.charCodeAt(a)]<<10|r[e.charCodeAt(a+1)]<<4|r[e.charCodeAt(a+2)]>>2,d[p++]=t>>8&255,d[p++]=255&t),d},t.fromByteArray=function(e){for(var t,r=e.length,n=r%3,i=[],s=16383,o=0,d=r-n;o<d;o+=s)i.push(l(e,o,o+s>d?d:o+s));return 1===n?(t=e[r-1],i.push(a[t>>2]+a[t<<4&63]+"==")):2===n&&(t=(e[r-2]<<8)+e[r-1],i.push(a[t>>10]+a[t>>4&63]+a[t<<2&63]+"=")),i.join("")};for(var a=[],r=[],n="undefined"!=typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0;s<64;++s)a[s]=i[s],r[i.charCodeAt(s)]=s;function o(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.indexOf("=");return-1===a&&(a=t),[a,a===t?0:4-a%4]}function l(e,t,r){for(var n,i,s=[],o=t;o<r;o+=3)n=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(a[(i=n)>>18&63]+a[i>>12&63]+a[i>>6&63]+a[63&i]);return s.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},12729:e=>{"use strict";const t=/[\p{Lu}]/u,a=/[\p{Ll}]/u,r=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,s=new RegExp("^"+i.source),o=new RegExp(i.source+n.source,"gu"),l=new RegExp("\\d+"+n.source,"gu"),d=(e,n)=>{if("string"!=typeof e&&!Array.isArray(e))throw new TypeError("Expected the input to be `string | string[]`");if(n={pascalCase:!1,preserveConsecutiveUppercase:!1,...n},0===(e=Array.isArray(e)?e.map((e=>e.trim())).filter((e=>e.length)).join("-"):e.trim()).length)return"";const i=!1===n.locale?e=>e.toLowerCase():e=>e.toLocaleLowerCase(n.locale),d=!1===n.locale?e=>e.toUpperCase():e=>e.toLocaleUpperCase(n.locale);return 1===e.length?n.pascalCase?d(e):i(e):(e!==i(e)&&(e=((e,r,n)=>{let i=!1,s=!1,o=!1;for(let l=0;l<e.length;l++){const d=e[l];i&&t.test(d)?(e=e.slice(0,l)+"-"+e.slice(l),i=!1,o=s,s=!0,l++):s&&o&&a.test(d)?(e=e.slice(0,l-1)+"-"+e.slice(l-1),o=s,s=!1,i=!0):(i=r(d)===d&&n(d)!==d,o=s,s=n(d)===d&&r(d)!==d)}return e})(e,i,d)),e=e.replace(s,""),e=n.preserveConsecutiveUppercase?((e,t)=>(r.lastIndex=0,e.replace(r,(e=>t(e)))))(e,i):i(e),n.pascalCase&&(e=d(e.charAt(0))+e.slice(1)),((e,t)=>(o.lastIndex=0,l.lastIndex=0,e.replace(o,((e,a)=>t(a))).replace(l,(e=>t(e)))))(e,d))};e.exports=d,e.exports.default=d},79478:e=>{"use strict";e.exports=function(e,t){if("string"!=typeof e)throw new TypeError("Expected a string");return t=void 0===t?"_":t,e.replace(/([a-z\d])([A-Z])/g,"$1"+t+"$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1"+t+"$2").toLowerCase()}},14988:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=new WeakMap,r=new WeakMap;function n(e){const t=a.get(e);return console.assert(null!=t,"'this' is expected an Event object, but got",e),t}function i(e){null==e.passiveListener?e.event.cancelable&&(e.canceled=!0,"function"==typeof e.event.preventDefault&&e.event.preventDefault()):"undefined"!=typeof console&&"function"==typeof console.error&&console.error("Unable to preventDefault inside passive event listener invocation.",e.passiveListener)}function s(e,t){a.set(this,{eventTarget:e,event:t,eventPhase:2,currentTarget:e,canceled:!1,stopped:!1,immediateStopped:!1,passiveListener:null,timeStamp:t.timeStamp||Date.now()}),Object.defineProperty(this,"isTrusted",{value:!1,enumerable:!0});const r=Object.keys(t);for(let e=0;e<r.length;++e){const t=r[e];t in this||Object.defineProperty(this,t,o(t))}}function o(e){return{get(){return n(this).event[e]},set(t){n(this).event[e]=t},configurable:!0,enumerable:!0}}function l(e){return{value(){const t=n(this).event;return t[e].apply(t,arguments)},configurable:!0,enumerable:!0}}function d(e){if(null==e||e===Object.prototype)return s;let t=r.get(e);return null==t&&(t=function(e,t){const a=Object.keys(t);if(0===a.length)return e;function r(t,a){e.call(this,t,a)}r.prototype=Object.create(e.prototype,{constructor:{value:r,configurable:!0,writable:!0}});for(let n=0;n<a.length;++n){const i=a[n];if(!(i in e.prototype)){const e="function"==typeof Object.getOwnPropertyDescriptor(t,i).value;Object.defineProperty(r.prototype,i,e?l(i):o(i))}}return r}(d(Object.getPrototypeOf(e)),e),r.set(e,t)),t}function p(e){return n(e).immediateStopped}function u(e,t){n(e).passiveListener=t}s.prototype={get type(){return n(this).event.type},get target(){return n(this).eventTarget},get currentTarget(){return n(this).currentTarget},composedPath(){const e=n(this).currentTarget;return null==e?[]:[e]},get NONE(){return 0},get CAPTURING_PHASE(){return 1},get AT_TARGET(){return 2},get BUBBLING_PHASE(){return 3},get eventPhase(){return n(this).eventPhase},stopPropagation(){const e=n(this);e.stopped=!0,"function"==typeof e.event.stopPropagation&&e.event.stopPropagation()},stopImmediatePropagation(){const e=n(this);e.stopped=!0,e.immediateStopped=!0,"function"==typeof e.event.stopImmediatePropagation&&e.event.stopImmediatePropagation()},get bubbles(){return Boolean(n(this).event.bubbles)},get cancelable(){return Boolean(n(this).event.cancelable)},preventDefault(){i(n(this))},get defaultPrevented(){return n(this).canceled},get composed(){return Boolean(n(this).event.composed)},get timeStamp(){return n(this).timeStamp},get srcElement(){return n(this).eventTarget},get cancelBubble(){return n(this).stopped},set cancelBubble(e){if(!e)return;const t=n(this);t.stopped=!0,"boolean"==typeof t.event.cancelBubble&&(t.event.cancelBubble=!0)},get returnValue(){return!n(this).canceled},set returnValue(e){e||i(n(this))},initEvent(){}},Object.defineProperty(s.prototype,"constructor",{value:s,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.Event&&(Object.setPrototypeOf(s.prototype,window.Event.prototype),r.set(window.Event.prototype,s));const c=new WeakMap,m=3;function h(e){return null!==e&&"object"==typeof e}function f(e){const t=c.get(e);if(null==t)throw new TypeError("'this' is expected an EventTarget object, but got another value.");return t}function b(e,t){Object.defineProperty(e,`on${t}`,function(e){return{get(){let t=f(this).get(e);for(;null!=t;){if(t.listenerType===m)return t.listener;t=t.next}return null},set(t){"function"==typeof t||h(t)||(t=null);const a=f(this);let r=null,n=a.get(e);for(;null!=n;)n.listenerType===m?null!==r?r.next=n.next:null!==n.next?a.set(e,n.next):a.delete(e):r=n,n=n.next;if(null!==t){const n={listener:t,listenerType:m,passive:!1,once:!1,next:null};null===r?a.set(e,n):r.next=n}},configurable:!0,enumerable:!0}}(t))}function g(e){function t(){v.call(this)}t.prototype=Object.create(v.prototype,{constructor:{value:t,configurable:!0,writable:!0}});for(let a=0;a<e.length;++a)b(t.prototype,e[a]);return t}function v(){if(!(this instanceof v)){if(1===arguments.length&&Array.isArray(arguments[0]))return g(arguments[0]);if(arguments.length>0){const e=new Array(arguments.length);for(let t=0;t<arguments.length;++t)e[t]=arguments[t];return g(e)}throw new TypeError("Cannot call a class as a function")}c.set(this,new Map)}v.prototype={addEventListener(e,t,a){if(null==t)return;if("function"!=typeof t&&!h(t))throw new TypeError("'listener' should be a function or an object.");const r=f(this),n=h(a),i=(n?Boolean(a.capture):Boolean(a))?1:2,s={listener:t,listenerType:i,passive:n&&Boolean(a.passive),once:n&&Boolean(a.once),next:null};let o=r.get(e);if(void 0===o)return void r.set(e,s);let l=null;for(;null!=o;){if(o.listener===t&&o.listenerType===i)return;l=o,o=o.next}l.next=s},removeEventListener(e,t,a){if(null==t)return;const r=f(this),n=(h(a)?Boolean(a.capture):Boolean(a))?1:2;let i=null,s=r.get(e);for(;null!=s;){if(s.listener===t&&s.listenerType===n)return void(null!==i?i.next=s.next:null!==s.next?r.set(e,s.next):r.delete(e));i=s,s=s.next}},dispatchEvent(e){if(null==e||"string"!=typeof e.type)throw new TypeError('"event.type" should be a string.');const t=f(this),a=e.type;let r=t.get(a);if(null==r)return!0;const i=function(e,t){return new(d(Object.getPrototypeOf(t)))(e,t)}(this,e);let s=null;for(;null!=r;){if(r.once?null!==s?s.next=r.next:null!==r.next?t.set(a,r.next):t.delete(a):s=r,u(i,r.passive?r.listener:null),"function"==typeof r.listener)try{r.listener.call(this,i)}catch(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e)}else r.listenerType!==m&&"function"==typeof r.listener.handleEvent&&r.listener.handleEvent(i);if(p(i))break;r=r.next}return u(i,null),function(e,t){n(e).eventPhase=0}(i),function(e,t){n(e).currentTarget=null}(i),!i.defaultPrevented}},Object.defineProperty(v.prototype,"constructor",{value:v,configurable:!0,writable:!0}),"undefined"!=typeof window&&void 0!==window.EventTarget&&Object.setPrototypeOf(v.prototype,window.EventTarget.prototype),t.defineEventAttribute=b,t.EventTarget=v,t.default=v,e.exports=v,e.exports.EventTarget=e.exports.default=v,e.exports.defineEventAttribute=b},30228:e=>{"use strict";var t=Object.prototype.hasOwnProperty,a="~";function r(){}function n(e,t,a){this.fn=e,this.context=t,this.once=a||!1}function i(e,t,r,i,s){if("function"!=typeof r)throw new TypeError("The listener must be a function");var o=new n(r,i||e,s),l=a?a+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],o]:e._events[l].push(o):(e._events[l]=o,e._eventsCount++),e}function s(e,t){0==--e._eventsCount?e._events=new r:delete e._events[t]}function o(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(a=!1)),o.prototype.eventNames=function(){var e,r,n=[];if(0===this._eventsCount)return n;for(r in e=this._events)t.call(e,r)&&n.push(a?r.slice(1):r);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},o.prototype.listeners=function(e){var t=a?a+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var n=0,i=r.length,s=new Array(i);n<i;n++)s[n]=r[n].fn;return s},o.prototype.listenerCount=function(e){var t=a?a+e:e,r=this._events[t];return r?r.fn?1:r.length:0},o.prototype.emit=function(e,t,r,n,i,s){var o=a?a+e:e;if(!this._events[o])return!1;var l,d,p=this._events[o],u=arguments.length;if(p.fn){switch(p.once&&this.removeListener(e,p.fn,void 0,!0),u){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,t),!0;case 3:return p.fn.call(p.context,t,r),!0;case 4:return p.fn.call(p.context,t,r,n),!0;case 5:return p.fn.call(p.context,t,r,n,i),!0;case 6:return p.fn.call(p.context,t,r,n,i,s),!0}for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];p.fn.apply(p.context,l)}else{var c,m=p.length;for(d=0;d<m;d++)switch(p[d].once&&this.removeListener(e,p[d].fn,void 0,!0),u){case 1:p[d].fn.call(p[d].context);break;case 2:p[d].fn.call(p[d].context,t);break;case 3:p[d].fn.call(p[d].context,t,r);break;case 4:p[d].fn.call(p[d].context,t,r,n);break;default:if(!l)for(c=1,l=new Array(u-1);c<u;c++)l[c-1]=arguments[c];p[d].fn.apply(p[d].context,l)}}return!0},o.prototype.on=function(e,t,a){return i(this,e,t,a,!1)},o.prototype.once=function(e,t,a){return i(this,e,t,a,!0)},o.prototype.removeListener=function(e,t,r,n){var i=a?a+e:e;if(!this._events[i])return this;if(!t)return s(this,i),this;var o=this._events[i];if(o.fn)o.fn!==t||n&&!o.once||r&&o.context!==r||s(this,i);else{for(var l=0,d=[],p=o.length;l<p;l++)(o[l].fn!==t||n&&!o[l].once||r&&o[l].context!==r)&&d.push(o[l]);d.length?this._events[i]=1===d.length?d[0]:d:s(this,i)}return this},o.prototype.removeAllListeners=function(e){var t;return e?(t=a?a+e:e,this._events[t]&&s(this,t)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=a,o.EventEmitter=o,e.exports=o},3476:function(e,t){!function(e){"use strict";const t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function a(){}function r(e){return"object"==typeof e&&null!==e||"function"==typeof e}const n=a;function i(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}const s=Promise,o=Promise.prototype.then,l=Promise.resolve.bind(s),d=Promise.reject.bind(s);function p(e){return new s(e)}function u(e){return l(e)}function c(e){return d(e)}function m(e,t,a){return o.call(e,t,a)}function h(e,t,a){m(m(e,t,a),void 0,n)}function f(e,t){h(e,t)}function b(e,t){h(e,void 0,t)}function g(e,t,a){return m(e,t,a)}function v(e){m(e,void 0,n)}let y=e=>{if("function"==typeof queueMicrotask)y=queueMicrotask;else{const e=u(void 0);y=t=>m(e,t)}return y(e)};function _(e,t,a){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function w(e,t,a){try{return u(_(e,t,a))}catch(e){return c(e)}}class P{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let a=t;16383===t._elements.length&&(a={_elements:[],_next:void 0}),t._elements.push(e),a!==t&&(this._back=a,t._next=a),++this._size}shift(){const e=this._front;let t=e;const a=this._cursor;let r=a+1;const n=e._elements,i=n[a];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),n[a]=void 0,i}forEach(e){let t=this._cursor,a=this._front,r=a._elements;for(;!(t===r.length&&void 0===a._next||t===r.length&&(a=a._next,r=a._elements,t=0,0===r.length));)e(r[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const O=t("[[AbortSteps]]"),T=t("[[ErrorSteps]]"),A=t("[[CancelSteps]]"),S=t("[[PullSteps]]"),C=t("[[ReleaseSteps]]");function E(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?j(e):"closed"===t._state?function(e){j(e),M(e)}(e):x(e,t._storedError)}function I(e,t){return ta(e._ownerReadableStream,t)}function k(e){const t=e._ownerReadableStream;"readable"===t._state?N(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){x(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[C](),t._reader=void 0,e._ownerReadableStream=void 0}function R(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function j(e){e._closedPromise=p(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a}))}function x(e,t){j(e),N(e,t)}function N(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function M(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const D=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},L=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function $(e,t){if(void 0!==e&&"object"!=typeof(a=e)&&"function"!=typeof a)throw new TypeError(`${t} is not an object.`);var a}function F(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function q(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function V(e,t,a){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function B(e,t,a){if(void 0===e)throw new TypeError(`${t} is required in '${a}'.`)}function z(e){return Number(e)}function U(e){return 0===e?0:e}function K(e,t){const a=Number.MAX_SAFE_INTEGER;let r=Number(e);if(r=U(r),!D(r))throw new TypeError(`${t} is not a finite number`);if(r=function(e){return U(L(e))}(r),r<0||r>a)throw new TypeError(`${t} is outside the accepted range of 0 to ${a}, inclusive`);return D(r)&&0!==r?r:0}function Z(e){if(!r(e))return!1;if("function"!=typeof e.getReader)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function W(e){if(!r(e))return!1;if("function"!=typeof e.getWriter)return!1;try{return"boolean"==typeof e.locked}catch(e){return!1}}function H(e,t){if(!Xt(e))throw new TypeError(`${t} is not a ReadableStream.`)}function G(e,t){e._reader._readRequests.push(t)}function J(e,t,a){const r=e._reader._readRequests.shift();a?r._closeSteps():r._chunkSteps(t)}function Y(e){return e._reader._readRequests.length}function Q(e){const t=e._reader;return void 0!==t&&!!ee(t)}class X{constructor(e){if(V(e,1,"ReadableStreamDefaultReader"),H(e,"First parameter"),ea(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");E(this,e),this._readRequests=new P}get closed(){return ee(this)?this._closedPromise:c(ae("closed"))}cancel(e){return ee(this)?void 0===this._ownerReadableStream?c(R("cancel")):I(this,e):c(ae("cancel"))}read(){if(!ee(this))return c(ae("read"));if(void 0===this._ownerReadableStream)return c(R("read from"));let e,t;const a=p(((a,r)=>{e=a,t=r}));return function(e,t){const a=e._ownerReadableStream;a._disturbed=!0,"closed"===a._state?t._closeSteps():"errored"===a._state?t._errorSteps(a._storedError):a._readableStreamController[S](t)}(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),a}releaseLock(){if(!ee(this))throw ae("releaseLock");void 0!==this._ownerReadableStream&&function(e){k(e),te(e,new TypeError("Reader was released"))}(this)}}function ee(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof X}function te(e,t){const a=e._readRequests;e._readRequests=new P,a.forEach((e=>{e._errorSteps(t)}))}function ae(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(X.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(X.prototype.cancel,"cancel"),i(X.prototype.read,"read"),i(X.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(X.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});class re{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?g(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?g(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;return void 0===e?c(R("iterate")):m(e.read(),(e=>{var t;return this._ongoingPromise=void 0,e.done&&(this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0),e}),(e=>{var t;throw this._ongoingPromise=void 0,this._isFinished=!0,null===(t=this._reader)||void 0===t||t.releaseLock(),this._reader=void 0,e}))}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t)return c(R("finish iterating"));if(this._reader=void 0,!this._preventCancel){const a=t.cancel(e);return t.releaseLock(),g(a,(()=>({value:e,done:!0})))}return t.releaseLock(),u({value:e,done:!0})}}const ne={next(){return ie(this)?this._asyncIteratorImpl.next():c(se("next"))},return(e){return ie(this)?this._asyncIteratorImpl.return(e):c(se("return"))}};function ie(e){if(!r(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof re}catch(e){return!1}}function se(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}"symbol"==typeof t.asyncIterator&&Object.defineProperty(ne,t.asyncIterator,{value(){return this},writable:!0,configurable:!0});const oe=Number.isNaN||function(e){return e!=e};function le(e,t,a,r,n){new Uint8Array(e).set(new Uint8Array(a,r,n),t)}function de(e){const t=function(e,t,a){if(e.slice)return e.slice(t,a);const r=a-t,n=new ArrayBuffer(r);return le(n,0,e,t,r),n}(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function pe(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function ue(e,t,a){if("number"!=typeof(r=a)||oe(r)||r<0||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function ce(e){e._queue=new P,e._queueTotalSize=0}class me{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!be(this))throw Me("view");return this._view}respond(e){if(!be(this))throw Me("respond");if(V(e,1,"respond"),e=K(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=a.buffer,Ie(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!be(this))throw Me("respondWithNewView");if(V(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");e.buffer,function(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=t.byteLength;a.buffer=t.buffer,Ie(e,r)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(me.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),i(me.prototype.respond,"respond"),i(me.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof t.toStringTag&&Object.defineProperty(me.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class he{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!fe(this))throw De("byobRequest");return function(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(me.prototype);!function(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}(r,e,a),e._byobRequest=r}return e._byobRequest}(this)}get desiredSize(){if(!fe(this))throw De("desiredSize");return Ne(this)}close(){if(!fe(this))throw De("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw je(e,t),t}Re(e),aa(t)}}(this)}enqueue(e){if(!fe(this))throw De("enqueue");if(V(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){const a=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==a._state)return;const r=t.buffer,n=t.byteOffset,i=t.byteLength,s=r;if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();t.buffer,Ce(e),t.buffer=t.buffer,"none"===t.readerType&&Oe(e,t)}Q(a)?(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;xe(e,t._readRequests.shift())}}(e),0===Y(a)?we(e,s,n,i):(e._pendingPullIntos.length>0&&ke(e),J(a,new Uint8Array(s,n,i),!1))):Fe(a)?(we(e,s,n,i),Ee(e)):we(e,s,n,i),ge(e)}(this,e)}error(e){if(!fe(this))throw De("error");je(this,e)}[A](e){ve(this),ce(this);const t=this._cancelAlgorithm(e);return Re(this),t}[S](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void xe(this,e);const a=this._autoAllocateChunkSize;if(void 0!==a){let r;try{r=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}const n={buffer:r,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}G(t,e),ge(this)}[C](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new P,this._pendingPullIntos.push(e)}}}function fe(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof he}function be(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof me}function ge(e){const t=function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Q(t)&&Y(t)>0)||!!(Fe(t)&&$e(t)>0)||Ne(e)>0)}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ge(e)),null)),(t=>(je(e,t),null)))))}function ve(e){Ce(e),e._pendingPullIntos=new P}function ye(e,t){let a=!1;"closed"===e._state&&(a=!0);const r=_e(t);"default"===t.readerType?J(e,r,a):function(e,t,a){const r=e._reader._readIntoRequests.shift();a?r._closeSteps(t):r._chunkSteps(t)}(e,r,a)}function _e(e){const t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function we(e,t,a,r){e._queue.push({buffer:t,byteOffset:a,byteLength:r}),e._queueTotalSize+=r}function Pe(e,t,a,r){let n;try{n=t.slice(a,a+r)}catch(t){throw je(e,t),t}we(e,n,0,r)}function Oe(e,t){t.bytesFilled>0&&Pe(e,t.buffer,t.byteOffset,t.bytesFilled),ke(e)}function Te(e,t){const a=t.elementSize,r=t.bytesFilled-t.bytesFilled%a,n=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),i=t.bytesFilled+n,s=i-i%a;let o=n,l=!1;s>r&&(o=s-t.bytesFilled,l=!0);const d=e._queue;for(;o>0;){const a=d.peek(),r=Math.min(o,a.byteLength),n=t.byteOffset+t.bytesFilled;le(t.buffer,n,a.buffer,a.byteOffset,r),a.byteLength===r?d.shift():(a.byteOffset+=r,a.byteLength-=r),e._queueTotalSize-=r,Ae(0,r,t),o-=r}return l}function Ae(e,t,a){a.bytesFilled+=t}function Se(e){0===e._queueTotalSize&&e._closeRequested?(Re(e),aa(e._controlledReadableByteStream)):ge(e)}function Ce(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ee(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Te(e,t)&&(ke(e),ye(e._controlledReadableByteStream,t))}}function Ie(e,t){const a=e._pendingPullIntos.peek();Ce(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&ke(e);const a=e._controlledReadableByteStream;if(Fe(a))for(;$e(a)>0;)ye(a,ke(e))}(e,a):function(e,t,a){if(Ae(0,t,a),"none"===a.readerType)return Oe(e,a),void Ee(e);if(a.bytesFilled<a.elementSize)return;ke(e);const r=a.bytesFilled%a.elementSize;if(r>0){const t=a.byteOffset+a.bytesFilled;Pe(e,a.buffer,t-r,r)}a.bytesFilled-=r,ye(e._controlledReadableByteStream,a),Ee(e)}(e,t,a),ge(e)}function ke(e){return e._pendingPullIntos.shift()}function Re(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function je(e,t){const a=e._controlledReadableByteStream;"readable"===a._state&&(ve(e),ce(e),Re(e),ra(a,t))}function xe(e,t){const a=e._queue.shift();e._queueTotalSize-=a.byteLength,Se(e);const r=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t._chunkSteps(r)}function Ne(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Me(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function De(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Le(e,t){e._reader._readIntoRequests.push(t)}function $e(e){return e._reader._readIntoRequests.length}function Fe(e){const t=e._reader;return void 0!==t&&!!Ve(t)}Object.defineProperties(he.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),i(he.prototype.close,"close"),i(he.prototype.enqueue,"enqueue"),i(he.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty(he.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class qe{constructor(e){if(V(e,1,"ReadableStreamBYOBReader"),H(e,"First parameter"),ea(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!fe(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");E(this,e),this._readIntoRequests=new P}get closed(){return Ve(this)?this._closedPromise:c(ze("closed"))}cancel(e){return Ve(this)?void 0===this._ownerReadableStream?c(R("cancel")):I(this,e):c(ze("cancel"))}read(e){if(!Ve(this))return c(ze("read"));if(!ArrayBuffer.isView(e))return c(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return c(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return c(new TypeError("view's buffer must have non-zero byteLength"));if(e.buffer,void 0===this._ownerReadableStream)return c(R("read from"));let t,a;const r=p(((e,r)=>{t=e,a=r}));return function(e,t,a){const r=e._ownerReadableStream;r._disturbed=!0,"errored"===r._state?a._errorSteps(r._storedError):function(e,t,a){const r=e._controlledReadableByteStream;let n=1;t.constructor!==DataView&&(n=t.constructor.BYTES_PER_ELEMENT);const i=t.constructor,s=t.buffer,o={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:n,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(o),void Le(r,a);if("closed"!==r._state){if(e._queueTotalSize>0){if(Te(e,o)){const t=_e(o);return Se(e),void a._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return je(e,t),void a._errorSteps(t)}}e._pendingPullIntos.push(o),Le(r,a),ge(e)}else{const e=new i(o.buffer,o.byteOffset,0);a._closeSteps(e)}}(r._readableStreamController,t,a)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>a(e)}),r}releaseLock(){if(!Ve(this))throw ze("releaseLock");void 0!==this._ownerReadableStream&&function(e){k(e),Be(e,new TypeError("Reader was released"))}(this)}}function Ve(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof qe}function Be(e,t){const a=e._readIntoRequests;e._readIntoRequests=new P,a.forEach((e=>{e._errorSteps(t)}))}function ze(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Ue(e,t){const{highWaterMark:a}=e;if(void 0===a)return t;if(oe(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function Ke(e){const{size:t}=e;return t||(()=>1)}function Ze(e,t){$(e,t);const a=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===a?void 0:z(a),size:void 0===r?void 0:We(r,`${t} has member 'size' that`)}}function We(e,t){return F(e,t),t=>z(e(t))}function He(e,t,a){return F(e,a),a=>w(e,t,[a])}function Ge(e,t,a){return F(e,a),()=>w(e,t,[])}function Je(e,t,a){return F(e,a),a=>_(e,t,[a])}function Ye(e,t,a){return F(e,a),(a,r)=>w(e,t,[a,r])}Object.defineProperties(qe.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),i(qe.prototype.cancel,"cancel"),i(qe.prototype.read,"read"),i(qe.prototype.releaseLock,"releaseLock"),"symbol"==typeof t.toStringTag&&Object.defineProperty(qe.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const Qe="function"==typeof AbortController;class Xe{constructor(e={},t={}){void 0===e?e=null:q(e,"First parameter");const a=Ze(t,"Second parameter"),r=function(e,t){$(e,t);const a=null==e?void 0:e.abort,r=null==e?void 0:e.close,n=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===a?void 0:He(a,e,`${t} has member 'abort' that`),close:void 0===r?void 0:Ge(r,e,`${t} has member 'close' that`),start:void 0===n?void 0:Je(n,e,`${t} has member 'start' that`),write:void 0===s?void 0:Ye(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");var n;if((n=this)._state="writable",n._storedError=void 0,n._writer=void 0,n._writableStreamController=void 0,n._writeRequests=new P,n._inFlightWriteRequest=void 0,n._closeRequest=void 0,n._inFlightCloseRequest=void 0,n._pendingAbortRequest=void 0,n._backpressure=!1,void 0!==r.type)throw new RangeError("Invalid type is specified");const i=Ke(a);!function(e,t,a,r){const n=Object.create(ht.prototype);let i,s,o,l;i=void 0!==t.start?()=>t.start(n):()=>{},s=void 0!==t.write?e=>t.write(e,n):()=>u(void 0),o=void 0!==t.close?()=>t.close():()=>u(void 0),l=void 0!==t.abort?e=>t.abort(e):()=>u(void 0),function(e,t,a,r,n,i,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,ce(t),t._abortReason=void 0,t._abortController=function(){if(Qe)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=r,t._closeAlgorithm=n,t._abortAlgorithm=i;const l=_t(t);dt(e,l),h(u(a()),(()=>(t._started=!0,vt(t),null)),(a=>(t._started=!0,nt(e,a),null)))}(e,n,i,s,o,l,a,r)}(this,r,Ue(a,1),i)}get locked(){if(!et(this))throw Pt("locked");return tt(this)}abort(e){return et(this)?tt(this)?c(new TypeError("Cannot abort a stream that already has a writer")):at(this,e):c(Pt("abort"))}close(){return et(this)?tt(this)?c(new TypeError("Cannot close a stream that already has a writer")):ot(this)?c(new TypeError("Cannot close an already-closing stream")):rt(this):c(Pt("close"))}getWriter(){if(!et(this))throw Pt("getWriter");return new pt(this)}}function et(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof Xe}function tt(e){return void 0!==e._writer}function at(e,t){var a;if("closed"===e._state||"errored"===e._state)return u(void 0);e._writableStreamController._abortReason=t,null===(a=e._writableStreamController._abortController)||void 0===a||a.abort(t);const r=e._state;if("closed"===r||"errored"===r)return u(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=p(((a,r)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:r,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,n||it(e,t),i}function rt(e){const t=e._state;if("closed"===t||"errored"===t)return c(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const a=p(((t,a)=>{const r={_resolve:t,_reject:a};e._closeRequest=r})),r=e._writer;var n;return void 0!==r&&e._backpressure&&"writable"===t&&Nt(r),ue(n=e._writableStreamController,mt,0),vt(n),a}function nt(e,t){"writable"!==e._state?st(e):it(e,t)}function it(e,t){const a=e._writableStreamController;e._state="erroring",e._storedError=t;const r=e._writer;void 0!==r&&ct(r,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&a._started&&st(e)}function st(e){e._state="errored",e._writableStreamController[T]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new P,void 0===e._pendingAbortRequest)return void lt(e);const a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring)return a._reject(t),void lt(e);h(e._writableStreamController[O](a._reason),(()=>(a._resolve(),lt(e),null)),(t=>(a._reject(t),lt(e),null)))}function ot(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function lt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&Et(t,e._storedError)}function dt(e,t){const a=e._writer;void 0!==a&&t!==e._backpressure&&(t?function(e){kt(e)}(a):Nt(a)),e._backpressure=t}Object.defineProperties(Xe.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),i(Xe.prototype.abort,"abort"),i(Xe.prototype.close,"close"),i(Xe.prototype.getWriter,"getWriter"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Xe.prototype,t.toStringTag,{value:"WritableStream",configurable:!0});class pt{constructor(e){if(V(e,1,"WritableStreamDefaultWriter"),function(e,t){if(!et(e))throw new TypeError("First parameter is not a WritableStream.")}(e),tt(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!ot(e)&&e._backpressure?kt(this):jt(this),St(this);else if("erroring"===t)Rt(this,e._storedError),St(this);else if("closed"===t)jt(this),St(this),It(this);else{const t=e._storedError;Rt(this,t),Ct(this,t)}}get closed(){return ut(this)?this._closedPromise:c(Tt("closed"))}get desiredSize(){if(!ut(this))throw Tt("desiredSize");if(void 0===this._ownerWritableStream)throw At("desiredSize");return function(e){const t=e._ownerWritableStream,a=t._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:gt(t._writableStreamController)}(this)}get ready(){return ut(this)?this._readyPromise:c(Tt("ready"))}abort(e){return ut(this)?void 0===this._ownerWritableStream?c(At("abort")):function(e,t){return at(e._ownerWritableStream,t)}(this,e):c(Tt("abort"))}close(){if(!ut(this))return c(Tt("close"));const e=this._ownerWritableStream;return void 0===e?c(At("close")):ot(e)?c(new TypeError("Cannot close an already-closing stream")):rt(this._ownerWritableStream)}releaseLock(){if(!ut(this))throw Tt("releaseLock");void 0!==this._ownerWritableStream&&function(e){const t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");ct(e,a),function(e,t){"pending"===e._closedPromiseState?Et(e,t):function(e,t){Ct(e,t)}(e,t)}(e,a),t._writer=void 0,e._ownerWritableStream=void 0}(this)}write(e){return ut(this)?void 0===this._ownerWritableStream?c(At("write to")):function(e,t){const a=e._ownerWritableStream,r=a._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return yt(e,t),1}}(r,t);if(a!==e._ownerWritableStream)return c(At("write to"));const i=a._state;if("errored"===i)return c(a._storedError);if(ot(a)||"closed"===i)return c(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return c(a._storedError);const s=function(e){return p(((t,a)=>{const r={_resolve:t,_reject:a};e._writeRequests.push(r)}))}(a);return function(e,t,a){try{ue(e,t,a)}catch(t){return void yt(e,t)}const r=e._controlledWritableStream;ot(r)||"writable"!==r._state||dt(r,_t(e)),vt(e)}(r,t,n),s}(this,e):c(Tt("write"))}}function ut(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof pt}function ct(e,t){"pending"===e._readyPromiseState?xt(e,t):function(e,t){Rt(e,t)}(e,t)}Object.defineProperties(pt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),i(pt.prototype.abort,"abort"),i(pt.prototype.close,"close"),i(pt.prototype.releaseLock,"releaseLock"),i(pt.prototype.write,"write"),"symbol"==typeof t.toStringTag&&Object.defineProperty(pt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const mt={};class ht{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!ft(this))throw Ot("abortReason");return this._abortReason}get signal(){if(!ft(this))throw Ot("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e){if(!ft(this))throw Ot("error");"writable"===this._controlledWritableStream._state&&wt(this,e)}[O](e){const t=this._abortAlgorithm(e);return bt(this),t}[T](){ce(this)}}function ft(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof ht}function bt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function gt(e){return e._strategyHWM-e._queueTotalSize}function vt(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void st(t);if(0===e._queue.length)return;const a=e._queue.peek().value;a===mt?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),pe(e);const a=e._closeAlgorithm();bt(e),h(a,(()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&It(t)}(t),null)),(e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),nt(e,t)}(t,e),null)))}(e):function(e,t){const a=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(a),h(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(a);const t=a._state;if(pe(e),!ot(a)&&"writable"===t){const t=_t(e);dt(a,t)}return vt(e),null}),(t=>("writable"===a._state&&bt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,nt(e,t)}(a,t),null)))}(e,a)}function yt(e,t){"writable"===e._controlledWritableStream._state&&wt(e,t)}function _t(e){return gt(e)<=0}function wt(e,t){const a=e._controlledWritableStream;bt(e),it(a,t)}function Pt(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Ot(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Tt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function At(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function St(e){e._closedPromise=p(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"}))}function Ct(e,t){St(e),Et(e,t)}function Et(e,t){void 0!==e._closedPromise_reject&&(v(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function It(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function kt(e){e._readyPromise=p(((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a})),e._readyPromiseState="pending"}function Rt(e,t){kt(e),xt(e,t)}function jt(e){kt(e),Nt(e)}function xt(e,t){void 0!==e._readyPromise_reject&&(v(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function Nt(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(ht.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ht.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const Mt="undefined"!=typeof DOMException?DOMException:void 0,Dt=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(Mt)?Mt:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Lt(e,t,a,r,n,i){const s=e.getReader(),o=t.getWriter();Xt(e)&&(e._disturbed=!0);let l,d,b,_=!1,w=!1,P="readable",O="writable",T=!1,A=!1;const S=p((e=>{b=e}));let C=Promise.resolve(void 0);return p(((E,I)=>{let k;function R(){if(_)return;const e=p(((e,t)=>{!function a(r){r?e():m(_?u(!0):m(o.ready,(()=>m(s.read(),(e=>!!e.done||(C=o.write(e.value),v(C),!1))))),a,t)}(!1)}));v(e)}function j(){return P="closed",a?D():M((()=>(et(t)&&(T=ot(t),O=t._state),T||"closed"===O?u(void 0):"erroring"===O||"errored"===O?c(d):(T=!0,o.close()))),!1,void 0),null}function x(e){return _||(P="errored",l=e,r?D(!0,e):M((()=>o.abort(e)),!0,e)),null}function N(e){return w||(O="errored",d=e,n?D(!0,e):M((()=>s.cancel(e)),!0,e)),null}if(void 0!==i&&(k=()=>{const e=void 0!==i.reason?i.reason:new Dt("Aborted","AbortError"),t=[];r||t.push((()=>"writable"===O?o.abort(e):u(void 0))),n||t.push((()=>"readable"===P?s.cancel(e):u(void 0))),M((()=>Promise.all(t.map((e=>e())))),!0,e)},i.aborted?k():i.addEventListener("abort",k)),Xt(e)&&(P=e._state,l=e._storedError),et(t)&&(O=t._state,d=t._storedError,T=ot(t)),Xt(e)&&et(t)&&(A=!0,b()),"errored"===P)x(l);else if("erroring"===O||"errored"===O)N(d);else if("closed"===P)j();else if(T||"closed"===O){const e=new TypeError("the destination writable stream closed before all data could be piped to it");n?D(!0,e):M((()=>s.cancel(e)),!0,e)}function M(e,t,a){function r(){return"writable"!==O||T?n():f(function(){let e;return u(function t(){if(e!==C)return e=C,g(C,t,t)}())}(),n),null}function n(){return e?h(e(),(()=>L(t,a)),(e=>L(!0,e))):L(t,a),null}_||(_=!0,A?r():f(S,r))}function D(e,t){M(void 0,e,t)}function L(e,t){return w=!0,o.releaseLock(),s.releaseLock(),void 0!==i&&i.removeEventListener("abort",k),e?I(t):E(void 0),null}_||(h(s.closed,j,x),h(o.closed,(function(){return w||(O="closed"),null}),N)),A?R():y((()=>{A=!0,b(),R()}))}))}class $t{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ft(this))throw Kt("desiredSize");return zt(this)}close(){if(!Ft(this))throw Kt("close");if(!Ut(this))throw new TypeError("The stream is not in a state that permits close");!function(e){if(!Ut(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Vt(e),aa(t))}(this)}enqueue(e){if(!Ft(this))throw Kt("enqueue");if(!Ut(this))throw new TypeError("The stream is not in a state that permits enqueue");return function(e,t){if(!Ut(e))return;const a=e._controlledReadableStream;if(ea(a)&&Y(a)>0)J(a,t,!1);else{let a;try{a=e._strategySizeAlgorithm(t)}catch(t){throw Bt(e,t),t}try{ue(e,t,a)}catch(t){throw Bt(e,t),t}}qt(e)}(this,e)}error(e){if(!Ft(this))throw Kt("error");Bt(this,e)}[A](e){ce(this);const t=this._cancelAlgorithm(e);return Vt(this),t}[S](e){const t=this._controlledReadableStream;if(this._queue.length>0){const a=pe(this);this._closeRequested&&0===this._queue.length?(Vt(this),aa(t)):qt(this),e._chunkSteps(a)}else G(t,e),qt(this)}[C](){}}function Ft(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof $t}function qt(e){const t=function(e){const t=e._controlledReadableStream;return!!Ut(e)&&!!e._started&&(!!(ea(t)&&Y(t)>0)||zt(e)>0)}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,h(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,qt(e)),null)),(t=>(Bt(e,t),null)))))}function Vt(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Bt(e,t){const a=e._controlledReadableStream;"readable"===a._state&&(ce(e),Vt(e),ra(a,t))}function zt(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Ut(e){return!e._closeRequested&&"readable"===e._controlledReadableStream._state}function Kt(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Zt(e,t,a){return F(e,a),a=>w(e,t,[a])}function Wt(e,t,a){return F(e,a),a=>w(e,t,[a])}function Ht(e,t,a){return F(e,a),a=>_(e,t,[a])}function Gt(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Jt(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Yt(e,t){$(e,t);const a=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(r),preventClose:Boolean(n),signal:i}}Object.defineProperties($t.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),i($t.prototype.close,"close"),i($t.prototype.enqueue,"enqueue"),i($t.prototype.error,"error"),"symbol"==typeof t.toStringTag&&Object.defineProperty($t.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Qt{constructor(e={},t={}){void 0===e?e=null:q(e,"First parameter");const a=Ze(t,"Second parameter"),r=function(e,t){$(e,t);const a=e,r=null==a?void 0:a.autoAllocateChunkSize,n=null==a?void 0:a.cancel,i=null==a?void 0:a.pull,s=null==a?void 0:a.start,o=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===r?void 0:K(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:Zt(n,a,`${t} has member 'cancel' that`),pull:void 0===i?void 0:Wt(i,a,`${t} has member 'pull' that`),start:void 0===s?void 0:Ht(s,a,`${t} has member 'start' that`),type:void 0===o?void 0:Gt(o,`${t} has member 'type' that`)}}(e,"First parameter");var n;if((n=this)._state="readable",n._reader=void 0,n._storedError=void 0,n._disturbed=!1,"bytes"===r.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,a){const r=Object.create(he.prototype);let n,i,s;n=void 0!==t.start?()=>t.start(r):()=>{},i=void 0!==t.pull?()=>t.pull(r):()=>u(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>u(void 0);const o=t.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(e,t,a,r,n,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,ce(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=n,t._autoAllocateChunkSize=s,t._pendingPullIntos=new P,e._readableStreamController=t,h(u(a()),(()=>(t._started=!0,ge(t),null)),(e=>(je(t,e),null)))}(e,r,n,i,s,a,o)}(this,r,Ue(a,0))}else{const e=Ke(a);!function(e,t,a,r){const n=Object.create($t.prototype);let i,s,o;i=void 0!==t.start?()=>t.start(n):()=>{},s=void 0!==t.pull?()=>t.pull(n):()=>u(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>u(void 0),function(e,t,a,r,n,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,ce(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=n,e._readableStreamController=t,h(u(a()),(()=>(t._started=!0,qt(t),null)),(e=>(Bt(t,e),null)))}(e,n,i,s,o,a,r)}(this,r,Ue(a,1),e)}}get locked(){if(!Xt(this))throw na("locked");return ea(this)}cancel(e){return Xt(this)?ea(this)?c(new TypeError("Cannot cancel a stream that already has a reader")):ta(this,e):c(na("cancel"))}getReader(e){if(!Xt(this))throw na("getReader");return void 0===function(e,t){$(e,t);const a=null==e?void 0:e.mode;return{mode:void 0===a?void 0:Jt(a,`${t} has member 'mode' that`)}}(e,"First parameter").mode?new X(this):function(e){return new qe(e)}(this)}pipeThrough(e,t={}){if(!Z(this))throw na("pipeThrough");V(e,1,"pipeThrough");const a=function(e,t){$(e,t);const a=null==e?void 0:e.readable;B(a,"readable","ReadableWritablePair"),function(e,t){if(!Z(e))throw new TypeError(`${t} is not a ReadableStream.`)}(a,`${t} has member 'readable' that`);const r=null==e?void 0:e.writable;return B(r,"writable","ReadableWritablePair"),function(e,t){if(!W(e))throw new TypeError(`${t} is not a WritableStream.`)}(r,`${t} has member 'writable' that`),{readable:a,writable:r}}(e,"First parameter"),r=Yt(t,"Second parameter");if(this.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(a.writable.locked)throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return v(Lt(this,a.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),a.readable}pipeTo(e,t={}){if(!Z(this))return c(na("pipeTo"));if(void 0===e)return c("Parameter 1 is required in 'pipeTo'.");if(!W(e))return c(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=Yt(t,"Second parameter")}catch(e){return c(e)}return this.locked?c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):e.locked?c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Lt(this,e,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!Z(this))throw na("tee");if(this.locked)throw new TypeError("Cannot tee a stream that already has a reader");return function(e,t){return function(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}(e)?function(e){let t,a,r,n,i,s=e.getReader(),o=!1,l=!1,d=!1,c=!1,m=!1,f=!1;const g=p((e=>{i=e}));function v(e){b(e.closed,(t=>(e!==s||(r.error(t),n.error(t),m&&f||i(void 0)),null)))}function y(){o&&(s.releaseLock(),s=e.getReader(),v(s),o=!1),h(s.read(),(e=>{var t,a;if(d=!1,c=!1,e.done)return m||r.close(),f||n.close(),null===(t=r.byobRequest)||void 0===t||t.respond(0),null===(a=n.byobRequest)||void 0===a||a.respond(0),m&&f||i(void 0),null;const o=e.value,p=o;let u=o;if(!m&&!f)try{u=de(o)}catch(e){return r.error(e),n.error(e),i(s.cancel(e)),null}return m||r.enqueue(p),f||n.enqueue(u),l=!1,d?w():c&&P(),null}),(()=>(l=!1,null)))}function _(t,a){o||(s.releaseLock(),s=e.getReader({mode:"byob"}),v(s),o=!0);const p=a?n:r,u=a?r:n;h(s.read(t),(e=>{var t;d=!1,c=!1;const r=a?f:m,n=a?m:f;if(e.done){r||p.close(),n||u.close();const a=e.value;return void 0!==a&&(r||p.byobRequest.respondWithNewView(a),n||null===(t=u.byobRequest)||void 0===t||t.respond(0)),r&&n||i(void 0),null}const o=e.value;if(n)r||p.byobRequest.respondWithNewView(o);else{let t;try{t=de(o)}catch(e){return p.error(e),u.error(e),i(s.cancel(e)),null}r||p.byobRequest.respondWithNewView(o),u.enqueue(t)}return l=!1,d?w():c&&P(),null}),(()=>(l=!1,null)))}function w(){if(l)return d=!0,u(void 0);l=!0;const e=r.byobRequest;return null===e?y():_(e.view,!1),u(void 0)}function P(){if(l)return c=!0,u(void 0);l=!0;const e=n.byobRequest;return null===e?y():_(e.view,!0),u(void 0)}const O=new Qt({type:"bytes",start(e){r=e},pull:w,cancel:function(e){if(m=!0,t=e,f){const e=[t,a],r=s.cancel(e);i(r)}return g}}),T=new Qt({type:"bytes",start(e){n=e},pull:P,cancel:function(e){if(f=!0,a=e,m){const e=[t,a],r=s.cancel(e);i(r)}return g}});return v(s),[O,T]}(e):function(e,t){const a=e.getReader();let r,n,i,s,o,l=!1,d=!1,c=!1,m=!1;const f=p((e=>{o=e}));function g(){return l?(d=!0,u(void 0)):(l=!0,h(a.read(),(e=>{if(d=!1,e.done)return c||i.close(),m||s.close(),c&&m||o(void 0),null;const t=e.value,a=t,r=t;return c||i.enqueue(a),m||s.enqueue(r),l=!1,d&&g(),null}),(()=>(l=!1,null))),u(void 0))}const v=new Qt({start(e){i=e},pull:g,cancel:function(e){if(c=!0,r=e,m){const e=[r,n],t=a.cancel(e);o(t)}return f}}),y=new Qt({start(e){s=e},pull:g,cancel:function(e){if(m=!0,n=e,c){const e=[r,n],t=a.cancel(e);o(t)}return f}});return b(a.closed,(e=>(i.error(e),s.error(e),c&&m||o(void 0),null))),[v,y]}(e)}(this)}values(e){if(!Z(this))throw na("values");return function(e,t){const a=e.getReader(),r=new re(a,t),n=Object.create(ne);return n._asyncIteratorImpl=r,n}(this,function(e,t){$(e,"First parameter");const a=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}(e).preventCancel)}}function Xt(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Qt}function ea(e){return void 0!==e._reader}function ta(e,t){if(e._disturbed=!0,"closed"===e._state)return u(void 0);if("errored"===e._state)return c(e._storedError);aa(e);const r=e._reader;if(void 0!==r&&Ve(r)){const e=r._readIntoRequests;r._readIntoRequests=new P,e.forEach((e=>{e._closeSteps(void 0)}))}return g(e._readableStreamController[A](t),a)}function aa(e){e._state="closed";const t=e._reader;if(void 0!==t&&(M(t),ee(t))){const e=t._readRequests;t._readRequests=new P,e.forEach((e=>{e._closeSteps()}))}}function ra(e,t){e._state="errored",e._storedError=t;const a=e._reader;void 0!==a&&(N(a,t),ee(a)?te(a,t):Be(a,t))}function na(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function ia(e,t){$(e,t);const a=null==e?void 0:e.highWaterMark;return B(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:z(a)}}Object.defineProperties(Qt.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),i(Qt.prototype.cancel,"cancel"),i(Qt.prototype.getReader,"getReader"),i(Qt.prototype.pipeThrough,"pipeThrough"),i(Qt.prototype.pipeTo,"pipeTo"),i(Qt.prototype.tee,"tee"),i(Qt.prototype.values,"values"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Qt.prototype,t.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof t.asyncIterator&&Object.defineProperty(Qt.prototype,t.asyncIterator,{value:Qt.prototype.values,writable:!0,configurable:!0});const sa=e=>e.byteLength;i(sa,"size");class oa{constructor(e){V(e,1,"ByteLengthQueuingStrategy"),e=ia(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!da(this))throw la("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!da(this))throw la("size");return sa}}function la(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function da(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof oa}Object.defineProperties(oa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(oa.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const pa=()=>1;i(pa,"size");class ua{constructor(e){V(e,1,"CountQueuingStrategy"),e=ia(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!ma(this))throw ca("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!ma(this))throw ca("size");return pa}}function ca(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function ma(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof ua}function ha(e,t,a){return F(e,a),a=>w(e,t,[a])}function fa(e,t,a){return F(e,a),a=>_(e,t,[a])}function ba(e,t,a){return F(e,a),(a,r)=>w(e,t,[a,r])}Object.defineProperties(ua.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ua.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class ga{constructor(e={},t={},a={}){void 0===e&&(e=null);const r=Ze(t,"Second parameter"),n=Ze(a,"Third parameter"),i=function(e,t){$(e,t);const a=null==e?void 0:e.flush,r=null==e?void 0:e.readableType,n=null==e?void 0:e.start,i=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===a?void 0:ha(a,e,`${t} has member 'flush' that`),readableType:r,start:void 0===n?void 0:fa(n,e,`${t} has member 'start' that`),transform:void 0===i?void 0:ba(i,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=Ue(n,0),o=Ke(n),l=Ue(r,1),d=Ke(r);let m;!function(e,t,a,r,n,i){function s(){return t}e._writableState="writable",e._writableStoredError=void 0,e._writableHasInFlightOperation=!1,e._writableStarted=!1,e._writable=function(e,t,a,r,n,i,s){return new Xe({start(a){e._writableController=a;try{const t=a.signal;void 0!==t&&t.addEventListener("abort",(()=>{"writable"===e._writableState&&(e._writableState="erroring",t.reason&&(e._writableStoredError=t.reason))}))}catch(e){}return g(t(),(()=>(e._writableStarted=!0,Da(e),null)),(t=>{throw e._writableStarted=!0,xa(e,t),t}))},write:t=>(function(e){e._writableHasInFlightOperation=!0}(e),g(a(t),(()=>(function(e){e._writableHasInFlightOperation=!1}(e),Da(e),null)),(t=>{throw function(e,t){e._writableHasInFlightOperation=!1,xa(e,t)}(e,t),t}))),close:()=>(function(e){e._writableHasInFlightOperation=!0}(e),g(r(),(()=>(function(e){e._writableHasInFlightOperation=!1,"erroring"===e._writableState&&(e._writableStoredError=void 0),e._writableState="closed"}(e),null)),(t=>{throw function(e,t){e._writableHasInFlightOperation=!1,e._writableState,xa(e,t)}(e,t),t}))),abort:t=>(e._writableState="errored",e._writableStoredError=t,n(t))},{highWaterMark:i,size:s})}(e,s,(function(t){return function(e,t){const a=e._transformStreamController;return e._backpressure?g(e._backpressureChangePromise,(()=>{if("erroring"===(et(e._writable)?e._writable._state:e._writableState))throw et(e._writable)?e._writable._storedError:e._writableStoredError;return Sa(a,t)})):Sa(a,t)}(e,t)}),(function(){return function(e){const t=e._transformStreamController,a=t._flushAlgorithm();return Ta(t),g(a,(()=>{if("errored"===e._readableState)throw e._readableStoredError;Ia(e)&&ka(e)}),(t=>{throw ya(e,t),e._readableStoredError}))}(e)}),(function(t){return function(e,t){return ya(e,t),u(void 0)}(e,t)}),a,r),e._readableState="readable",e._readableStoredError=void 0,e._readableCloseRequested=!1,e._readablePulling=!1,e._readable=function(e,t,a,r,n,i){return new Qt({start:a=>(e._readableController=a,t().catch((t=>{Ra(e,t)}))),pull:()=>(e._readablePulling=!0,a().catch((t=>{Ra(e,t)}))),cancel:t=>(e._readableState="closed",r(t))},{highWaterMark:n,size:i})}(e,s,(function(){return function(e){return wa(e,!1),e._backpressureChangePromise}(e)}),(function(t){return _a(e,t),u(void 0)}),n,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,wa(e,!0),e._transformStreamController=void 0}(this,p((e=>{m=e})),l,d,s,o),function(e,t){const a=Object.create(Pa.prototype);let r,n;r=void 0!==t.transform?e=>t.transform(e,a):e=>{try{return Aa(a,e),u(void 0)}catch(e){return c(e)}},n=void 0!==t.flush?()=>t.flush(a):()=>u(void 0),function(e,t,a,r){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=r}(e,a,r,n)}(this,i),void 0!==i.start?m(i.start(this._transformStreamController)):m(void 0)}get readable(){if(!va(this))throw Ea("readable");return this._readable}get writable(){if(!va(this))throw Ea("writable");return this._writable}}function va(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof ga}function ya(e,t){Ra(e,t),_a(e,t)}function _a(e,t){Ta(e._transformStreamController),function(e,t){e._writableController.error(t),"writable"===e._writableState&&Na(e,t)}(e,t),e._backpressure&&wa(e,!1)}function wa(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=p((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(ga.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof t.toStringTag&&Object.defineProperty(ga.prototype,t.toStringTag,{value:"TransformStream",configurable:!0});class Pa{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Oa(this))throw Ca("desiredSize");return ja(this._controlledTransformStream)}enqueue(e){if(!Oa(this))throw Ca("enqueue");Aa(this,e)}error(e){if(!Oa(this))throw Ca("error");var t;t=e,ya(this._controlledTransformStream,t)}terminate(){if(!Oa(this))throw Ca("terminate");!function(e){const t=e._controlledTransformStream;Ia(t)&&ka(t),_a(t,new TypeError("TransformStream terminated"))}(this)}}function Oa(e){return!!r(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof Pa}function Ta(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function Aa(e,t){const a=e._controlledTransformStream;if(!Ia(a))throw new TypeError("Readable side is not in a state that permits enqueue");try{!function(e,t){e._readablePulling=!1;try{e._readableController.enqueue(t)}catch(t){throw Ra(e,t),t}}(a,t)}catch(e){throw _a(a,e),a._readableStoredError}const r=function(e){return!function(e){return!!Ia(e)&&(!!e._readablePulling||ja(e)>0)}(e)}(a);r!==a._backpressure&&wa(a,!0)}function Sa(e,t){return g(e._transformAlgorithm(t),void 0,(t=>{throw ya(e._controlledTransformStream,t),t}))}function Ca(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function Ea(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}function Ia(e){return!e._readableCloseRequested&&"readable"===e._readableState}function ka(e){e._readableState="closed",e._readableCloseRequested=!0,e._readableController.close()}function Ra(e,t){"readable"===e._readableState&&(e._readableState="errored",e._readableStoredError=t),e._readableController.error(t)}function ja(e){return e._readableController.desiredSize}function xa(e,t){"writable"!==e._writableState?Ma(e):Na(e,t)}function Na(e,t){e._writableState="erroring",e._writableStoredError=t,!function(e){return e._writableHasInFlightOperation}(e)&&e._writableStarted&&Ma(e)}function Ma(e){e._writableState="errored"}function Da(e){"erroring"===e._writableState&&Ma(e)}Object.defineProperties(Pa.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),i(Pa.prototype.enqueue,"enqueue"),i(Pa.prototype.error,"error"),i(Pa.prototype.terminate,"terminate"),"symbol"==typeof t.toStringTag&&Object.defineProperty(Pa.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=oa,e.CountQueuingStrategy=ua,e.ReadableByteStreamController=he,e.ReadableStream=Qt,e.ReadableStreamBYOBReader=qe,e.ReadableStreamBYOBRequest=me,e.ReadableStreamDefaultController=$t,e.ReadableStreamDefaultReader=X,e.TransformStream=ga,e.TransformStreamDefaultController=Pa,e.WritableStream=Xe,e.WritableStreamDefaultController=ht,e.WritableStreamDefaultWriter=pt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},53151:(e,t,a)=>{"use strict";var r=a(39023),n=a(6585);e.exports=function(e){if("number"==typeof e)return e;var t=n(e);if(void 0===t){var a=new Error(r.format("humanize-ms(%j) result undefined",e));console.warn(a.stack)}return t}},57210:(e,t,a)=>{"use strict";var r=a(29243),n=a(34781);function i(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}e.exports.Type=a(55388),e.exports.Schema=a(42119),e.exports.FAILSAFE_SCHEMA=a(17759),e.exports.JSON_SCHEMA=a(46184),e.exports.CORE_SCHEMA=a(1769),e.exports.DEFAULT_SCHEMA=a(95489),e.exports.load=r.load,e.exports.loadAll=r.loadAll,e.exports.dump=n.dump,e.exports.YAMLException=a(41231),e.exports.types={binary:a(89342),float:a(81461),map:a(52369),null:a(59198),pairs:a(66942),set:a(26663),timestamp:a(30127),bool:a(66199),int:a(44466),merge:a(61851),omap:a(16946),seq:a(28636),str:a(17212)},e.exports.safeLoad=i("safeLoad","load"),e.exports.safeLoadAll=i("safeLoadAll","loadAll"),e.exports.safeDump=i("safeDump","dump")},88433:e=>{"use strict";function t(e){return null==e}e.exports.isNothing=t,e.exports.isObject=function(e){return"object"==typeof e&&null!==e},e.exports.toArray=function(e){return Array.isArray(e)?e:t(e)?[]:[e]},e.exports.repeat=function(e,t){var a,r="";for(a=0;a<t;a+=1)r+=e;return r},e.exports.isNegativeZero=function(e){return 0===e&&Number.NEGATIVE_INFINITY===1/e},e.exports.extend=function(e,t){var a,r,n,i;if(t)for(a=0,r=(i=Object.keys(t)).length;a<r;a+=1)e[n=i[a]]=t[n];return e}},34781:(e,t,a)=>{"use strict";var r=a(88433),n=a(41231),i=a(95489),s=Object.prototype.toString,o=Object.prototype.hasOwnProperty,l=65279,d=9,p=10,u=13,c=32,m=33,h=34,f=35,b=37,g=38,v=39,y=42,_=44,w=45,P=58,O=61,T=62,A=63,S=64,C=91,E=93,I=96,k=123,R=124,j=125,x={0:"\\0",7:"\\a",8:"\\b",9:"\\t",10:"\\n",11:"\\v",12:"\\f",13:"\\r",27:"\\e",34:'\\"',92:"\\\\",133:"\\N",160:"\\_",8232:"\\L",8233:"\\P"},N=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],M=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function D(e){var t,a,i;if(t=e.toString(16).toUpperCase(),e<=255)a="x",i=2;else if(e<=65535)a="u",i=4;else{if(!(e<=4294967295))throw new n("code point within a string may not be greater than 0xFFFFFFFF");a="U",i=8}return"\\"+a+r.repeat("0",i-t.length)+t}var L=2;function $(e){this.schema=e.schema||i,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=r.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=function(e,t){var a,r,n,i,s,l,d;if(null===t)return{};for(a={},n=0,i=(r=Object.keys(t)).length;n<i;n+=1)s=r[n],l=String(t[s]),"!!"===s.slice(0,2)&&(s="tag:yaml.org,2002:"+s.slice(2)),(d=e.compiledTypeMap.fallback[s])&&o.call(d.styleAliases,l)&&(l=d.styleAliases[l]),a[s]=l;return a}(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType='"'===e.quotingType?L:1,this.forceQuotes=e.forceQuotes||!1,this.replacer="function"==typeof e.replacer?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function F(e,t){for(var a,n=r.repeat(" ",t),i=0,s=-1,o="",l=e.length;i<l;)-1===(s=e.indexOf("\n",i))?(a=e.slice(i),i=l):(a=e.slice(i,s+1),i=s+1),a.length&&"\n"!==a&&(o+=n),o+=a;return o}function q(e,t){return"\n"+r.repeat(" ",e.indent*t)}function V(e){return e===c||e===d}function B(e){return 32<=e&&e<=126||161<=e&&e<=55295&&8232!==e&&8233!==e||57344<=e&&e<=65533&&e!==l||65536<=e&&e<=1114111}function z(e){return B(e)&&e!==l&&e!==u&&e!==p}function U(e,t,a){var r=z(e),n=r&&!V(e);return(a?r:r&&e!==_&&e!==C&&e!==E&&e!==k&&e!==j)&&e!==f&&!(t===P&&!n)||z(t)&&!V(t)&&e===f||t===P&&n}function K(e,t){var a,r=e.charCodeAt(t);return r>=55296&&r<=56319&&t+1<e.length&&(a=e.charCodeAt(t+1))>=56320&&a<=57343?1024*(r-55296)+a-56320+65536:r}function Z(e){return/^\n* /.test(e)}var W=1,H=2,G=3,J=4,Y=5;function Q(e,t,a,r,i){e.dump=function(){if(0===t.length)return e.quotingType===L?'""':"''";if(!e.noCompatMode&&(-1!==N.indexOf(t)||M.test(t)))return e.quotingType===L?'"'+t+'"':"'"+t+"'";var s=e.indent*Math.max(1,a),o=-1===e.lineWidth?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-s),d=r||e.flowLevel>-1&&a>=e.flowLevel;switch(function(e,t,a,r,n,i,s,o){var d,u,c=0,x=null,N=!1,M=!1,D=-1!==r,$=-1,F=B(u=K(e,0))&&u!==l&&!V(u)&&u!==w&&u!==A&&u!==P&&u!==_&&u!==C&&u!==E&&u!==k&&u!==j&&u!==f&&u!==g&&u!==y&&u!==m&&u!==R&&u!==O&&u!==T&&u!==v&&u!==h&&u!==b&&u!==S&&u!==I&&function(e){return!V(e)&&e!==P}(K(e,e.length-1));if(t||s)for(d=0;d<e.length;c>=65536?d+=2:d++){if(!B(c=K(e,d)))return Y;F=F&&U(c,x,o),x=c}else{for(d=0;d<e.length;c>=65536?d+=2:d++){if((c=K(e,d))===p)N=!0,D&&(M=M||d-$-1>r&&" "!==e[$+1],$=d);else if(!B(c))return Y;F=F&&U(c,x,o),x=c}M=M||D&&d-$-1>r&&" "!==e[$+1]}return N||M?a>9&&Z(e)?Y:s?i===L?Y:H:M?J:G:!F||s||n(e)?i===L?Y:H:W}(t,d,e.indent,o,(function(t){return function(e,t){var a,r;for(a=0,r=e.implicitTypes.length;a<r;a+=1)if(e.implicitTypes[a].resolve(t))return!0;return!1}(e,t)}),e.quotingType,e.forceQuotes&&!r,i)){case W:return t;case H:return"'"+t.replace(/'/g,"''")+"'";case G:return"|"+X(t,e.indent)+ee(F(t,s));case J:return">"+X(t,e.indent)+ee(F(function(e,t){for(var a,r,n,i=/(\n+)([^\n]*)/g,s=(n=-1!==(n=e.indexOf("\n"))?n:e.length,i.lastIndex=n,te(e.slice(0,n),t)),o="\n"===e[0]||" "===e[0];r=i.exec(e);){var l=r[1],d=r[2];a=" "===d[0],s+=l+(o||a||""===d?"":"\n")+te(d,t),o=a}return s}(t,o),s));case Y:return'"'+function(e){for(var t,a="",r=0,n=0;n<e.length;r>=65536?n+=2:n++)r=K(e,n),!(t=x[r])&&B(r)?(a+=e[n],r>=65536&&(a+=e[n+1])):a+=t||D(r);return a}(t)+'"';default:throw new n("impossible error: invalid scalar style")}}()}function X(e,t){var a=Z(e)?String(t):"",r="\n"===e[e.length-1];return a+(!r||"\n"!==e[e.length-2]&&"\n"!==e?r?"":"-":"+")+"\n"}function ee(e){return"\n"===e[e.length-1]?e.slice(0,-1):e}function te(e,t){if(""===e||" "===e[0])return e;for(var a,r,n=/ [^ ]/g,i=0,s=0,o=0,l="";a=n.exec(e);)(o=a.index)-i>t&&(r=s>i?s:o,l+="\n"+e.slice(i,r),i=r+1),s=o;return l+="\n",e.length-i>t&&s>i?l+=e.slice(i,s)+"\n"+e.slice(s+1):l+=e.slice(i),l.slice(1)}function ae(e,t,a,r){var n,i,s,o="",l=e.tag;for(n=0,i=a.length;n<i;n+=1)s=a[n],e.replacer&&(s=e.replacer.call(a,String(n),s)),(ne(e,t+1,s,!0,!0,!1,!0)||void 0===s&&ne(e,t+1,null,!0,!0,!1,!0))&&(r&&""===o||(o+=q(e,t)),e.dump&&p===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=l,e.dump=o||"[]"}function re(e,t,a){var r,i,l,d,p,u;for(l=0,d=(i=a?e.explicitTypes:e.implicitTypes).length;l<d;l+=1)if(((p=i[l]).instanceOf||p.predicate)&&(!p.instanceOf||"object"==typeof t&&t instanceof p.instanceOf)&&(!p.predicate||p.predicate(t))){if(a?p.multi&&p.representName?e.tag=p.representName(t):e.tag=p.tag:e.tag="?",p.represent){if(u=e.styleMap[p.tag]||p.defaultStyle,"[object Function]"===s.call(p.represent))r=p.represent(t,u);else{if(!o.call(p.represent,u))throw new n("!<"+p.tag+'> tag resolver accepts not "'+u+'" style');r=p.represent[u](t,u)}e.dump=r}return!0}return!1}function ne(e,t,a,r,i,o,l){e.tag=null,e.dump=a,re(e,a,!1)||re(e,a,!0);var d,u=s.call(e.dump),c=r;r&&(r=e.flowLevel<0||e.flowLevel>t);var m,h,f="[object Object]"===u||"[object Array]"===u;if(f&&(h=-1!==(m=e.duplicates.indexOf(a))),(null!==e.tag&&"?"!==e.tag||h||2!==e.indent&&t>0)&&(i=!1),h&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&h&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),"[object Object]"===u)r&&0!==Object.keys(e.dump).length?(function(e,t,a,r){var i,s,o,l,d,u,c="",m=e.tag,h=Object.keys(a);if(!0===e.sortKeys)h.sort();else if("function"==typeof e.sortKeys)h.sort(e.sortKeys);else if(e.sortKeys)throw new n("sortKeys must be a boolean or a function");for(i=0,s=h.length;i<s;i+=1)u="",r&&""===c||(u+=q(e,t)),l=a[o=h[i]],e.replacer&&(l=e.replacer.call(a,o,l)),ne(e,t+1,o,!0,!0,!0)&&((d=null!==e.tag&&"?"!==e.tag||e.dump&&e.dump.length>1024)&&(e.dump&&p===e.dump.charCodeAt(0)?u+="?":u+="? "),u+=e.dump,d&&(u+=q(e,t)),ne(e,t+1,l,!0,d)&&(e.dump&&p===e.dump.charCodeAt(0)?u+=":":u+=": ",c+=u+=e.dump));e.tag=m,e.dump=c||"{}"}(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(function(e,t,a){var r,n,i,s,o,l="",d=e.tag,p=Object.keys(a);for(r=0,n=p.length;r<n;r+=1)o="",""!==l&&(o+=", "),e.condenseFlow&&(o+='"'),s=a[i=p[r]],e.replacer&&(s=e.replacer.call(a,i,s)),ne(e,t,i,!1,!1)&&(e.dump.length>1024&&(o+="? "),o+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),ne(e,t,s,!1,!1)&&(l+=o+=e.dump));e.tag=d,e.dump="{"+l+"}"}(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else if("[object Array]"===u)r&&0!==e.dump.length?(e.noArrayIndent&&!l&&t>0?ae(e,t-1,e.dump,i):ae(e,t,e.dump,i),h&&(e.dump="&ref_"+m+e.dump)):(function(e,t,a){var r,n,i,s="",o=e.tag;for(r=0,n=a.length;r<n;r+=1)i=a[r],e.replacer&&(i=e.replacer.call(a,String(r),i)),(ne(e,t,i,!1,!1)||void 0===i&&ne(e,t,null,!1,!1))&&(""!==s&&(s+=","+(e.condenseFlow?"":" ")),s+=e.dump);e.tag=o,e.dump="["+s+"]"}(e,t,e.dump),h&&(e.dump="&ref_"+m+" "+e.dump));else{if("[object String]"!==u){if("[object Undefined]"===u)return!1;if(e.skipInvalid)return!1;throw new n("unacceptable kind of an object to dump "+u)}"?"!==e.tag&&Q(e,e.dump,t,o,c)}null!==e.tag&&"?"!==e.tag&&(d=encodeURI("!"===e.tag[0]?e.tag.slice(1):e.tag).replace(/!/g,"%21"),d="!"===e.tag[0]?"!"+d:"tag:yaml.org,2002:"===d.slice(0,18)?"!!"+d.slice(18):"!<"+d+">",e.dump=d+" "+e.dump)}return!0}function ie(e,t){var a,r,n=[],i=[];for(se(e,n,i),a=0,r=i.length;a<r;a+=1)t.duplicates.push(n[i[a]]);t.usedDuplicates=new Array(r)}function se(e,t,a){var r,n,i;if(null!==e&&"object"==typeof e)if(-1!==(n=t.indexOf(e)))-1===a.indexOf(n)&&a.push(n);else if(t.push(e),Array.isArray(e))for(n=0,i=e.length;n<i;n+=1)se(e[n],t,a);else for(n=0,i=(r=Object.keys(e)).length;n<i;n+=1)se(e[r[n]],t,a)}e.exports.dump=function(e,t){var a=new $(t=t||{});a.noRefs||ie(e,a);var r=e;return a.replacer&&(r=a.replacer.call({"":r},"",r)),ne(a,0,r,!0,!0)?a.dump+"\n":""}},41231:e=>{"use strict";function t(e,t){var a="",r=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(a+='in "'+e.mark.name+'" '),a+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(a+="\n\n"+e.mark.snippet),r+" "+a):r}function a(e,a){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=a,this.message=t(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack||""}a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a.prototype.toString=function(e){return this.name+": "+t(this,e)},e.exports=a},29243:(e,t,a)=>{"use strict";var r=a(88433),n=a(41231),i=a(28083),s=a(95489),o=Object.prototype.hasOwnProperty,l=1,d=2,p=3,u=4,c=1,m=2,h=3,f=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,b=/[\x85\u2028\u2029]/,g=/[,\[\]\{\}]/,v=/^(?:!|!!|![a-z\-]+!)$/i,y=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _(e){return Object.prototype.toString.call(e)}function w(e){return 10===e||13===e}function P(e){return 9===e||32===e}function O(e){return 9===e||32===e||10===e||13===e}function T(e){return 44===e||91===e||93===e||123===e||125===e}function A(e){var t;return 48<=e&&e<=57?e-48:97<=(t=32|e)&&t<=102?t-97+10:-1}function S(e){return 48===e?"\0":97===e?"":98===e?"\b":116===e||9===e?"\t":110===e?"\n":118===e?"\v":102===e?"\f":114===e?"\r":101===e?"":32===e?" ":34===e?'"':47===e?"/":92===e?"\\":78===e?"":95===e?" ":76===e?"\u2028":80===e?"\u2029":""}function C(e){return e<=65535?String.fromCharCode(e):String.fromCharCode(55296+(e-65536>>10),56320+(e-65536&1023))}for(var E=new Array(256),I=new Array(256),k=0;k<256;k++)E[k]=S(k)?1:0,I[k]=S(k);function R(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||s,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function j(e,t){var a={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return a.snippet=i(a),new n(t,a)}function x(e,t){throw j(e,t)}function N(e,t){e.onWarning&&e.onWarning.call(null,j(e,t))}var M={YAML:function(e,t,a){var r,n,i;null!==e.version&&x(e,"duplication of %YAML directive"),1!==a.length&&x(e,"YAML directive accepts exactly one argument"),null===(r=/^([0-9]+)\.([0-9]+)$/.exec(a[0]))&&x(e,"ill-formed argument of the YAML directive"),n=parseInt(r[1],10),i=parseInt(r[2],10),1!==n&&x(e,"unacceptable YAML version of the document"),e.version=a[0],e.checkLineBreaks=i<2,1!==i&&2!==i&&N(e,"unsupported YAML version of the document")},TAG:function(e,t,a){var r,n;2!==a.length&&x(e,"TAG directive accepts exactly two arguments"),r=a[0],n=a[1],v.test(r)||x(e,"ill-formed tag handle (first argument) of the TAG directive"),o.call(e.tagMap,r)&&x(e,'there is a previously declared suffix for "'+r+'" tag handle'),y.test(n)||x(e,"ill-formed tag prefix (second argument) of the TAG directive");try{n=decodeURIComponent(n)}catch(t){x(e,"tag prefix is malformed: "+n)}e.tagMap[r]=n}};function D(e,t,a,r){var n,i,s,o;if(t<a){if(o=e.input.slice(t,a),r)for(n=0,i=o.length;n<i;n+=1)9===(s=o.charCodeAt(n))||32<=s&&s<=1114111||x(e,"expected valid JSON character");else f.test(o)&&x(e,"the stream contains non-printable characters");e.result+=o}}function L(e,t,a,n){var i,s,l,d;for(r.isObject(a)||x(e,"cannot merge mappings; the provided source object is unacceptable"),l=0,d=(i=Object.keys(a)).length;l<d;l+=1)s=i[l],o.call(t,s)||(t[s]=a[s],n[s]=!0)}function $(e,t,a,r,n,i,s,l,d){var p,u;if(Array.isArray(n))for(p=0,u=(n=Array.prototype.slice.call(n)).length;p<u;p+=1)Array.isArray(n[p])&&x(e,"nested arrays are not supported inside keys"),"object"==typeof n&&"[object Object]"===_(n[p])&&(n[p]="[object Object]");if("object"==typeof n&&"[object Object]"===_(n)&&(n="[object Object]"),n=String(n),null===t&&(t={}),"tag:yaml.org,2002:merge"===r)if(Array.isArray(i))for(p=0,u=i.length;p<u;p+=1)L(e,t,i[p],a);else L(e,t,i,a);else e.json||o.call(a,n)||!o.call(t,n)||(e.line=s||e.line,e.lineStart=l||e.lineStart,e.position=d||e.position,x(e,"duplicated mapping key")),"__proto__"===n?Object.defineProperty(t,n,{configurable:!0,enumerable:!0,writable:!0,value:i}):t[n]=i,delete a[n];return t}function F(e){var t;10===(t=e.input.charCodeAt(e.position))?e.position++:13===t?(e.position++,10===e.input.charCodeAt(e.position)&&e.position++):x(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function q(e,t,a){for(var r=0,n=e.input.charCodeAt(e.position);0!==n;){for(;P(n);)9===n&&-1===e.firstTabInLine&&(e.firstTabInLine=e.position),n=e.input.charCodeAt(++e.position);if(t&&35===n)do{n=e.input.charCodeAt(++e.position)}while(10!==n&&13!==n&&0!==n);if(!w(n))break;for(F(e),n=e.input.charCodeAt(e.position),r++,e.lineIndent=0;32===n;)e.lineIndent++,n=e.input.charCodeAt(++e.position)}return-1!==a&&0!==r&&e.lineIndent<a&&N(e,"deficient indentation"),r}function V(e){var t,a=e.position;return!(45!==(t=e.input.charCodeAt(a))&&46!==t||t!==e.input.charCodeAt(a+1)||t!==e.input.charCodeAt(a+2)||(a+=3,0!==(t=e.input.charCodeAt(a))&&!O(t)))}function B(e,t){1===t?e.result+=" ":t>1&&(e.result+=r.repeat("\n",t-1))}function z(e,t){var a,r,n=e.tag,i=e.anchor,s=[],o=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=s),r=e.input.charCodeAt(e.position);0!==r&&(-1!==e.firstTabInLine&&(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),45===r)&&O(e.input.charCodeAt(e.position+1));)if(o=!0,e.position++,q(e,!0,-1)&&e.lineIndent<=t)s.push(null),r=e.input.charCodeAt(e.position);else if(a=e.line,Z(e,t,p,!1,!0),s.push(e.result),q(e,!0,-1),r=e.input.charCodeAt(e.position),(e.line===a||e.lineIndent>t)&&0!==r)x(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break;return!!o&&(e.tag=n,e.anchor=i,e.kind="sequence",e.result=s,!0)}function U(e){var t,a,r,n,i=!1,s=!1;if(33!==(n=e.input.charCodeAt(e.position)))return!1;if(null!==e.tag&&x(e,"duplication of a tag property"),60===(n=e.input.charCodeAt(++e.position))?(i=!0,n=e.input.charCodeAt(++e.position)):33===n?(s=!0,a="!!",n=e.input.charCodeAt(++e.position)):a="!",t=e.position,i){do{n=e.input.charCodeAt(++e.position)}while(0!==n&&62!==n);e.position<e.length?(r=e.input.slice(t,e.position),n=e.input.charCodeAt(++e.position)):x(e,"unexpected end of the stream within a verbatim tag")}else{for(;0!==n&&!O(n);)33===n&&(s?x(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),v.test(a)||x(e,"named tag handle cannot contain such characters"),s=!0,t=e.position+1)),n=e.input.charCodeAt(++e.position);r=e.input.slice(t,e.position),g.test(r)&&x(e,"tag suffix cannot contain flow indicator characters")}r&&!y.test(r)&&x(e,"tag name cannot contain such characters: "+r);try{r=decodeURIComponent(r)}catch(t){x(e,"tag name is malformed: "+r)}return i?e.tag=r:o.call(e.tagMap,a)?e.tag=e.tagMap[a]+r:"!"===a?e.tag="!"+r:"!!"===a?e.tag="tag:yaml.org,2002:"+r:x(e,'undeclared tag handle "'+a+'"'),!0}function K(e){var t,a;if(38!==(a=e.input.charCodeAt(e.position)))return!1;for(null!==e.anchor&&x(e,"duplication of an anchor property"),a=e.input.charCodeAt(++e.position),t=e.position;0!==a&&!O(a)&&!T(a);)a=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function Z(e,t,a,n,i){var s,f,b,g,v,y,_,S,k,R=1,j=!1,N=!1;if(null!==e.listener&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,s=f=b=u===a||p===a,n&&q(e,!0,-1)&&(j=!0,e.lineIndent>t?R=1:e.lineIndent===t?R=0:e.lineIndent<t&&(R=-1)),1===R)for(;U(e)||K(e);)q(e,!0,-1)?(j=!0,b=s,e.lineIndent>t?R=1:e.lineIndent===t?R=0:e.lineIndent<t&&(R=-1)):b=!1;if(b&&(b=j||i),1!==R&&u!==a||(S=l===a||d===a?t:t+1,k=e.position-e.lineStart,1===R?b&&(z(e,k)||function(e,t,a){var r,n,i,s,o,l,p,c=e.tag,m=e.anchor,h={},f=Object.create(null),b=null,g=null,v=null,y=!1,_=!1;if(-1!==e.firstTabInLine)return!1;for(null!==e.anchor&&(e.anchorMap[e.anchor]=h),p=e.input.charCodeAt(e.position);0!==p;){if(y||-1===e.firstTabInLine||(e.position=e.firstTabInLine,x(e,"tab characters must not be used in indentation")),r=e.input.charCodeAt(e.position+1),i=e.line,63!==p&&58!==p||!O(r)){if(s=e.line,o=e.lineStart,l=e.position,!Z(e,a,d,!1,!0))break;if(e.line===i){for(p=e.input.charCodeAt(e.position);P(p);)p=e.input.charCodeAt(++e.position);if(58===p)O(p=e.input.charCodeAt(++e.position))||x(e,"a whitespace character is expected after the key-value separator within a block mapping"),y&&($(e,h,f,b,g,null,s,o,l),b=g=v=null),_=!0,y=!1,n=!1,b=e.tag,g=e.result;else{if(!_)return e.tag=c,e.anchor=m,!0;x(e,"can not read an implicit mapping pair; a colon is missed")}}else{if(!_)return e.tag=c,e.anchor=m,!0;x(e,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===p?(y&&($(e,h,f,b,g,null,s,o,l),b=g=v=null),_=!0,y=!0,n=!0):y?(y=!1,n=!0):x(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=r;if((e.line===i||e.lineIndent>t)&&(y&&(s=e.line,o=e.lineStart,l=e.position),Z(e,t,u,!0,n)&&(y?g=e.result:v=e.result),y||($(e,h,f,b,g,v,s,o,l),b=g=v=null),q(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===i||e.lineIndent>t)&&0!==p)x(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return y&&$(e,h,f,b,g,null,s,o,l),_&&(e.tag=c,e.anchor=m,e.kind="mapping",e.result=h),_}(e,k,S))||function(e,t){var a,r,n,i,s,o,d,p,u,c,m,h,f=!0,b=e.tag,g=e.anchor,v=Object.create(null);if(91===(h=e.input.charCodeAt(e.position)))s=93,p=!1,i=[];else{if(123!==h)return!1;s=125,p=!0,i={}}for(null!==e.anchor&&(e.anchorMap[e.anchor]=i),h=e.input.charCodeAt(++e.position);0!==h;){if(q(e,!0,t),(h=e.input.charCodeAt(e.position))===s)return e.position++,e.tag=b,e.anchor=g,e.kind=p?"mapping":"sequence",e.result=i,!0;f?44===h&&x(e,"expected the node content, but found ','"):x(e,"missed comma between flow collection entries"),m=null,o=d=!1,63===h&&O(e.input.charCodeAt(e.position+1))&&(o=d=!0,e.position++,q(e,!0,t)),a=e.line,r=e.lineStart,n=e.position,Z(e,t,l,!1,!0),c=e.tag,u=e.result,q(e,!0,t),h=e.input.charCodeAt(e.position),!d&&e.line!==a||58!==h||(o=!0,h=e.input.charCodeAt(++e.position),q(e,!0,t),Z(e,t,l,!1,!0),m=e.result),p?$(e,i,v,c,u,m,a,r,n):o?i.push($(e,null,v,c,u,m,a,r,n)):i.push(u),q(e,!0,t),44===(h=e.input.charCodeAt(e.position))?(f=!0,h=e.input.charCodeAt(++e.position)):f=!1}x(e,"unexpected end of the stream within a flow collection")}(e,S)?N=!0:(f&&function(e,t){var a,n,i,s,o,l=c,d=!1,p=!1,u=t,f=0,b=!1;if(124===(s=e.input.charCodeAt(e.position)))n=!1;else{if(62!==s)return!1;n=!0}for(e.kind="scalar",e.result="";0!==s;)if(43===(s=e.input.charCodeAt(++e.position))||45===s)c===l?l=43===s?h:m:x(e,"repeat of a chomping mode identifier");else{if(!((i=48<=(o=s)&&o<=57?o-48:-1)>=0))break;0===i?x(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):p?x(e,"repeat of an indentation width identifier"):(u=t+i-1,p=!0)}if(P(s)){do{s=e.input.charCodeAt(++e.position)}while(P(s));if(35===s)do{s=e.input.charCodeAt(++e.position)}while(!w(s)&&0!==s)}for(;0!==s;){for(F(e),e.lineIndent=0,s=e.input.charCodeAt(e.position);(!p||e.lineIndent<u)&&32===s;)e.lineIndent++,s=e.input.charCodeAt(++e.position);if(!p&&e.lineIndent>u&&(u=e.lineIndent),w(s))f++;else{if(e.lineIndent<u){l===h?e.result+=r.repeat("\n",d?1+f:f):l===c&&d&&(e.result+="\n");break}for(n?P(s)?(b=!0,e.result+=r.repeat("\n",d?1+f:f)):b?(b=!1,e.result+=r.repeat("\n",f+1)):0===f?d&&(e.result+=" "):e.result+=r.repeat("\n",f):e.result+=r.repeat("\n",d?1+f:f),d=!0,p=!0,f=0,a=e.position;!w(s)&&0!==s;)s=e.input.charCodeAt(++e.position);D(e,a,e.position,!1)}}return!0}(e,S)||function(e,t){var a,r,n;if(39!==(a=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;0!==(a=e.input.charCodeAt(e.position));)if(39===a){if(D(e,r,e.position,!0),39!==(a=e.input.charCodeAt(++e.position)))return!0;r=e.position,e.position++,n=e.position}else w(a)?(D(e,r,n,!0),B(e,q(e,!1,t)),r=n=e.position):e.position===e.lineStart&&V(e)?x(e,"unexpected end of the document within a single quoted scalar"):(e.position++,n=e.position);x(e,"unexpected end of the stream within a single quoted scalar")}(e,S)||function(e,t){var a,r,n,i,s,o,l;if(34!==(o=e.input.charCodeAt(e.position)))return!1;for(e.kind="scalar",e.result="",e.position++,a=r=e.position;0!==(o=e.input.charCodeAt(e.position));){if(34===o)return D(e,a,e.position,!0),e.position++,!0;if(92===o){if(D(e,a,e.position,!0),w(o=e.input.charCodeAt(++e.position)))q(e,!1,t);else if(o<256&&E[o])e.result+=I[o],e.position++;else if((s=120===(l=o)?2:117===l?4:85===l?8:0)>0){for(n=s,i=0;n>0;n--)(s=A(o=e.input.charCodeAt(++e.position)))>=0?i=(i<<4)+s:x(e,"expected hexadecimal character");e.result+=C(i),e.position++}else x(e,"unknown escape sequence");a=r=e.position}else w(o)?(D(e,a,r,!0),B(e,q(e,!1,t)),a=r=e.position):e.position===e.lineStart&&V(e)?x(e,"unexpected end of the document within a double quoted scalar"):(e.position++,r=e.position)}x(e,"unexpected end of the stream within a double quoted scalar")}(e,S)?N=!0:function(e){var t,a,r;if(42!==(r=e.input.charCodeAt(e.position)))return!1;for(r=e.input.charCodeAt(++e.position),t=e.position;0!==r&&!O(r)&&!T(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&x(e,"name of an alias node must contain at least one character"),a=e.input.slice(t,e.position),o.call(e.anchorMap,a)||x(e,'unidentified alias "'+a+'"'),e.result=e.anchorMap[a],q(e,!0,-1),!0}(e)?(N=!0,null===e.tag&&null===e.anchor||x(e,"alias node should not have any properties")):function(e,t,a){var r,n,i,s,o,l,d,p,u=e.kind,c=e.result;if(O(p=e.input.charCodeAt(e.position))||T(p)||35===p||38===p||42===p||33===p||124===p||62===p||39===p||34===p||37===p||64===p||96===p)return!1;if((63===p||45===p)&&(O(r=e.input.charCodeAt(e.position+1))||a&&T(r)))return!1;for(e.kind="scalar",e.result="",n=i=e.position,s=!1;0!==p;){if(58===p){if(O(r=e.input.charCodeAt(e.position+1))||a&&T(r))break}else if(35===p){if(O(e.input.charCodeAt(e.position-1)))break}else{if(e.position===e.lineStart&&V(e)||a&&T(p))break;if(w(p)){if(o=e.line,l=e.lineStart,d=e.lineIndent,q(e,!1,-1),e.lineIndent>=t){s=!0,p=e.input.charCodeAt(e.position);continue}e.position=i,e.line=o,e.lineStart=l,e.lineIndent=d;break}}s&&(D(e,n,i,!1),B(e,e.line-o),n=i=e.position,s=!1),P(p)||(i=e.position+1),p=e.input.charCodeAt(++e.position)}return D(e,n,i,!1),!!e.result||(e.kind=u,e.result=c,!1)}(e,S,l===a)&&(N=!0,null===e.tag&&(e.tag="?")),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):0===R&&(N=b&&z(e,k))),null===e.tag)null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);else if("?"===e.tag){for(null!==e.result&&"scalar"!==e.kind&&x(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),g=0,v=e.implicitTypes.length;g<v;g+=1)if((_=e.implicitTypes[g]).resolve(e.result)){e.result=_.construct(e.result),e.tag=_.tag,null!==e.anchor&&(e.anchorMap[e.anchor]=e.result);break}}else if("!"!==e.tag){if(o.call(e.typeMap[e.kind||"fallback"],e.tag))_=e.typeMap[e.kind||"fallback"][e.tag];else for(_=null,g=0,v=(y=e.typeMap.multi[e.kind||"fallback"]).length;g<v;g+=1)if(e.tag.slice(0,y[g].tag.length)===y[g].tag){_=y[g];break}_||x(e,"unknown tag !<"+e.tag+">"),null!==e.result&&_.kind!==e.kind&&x(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+_.kind+'", not "'+e.kind+'"'),_.resolve(e.result,e.tag)?(e.result=_.construct(e.result,e.tag),null!==e.anchor&&(e.anchorMap[e.anchor]=e.result)):x(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return null!==e.listener&&e.listener("close",e),null!==e.tag||null!==e.anchor||N}function W(e){var t,a,r,n,i=e.position,s=!1;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);0!==(n=e.input.charCodeAt(e.position))&&(q(e,!0,-1),n=e.input.charCodeAt(e.position),!(e.lineIndent>0||37!==n));){for(s=!0,n=e.input.charCodeAt(++e.position),t=e.position;0!==n&&!O(n);)n=e.input.charCodeAt(++e.position);for(r=[],(a=e.input.slice(t,e.position)).length<1&&x(e,"directive name must not be less than one character in length");0!==n;){for(;P(n);)n=e.input.charCodeAt(++e.position);if(35===n){do{n=e.input.charCodeAt(++e.position)}while(0!==n&&!w(n));break}if(w(n))break;for(t=e.position;0!==n&&!O(n);)n=e.input.charCodeAt(++e.position);r.push(e.input.slice(t,e.position))}0!==n&&F(e),o.call(M,a)?M[a](e,a,r):N(e,'unknown document directive "'+a+'"')}q(e,!0,-1),0===e.lineIndent&&45===e.input.charCodeAt(e.position)&&45===e.input.charCodeAt(e.position+1)&&45===e.input.charCodeAt(e.position+2)?(e.position+=3,q(e,!0,-1)):s&&x(e,"directives end mark is expected"),Z(e,e.lineIndent-1,u,!1,!0),q(e,!0,-1),e.checkLineBreaks&&b.test(e.input.slice(i,e.position))&&N(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&V(e)?46===e.input.charCodeAt(e.position)&&(e.position+=3,q(e,!0,-1)):e.position<e.length-1&&x(e,"end of the stream or a document separator is expected")}function H(e,t){t=t||{},0!==(e=String(e)).length&&(10!==e.charCodeAt(e.length-1)&&13!==e.charCodeAt(e.length-1)&&(e+="\n"),65279===e.charCodeAt(0)&&(e=e.slice(1)));var a=new R(e,t),r=e.indexOf("\0");for(-1!==r&&(a.position=r,x(a,"null byte is not allowed in input")),a.input+="\0";32===a.input.charCodeAt(a.position);)a.lineIndent+=1,a.position+=1;for(;a.position<a.length-1;)W(a);return a.documents}e.exports.loadAll=function(e,t,a){null!==t&&"object"==typeof t&&void 0===a&&(a=t,t=null);var r=H(e,a);if("function"!=typeof t)return r;for(var n=0,i=r.length;n<i;n+=1)t(r[n])},e.exports.load=function(e,t){var a=H(e,t);if(0!==a.length){if(1===a.length)return a[0];throw new n("expected a single document in the stream, but found more")}}},42119:(e,t,a)=>{"use strict";var r=a(41231),n=a(55388);function i(e,t){var a=[];return e[t].forEach((function(e){var t=a.length;a.forEach((function(a,r){a.tag===e.tag&&a.kind===e.kind&&a.multi===e.multi&&(t=r)})),a[t]=e})),a}function s(e){return this.extend(e)}s.prototype.extend=function(e){var t=[],a=[];if(e instanceof n)a.push(e);else if(Array.isArray(e))a=a.concat(e);else{if(!e||!Array.isArray(e.implicit)&&!Array.isArray(e.explicit))throw new r("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");e.implicit&&(t=t.concat(e.implicit)),e.explicit&&(a=a.concat(e.explicit))}t.forEach((function(e){if(!(e instanceof n))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(e.loadKind&&"scalar"!==e.loadKind)throw new r("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(e.multi)throw new r("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")})),a.forEach((function(e){if(!(e instanceof n))throw new r("Specified list of YAML types (or a single Type object) contains a non-Type object.")}));var o=Object.create(s.prototype);return o.implicit=(this.implicit||[]).concat(t),o.explicit=(this.explicit||[]).concat(a),o.compiledImplicit=i(o,"implicit"),o.compiledExplicit=i(o,"explicit"),o.compiledTypeMap=function(){var e,t,a={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}};function r(e){e.multi?(a.multi[e.kind].push(e),a.multi.fallback.push(e)):a[e.kind][e.tag]=a.fallback[e.tag]=e}for(e=0,t=arguments.length;e<t;e+=1)arguments[e].forEach(r);return a}(o.compiledImplicit,o.compiledExplicit),o},e.exports=s},1769:(e,t,a)=>{"use strict";e.exports=a(46184)},95489:(e,t,a)=>{"use strict";e.exports=a(1769).extend({implicit:[a(30127),a(61851)],explicit:[a(89342),a(16946),a(66942),a(26663)]})},17759:(e,t,a)=>{"use strict";var r=a(42119);e.exports=new r({explicit:[a(17212),a(28636),a(52369)]})},46184:(e,t,a)=>{"use strict";e.exports=a(17759).extend({implicit:[a(59198),a(66199),a(44466),a(81461)]})},28083:(e,t,a)=>{"use strict";var r=a(88433);function n(e,t,a,r,n){var i="",s="",o=Math.floor(n/2)-1;return r-t>o&&(t=r-o+(i=" ... ").length),a-r>o&&(a=r+o-(s=" ...").length),{str:i+e.slice(t,a).replace(/\t/g,"→")+s,pos:r-t+i.length}}function i(e,t){return r.repeat(" ",t-e.length)+e}e.exports=function(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),"number"!=typeof t.indent&&(t.indent=1),"number"!=typeof t.linesBefore&&(t.linesBefore=3),"number"!=typeof t.linesAfter&&(t.linesAfter=2);for(var a,s=/\r?\n|\r|\0/g,o=[0],l=[],d=-1;a=s.exec(e.buffer);)l.push(a.index),o.push(a.index+a[0].length),e.position<=a.index&&d<0&&(d=o.length-2);d<0&&(d=o.length-1);var p,u,c="",m=Math.min(e.line+t.linesAfter,l.length).toString().length,h=t.maxLength-(t.indent+m+3);for(p=1;p<=t.linesBefore&&!(d-p<0);p++)u=n(e.buffer,o[d-p],l[d-p],e.position-(o[d]-o[d-p]),h),c=r.repeat(" ",t.indent)+i((e.line-p+1).toString(),m)+" | "+u.str+"\n"+c;for(u=n(e.buffer,o[d],l[d],e.position,h),c+=r.repeat(" ",t.indent)+i((e.line+1).toString(),m)+" | "+u.str+"\n",c+=r.repeat("-",t.indent+m+3+u.pos)+"^\n",p=1;p<=t.linesAfter&&!(d+p>=l.length);p++)u=n(e.buffer,o[d+p],l[d+p],e.position-(o[d]-o[d+p]),h),c+=r.repeat(" ",t.indent)+i((e.line+p+1).toString(),m)+" | "+u.str+"\n";return c.replace(/\n$/,"")}},55388:(e,t,a)=>{"use strict";var r=a(41231),n=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],i=["scalar","sequence","mapping"];e.exports=function(e,t){var a,s;if(t=t||{},Object.keys(t).forEach((function(t){if(-1===n.indexOf(t))throw new r('Unknown option "'+t+'" is met in definition of "'+e+'" YAML type.')})),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(e){return e},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=(a=t.styleAliases||null,s={},null!==a&&Object.keys(a).forEach((function(e){a[e].forEach((function(t){s[String(t)]=e}))})),s),-1===i.indexOf(this.kind))throw new r('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}},89342:(e,t,a)=>{"use strict";var r=a(55388),n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new r("tag:yaml.org,2002:binary",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,a,r=0,i=e.length,s=n;for(a=0;a<i;a++)if(!((t=s.indexOf(e.charAt(a)))>64)){if(t<0)return!1;r+=6}return r%8==0},construct:function(e){var t,a,r=e.replace(/[\r\n=]/g,""),i=r.length,s=n,o=0,l=[];for(t=0;t<i;t++)t%4==0&&t&&(l.push(o>>16&255),l.push(o>>8&255),l.push(255&o)),o=o<<6|s.indexOf(r.charAt(t));return 0==(a=i%4*6)?(l.push(o>>16&255),l.push(o>>8&255),l.push(255&o)):18===a?(l.push(o>>10&255),l.push(o>>2&255)):12===a&&l.push(o>>4&255),new Uint8Array(l)},predicate:function(e){return"[object Uint8Array]"===Object.prototype.toString.call(e)},represent:function(e){var t,a,r="",i=0,s=e.length,o=n;for(t=0;t<s;t++)t%3==0&&t&&(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]),i=(i<<8)+e[t];return 0==(a=s%3)?(r+=o[i>>18&63],r+=o[i>>12&63],r+=o[i>>6&63],r+=o[63&i]):2===a?(r+=o[i>>10&63],r+=o[i>>4&63],r+=o[i<<2&63],r+=o[64]):1===a&&(r+=o[i>>2&63],r+=o[i<<4&63],r+=o[64],r+=o[64]),r}})},66199:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:bool",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t=e.length;return 4===t&&("true"===e||"True"===e||"TRUE"===e)||5===t&&("false"===e||"False"===e||"FALSE"===e)},construct:function(e){return"true"===e||"True"===e||"TRUE"===e},predicate:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"})},81461:(e,t,a)=>{"use strict";var r=a(88433),n=a(55388),i=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$"),s=/^[-+]?[0-9]+e/;e.exports=new n("tag:yaml.org,2002:float",{kind:"scalar",resolve:function(e){return null!==e&&!(!i.test(e)||"_"===e[e.length-1])},construct:function(e){var t,a;return a="-"===(t=e.replace(/_/g,"").toLowerCase())[0]?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),".inf"===t?1===a?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===t?NaN:a*parseFloat(t,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&(e%1!=0||r.isNegativeZero(e))},represent:function(e,t){var a;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(r.isNegativeZero(e))return"-0.0";return a=e.toString(10),s.test(a)?a.replace("e",".e"):a},defaultStyle:"lowercase"})},44466:(e,t,a)=>{"use strict";var r=a(88433),n=a(55388);function i(e){return 48<=e&&e<=55}function s(e){return 48<=e&&e<=57}e.exports=new n("tag:yaml.org,2002:int",{kind:"scalar",resolve:function(e){if(null===e)return!1;var t,a,r=e.length,n=0,o=!1;if(!r)return!1;if("-"!==(t=e[n])&&"+"!==t||(t=e[++n]),"0"===t){if(n+1===r)return!0;if("b"===(t=e[++n])){for(n++;n<r;n++)if("_"!==(t=e[n])){if("0"!==t&&"1"!==t)return!1;o=!0}return o&&"_"!==t}if("x"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!(48<=(a=e.charCodeAt(n))&&a<=57||65<=a&&a<=70||97<=a&&a<=102))return!1;o=!0}return o&&"_"!==t}if("o"===t){for(n++;n<r;n++)if("_"!==(t=e[n])){if(!i(e.charCodeAt(n)))return!1;o=!0}return o&&"_"!==t}}if("_"===t)return!1;for(;n<r;n++)if("_"!==(t=e[n])){if(!s(e.charCodeAt(n)))return!1;o=!0}return!(!o||"_"===t)},construct:function(e){var t,a=e,r=1;if(-1!==a.indexOf("_")&&(a=a.replace(/_/g,"")),"-"!==(t=a[0])&&"+"!==t||("-"===t&&(r=-1),t=(a=a.slice(1))[0]),"0"===a)return 0;if("0"===t){if("b"===a[1])return r*parseInt(a.slice(2),2);if("x"===a[1])return r*parseInt(a.slice(2),16);if("o"===a[1])return r*parseInt(a.slice(2),8)}return r*parseInt(a,10)},predicate:function(e){return"[object Number]"===Object.prototype.toString.call(e)&&e%1==0&&!r.isNegativeZero(e)},represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},52369:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return null!==e?e:{}}})},61851:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:merge",{kind:"scalar",resolve:function(e){return"<<"===e||null===e}})},59198:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:null",{kind:"scalar",resolve:function(e){if(null===e)return!0;var t=e.length;return 1===t&&"~"===e||4===t&&("null"===e||"Null"===e||"NULL"===e)},construct:function(){return null},predicate:function(e){return null===e},represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"})},16946:(e,t,a)=>{"use strict";var r=a(55388),n=Object.prototype.hasOwnProperty,i=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:omap",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,a,r,s,o,l=[],d=e;for(t=0,a=d.length;t<a;t+=1){if(r=d[t],o=!1,"[object Object]"!==i.call(r))return!1;for(s in r)if(n.call(r,s)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==l.indexOf(s))return!1;l.push(s)}return!0},construct:function(e){return null!==e?e:[]}})},66942:(e,t,a)=>{"use strict";var r=a(55388),n=Object.prototype.toString;e.exports=new r("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:function(e){if(null===e)return!0;var t,a,r,i,s,o=e;for(s=new Array(o.length),t=0,a=o.length;t<a;t+=1){if(r=o[t],"[object Object]"!==n.call(r))return!1;if(1!==(i=Object.keys(r)).length)return!1;s[t]=[i[0],r[i[0]]]}return!0},construct:function(e){if(null===e)return[];var t,a,r,n,i,s=e;for(i=new Array(s.length),t=0,a=s.length;t<a;t+=1)r=s[t],n=Object.keys(r),i[t]=[n[0],r[n[0]]];return i}})},28636:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return null!==e?e:[]}})},26663:(e,t,a)=>{"use strict";var r=a(55388),n=Object.prototype.hasOwnProperty;e.exports=new r("tag:yaml.org,2002:set",{kind:"mapping",resolve:function(e){if(null===e)return!0;var t,a=e;for(t in a)if(n.call(a,t)&&null!==a[t])return!1;return!0},construct:function(e){return null!==e?e:{}}})},17212:(e,t,a)=>{"use strict";var r=a(55388);e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return null!==e?e:""}})},30127:(e,t,a)=>{"use strict";var r=a(55388),n=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),i=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");e.exports=new r("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:function(e){return null!==e&&(null!==n.exec(e)||null!==i.exec(e))},construct:function(e){var t,a,r,s,o,l,d,p,u=0,c=null;if(null===(t=n.exec(e))&&(t=i.exec(e)),null===t)throw new Error("Date resolve error");if(a=+t[1],r=+t[2]-1,s=+t[3],!t[4])return new Date(Date.UTC(a,r,s));if(o=+t[4],l=+t[5],d=+t[6],t[7]){for(u=t[7].slice(0,3);u.length<3;)u+="0";u=+u}return t[9]&&(c=6e4*(60*+t[10]+ +(t[11]||0)),"-"===t[9]&&(c=-c)),p=new Date(Date.UTC(a,r,s,o,l,d,u)),c&&p.setTime(p.getTime()-c),p},instanceOf:Date,represent:function(e){return e.toISOString()}})},6585:e=>{var t=1e3,a=60*t,r=60*a,n=24*r,i=7*n;function s(e,t,a,r){var n=t>=1.5*a;return Math.round(e/a)+" "+r+(n?"s":"")}e.exports=function(e,o){o=o||{};var l,d,p=typeof e;if("string"===p&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var s=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(s){var o=parseFloat(s[1]);switch((s[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return o*i;case"days":case"day":case"d":return o*n;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*a;case"seconds":case"second":case"secs":case"sec":case"s":return o*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}}}(e);if("number"===p&&isFinite(e))return o.long?(l=e,(d=Math.abs(l))>=n?s(l,d,n,"day"):d>=r?s(l,d,r,"hour"):d>=a?s(l,d,a,"minute"):d>=t?s(l,d,t,"second"):l+" ms"):function(e){var i=Math.abs(e);return i>=n?Math.round(e/n)+"d":i>=r?Math.round(e/r)+"h":i>=a?Math.round(e/a)+"m":i>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},57965:function(e){e.exports=function(){"use strict";var e=Object.prototype.toString,t=Array.isArray||function(t){return"[object Array]"===e.call(t)};function a(e){return"function"==typeof e}function r(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function n(e,t){return null!=e&&"object"==typeof e&&t in e}var i=RegExp.prototype.test;var s=/\S/;function o(e){return!function(e,t){return i.call(e,t)}(s,e)}var l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};var d=/\s*/,p=/\s+/,u=/\s*=/,c=/\s*\}/,m=/#|\^|\/|>|\{|&|=|!/;function h(e){this.string=e,this.tail=e,this.pos=0}function f(e,t){this.view=e,this.cache={".":this.view},this.parent=t}function b(){this.templateCache={_cache:{},set:function(e,t){this._cache[e]=t},get:function(e){return this._cache[e]},clear:function(){this._cache={}}}}h.prototype.eos=function(){return""===this.tail},h.prototype.scan=function(e){var t=this.tail.match(e);if(!t||0!==t.index)return"";var a=t[0];return this.tail=this.tail.substring(a.length),this.pos+=a.length,a},h.prototype.scanUntil=function(e){var t,a=this.tail.search(e);switch(a){case-1:t=this.tail,this.tail="";break;case 0:t="";break;default:t=this.tail.substring(0,a),this.tail=this.tail.substring(a)}return this.pos+=t.length,t},f.prototype.push=function(e){return new f(e,this)},f.prototype.lookup=function(e){var t,r,i,s=this.cache;if(s.hasOwnProperty(e))t=s[e];else{for(var o,l,d,p=this,u=!1;p;){if(e.indexOf(".")>0)for(o=p.view,l=e.split("."),d=0;null!=o&&d<l.length;)d===l.length-1&&(u=n(o,l[d])||(r=o,i=l[d],null!=r&&"object"!=typeof r&&r.hasOwnProperty&&r.hasOwnProperty(i))),o=o[l[d++]];else o=p.view[e],u=n(p.view,e);if(u){t=o;break}p=p.parent}s[e]=t}return a(t)&&(t=t.call(this.view)),t},b.prototype.clearCache=function(){void 0!==this.templateCache&&this.templateCache.clear()},b.prototype.parse=function(e,a){var n=this.templateCache,i=e+":"+(a||g.tags).join(":"),s=void 0!==n,l=s?n.get(i):void 0;return null==l&&(l=function(e,a){if(!e)return[];var n,i,s,l=!1,f=[],b=[],v=[],y=!1,_=!1,w="",P=0;function O(){if(y&&!_)for(;v.length;)delete b[v.pop()];else v=[];y=!1,_=!1}function T(e){if("string"==typeof e&&(e=e.split(p,2)),!t(e)||2!==e.length)throw new Error("Invalid tags: "+e);n=new RegExp(r(e[0])+"\\s*"),i=new RegExp("\\s*"+r(e[1])),s=new RegExp("\\s*"+r("}"+e[1]))}T(a||g.tags);for(var A,S,C,E,I,k,R=new h(e);!R.eos();){if(A=R.pos,C=R.scanUntil(n))for(var j=0,x=C.length;j<x;++j)o(E=C.charAt(j))?(v.push(b.length),w+=E):(_=!0,l=!0,w+=" "),b.push(["text",E,A,A+1]),A+=1,"\n"===E&&(O(),w="",P=0,l=!1);if(!R.scan(n))break;if(y=!0,S=R.scan(m)||"name",R.scan(d),"="===S?(C=R.scanUntil(u),R.scan(u),R.scanUntil(i)):"{"===S?(C=R.scanUntil(s),R.scan(c),R.scanUntil(i),S="&"):C=R.scanUntil(i),!R.scan(i))throw new Error("Unclosed tag at "+R.pos);if(I=">"==S?[S,C,A,R.pos,w,P,l]:[S,C,A,R.pos],P++,b.push(I),"#"===S||"^"===S)f.push(I);else if("/"===S){if(!(k=f.pop()))throw new Error('Unopened section "'+C+'" at '+A);if(k[1]!==C)throw new Error('Unclosed section "'+k[1]+'" at '+A)}else"name"===S||"{"===S||"&"===S?_=!0:"="===S&&T(C)}if(O(),k=f.pop())throw new Error('Unclosed section "'+k[1]+'" at '+R.pos);return function(e){for(var t,a=[],r=a,n=[],i=0,s=e.length;i<s;++i)switch((t=e[i])[0]){case"#":case"^":r.push(t),n.push(t),r=t[4]=[];break;case"/":n.pop()[5]=t[2],r=n.length>0?n[n.length-1][4]:a;break;default:r.push(t)}return a}(function(e){for(var t,a,r=[],n=0,i=e.length;n<i;++n)(t=e[n])&&("text"===t[0]&&a&&"text"===a[0]?(a[1]+=t[1],a[3]=t[3]):(r.push(t),a=t));return r}(b))}(e,a),s&&n.set(i,l)),l},b.prototype.render=function(e,t,a,r){var n=this.getConfigTags(r),i=this.parse(e,n),s=t instanceof f?t:new f(t,void 0);return this.renderTokens(i,s,a,e,r)},b.prototype.renderTokens=function(e,t,a,r,n){for(var i,s,o,l="",d=0,p=e.length;d<p;++d)o=void 0,"#"===(s=(i=e[d])[0])?o=this.renderSection(i,t,a,r,n):"^"===s?o=this.renderInverted(i,t,a,r,n):">"===s?o=this.renderPartial(i,t,a,n):"&"===s?o=this.unescapedValue(i,t):"name"===s?o=this.escapedValue(i,t,n):"text"===s&&(o=this.rawValue(i)),void 0!==o&&(l+=o);return l},b.prototype.renderSection=function(e,r,n,i,s){var o=this,l="",d=r.lookup(e[1]);if(d){if(t(d))for(var p=0,u=d.length;p<u;++p)l+=this.renderTokens(e[4],r.push(d[p]),n,i,s);else if("object"==typeof d||"string"==typeof d||"number"==typeof d)l+=this.renderTokens(e[4],r.push(d),n,i,s);else if(a(d)){if("string"!=typeof i)throw new Error("Cannot use higher-order sections without the original template");null!=(d=d.call(r.view,i.slice(e[3],e[5]),(function(e){return o.render(e,r,n,s)})))&&(l+=d)}else l+=this.renderTokens(e[4],r,n,i,s);return l}},b.prototype.renderInverted=function(e,a,r,n,i){var s=a.lookup(e[1]);if(!s||t(s)&&0===s.length)return this.renderTokens(e[4],a,r,n,i)},b.prototype.indentPartial=function(e,t,a){for(var r=t.replace(/[^ \t]/g,""),n=e.split("\n"),i=0;i<n.length;i++)n[i].length&&(i>0||!a)&&(n[i]=r+n[i]);return n.join("\n")},b.prototype.renderPartial=function(e,t,r,n){if(r){var i=this.getConfigTags(n),s=a(r)?r(e[1]):r[e[1]];if(null!=s){var o=e[6],l=e[5],d=e[4],p=s;0==l&&d&&(p=this.indentPartial(s,d,o));var u=this.parse(p,i);return this.renderTokens(u,t,r,p,n)}}},b.prototype.unescapedValue=function(e,t){var a=t.lookup(e[1]);if(null!=a)return a},b.prototype.escapedValue=function(e,t,a){var r=this.getConfigEscape(a)||g.escape,n=t.lookup(e[1]);if(null!=n)return"number"==typeof n&&r===g.escape?String(n):r(n)},b.prototype.rawValue=function(e){return e[1]},b.prototype.getConfigTags=function(e){return t(e)?e:e&&"object"==typeof e?e.tags:void 0},b.prototype.getConfigEscape=function(e){return e&&"object"==typeof e&&!t(e)?e.escape:void 0};var g={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(e){v.templateCache=e},get templateCache(){return v.templateCache}},v=new b;return g.clearCache=function(){return v.clearCache()},g.parse=function(e,t){return v.parse(e,t)},g.render=function(e,a,r,n){if("string"!=typeof e)throw new TypeError('Invalid template! Template should be a "string" but "'+((t(i=e)?"array":typeof i)+'" was given as the first argument for mustache#render(template, view, partials)'));var i;return v.render(e,a,r,n)},g.escape=function(e){return String(e).replace(/[&<>"'`=\/]/g,(function(e){return l[e]}))},g.Scanner=h,g.Context=f,g.Writer=b,g}()},45157:(e,t,a)=>{if(!globalThis.DOMException)try{const{MessageChannel:e}=a(28167),t=(new e).port1,r=new ArrayBuffer;t.postMessage(r,[r,r])}catch(e){"DOMException"===e.constructor.name&&(globalThis.DOMException=e.constructor)}e.exports=globalThis.DOMException},44617:e=>{"use strict";e.exports=(e,t)=>(t=t||(()=>{}),e.then((e=>new Promise((e=>{e(t())})).then((()=>e))),(e=>new Promise((e=>{e(t())})).then((()=>{throw e})))))},73290:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(30228),n=a(56641),i=a(54774),s=()=>{},o=new n.TimeoutError;t.default=class extends r{constructor(e){var t,a,r,n;if(super(),this._intervalCount=0,this._intervalEnd=0,this._pendingCount=0,this._resolveEmpty=s,this._resolveIdle=s,!("number"==typeof(e=Object.assign({carryoverConcurrencyCount:!1,intervalCap:1/0,interval:0,concurrency:1/0,autoStart:!0,queueClass:i.default},e)).intervalCap&&e.intervalCap>=1))throw new TypeError(`Expected \`intervalCap\` to be a number from 1 and up, got \`${null!==(a=null===(t=e.intervalCap)||void 0===t?void 0:t.toString())&&void 0!==a?a:""}\` (${typeof e.intervalCap})`);if(void 0===e.interval||!(Number.isFinite(e.interval)&&e.interval>=0))throw new TypeError(`Expected \`interval\` to be a finite number >= 0, got \`${null!==(n=null===(r=e.interval)||void 0===r?void 0:r.toString())&&void 0!==n?n:""}\` (${typeof e.interval})`);this._carryoverConcurrencyCount=e.carryoverConcurrencyCount,this._isIntervalIgnored=e.intervalCap===1/0||0===e.interval,this._intervalCap=e.intervalCap,this._interval=e.interval,this._queue=new e.queueClass,this._queueClass=e.queueClass,this.concurrency=e.concurrency,this._timeout=e.timeout,this._throwOnTimeout=!0===e.throwOnTimeout,this._isPaused=!1===e.autoStart}get _doesIntervalAllowAnother(){return this._isIntervalIgnored||this._intervalCount<this._intervalCap}get _doesConcurrentAllowAnother(){return this._pendingCount<this._concurrency}_next(){this._pendingCount--,this._tryToStartAnother(),this.emit("next")}_resolvePromises(){this._resolveEmpty(),this._resolveEmpty=s,0===this._pendingCount&&(this._resolveIdle(),this._resolveIdle=s,this.emit("idle"))}_onResumeInterval(){this._onInterval(),this._initializeIntervalIfNeeded(),this._timeoutId=void 0}_isIntervalPaused(){const e=Date.now();if(void 0===this._intervalId){const t=this._intervalEnd-e;if(!(t<0))return void 0===this._timeoutId&&(this._timeoutId=setTimeout((()=>{this._onResumeInterval()}),t)),!0;this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0}return!1}_tryToStartAnother(){if(0===this._queue.size)return this._intervalId&&clearInterval(this._intervalId),this._intervalId=void 0,this._resolvePromises(),!1;if(!this._isPaused){const e=!this._isIntervalPaused();if(this._doesIntervalAllowAnother&&this._doesConcurrentAllowAnother){const t=this._queue.dequeue();return!!t&&(this.emit("active"),t(),e&&this._initializeIntervalIfNeeded(),!0)}}return!1}_initializeIntervalIfNeeded(){this._isIntervalIgnored||void 0!==this._intervalId||(this._intervalId=setInterval((()=>{this._onInterval()}),this._interval),this._intervalEnd=Date.now()+this._interval)}_onInterval(){0===this._intervalCount&&0===this._pendingCount&&this._intervalId&&(clearInterval(this._intervalId),this._intervalId=void 0),this._intervalCount=this._carryoverConcurrencyCount?this._pendingCount:0,this._processQueue()}_processQueue(){for(;this._tryToStartAnother(););}get concurrency(){return this._concurrency}set concurrency(e){if(!("number"==typeof e&&e>=1))throw new TypeError(`Expected \`concurrency\` to be a number from 1 and up, got \`${e}\` (${typeof e})`);this._concurrency=e,this._processQueue()}async add(e,t={}){return new Promise(((a,r)=>{this._queue.enqueue((async()=>{this._pendingCount++,this._intervalCount++;try{const i=void 0===this._timeout&&void 0===t.timeout?e():n.default(Promise.resolve(e()),void 0===t.timeout?this._timeout:t.timeout,(()=>{(void 0===t.throwOnTimeout?this._throwOnTimeout:t.throwOnTimeout)&&r(o)}));a(await i)}catch(e){r(e)}this._next()}),t),this._tryToStartAnother(),this.emit("add")}))}async addAll(e,t){return Promise.all(e.map((async e=>this.add(e,t))))}start(){return this._isPaused?(this._isPaused=!1,this._processQueue(),this):this}pause(){this._isPaused=!0}clear(){this._queue=new this._queueClass}async onEmpty(){if(0!==this._queue.size)return new Promise((e=>{const t=this._resolveEmpty;this._resolveEmpty=()=>{t(),e()}}))}async onIdle(){if(0!==this._pendingCount||0!==this._queue.size)return new Promise((e=>{const t=this._resolveIdle;this._resolveIdle=()=>{t(),e()}}))}get size(){return this._queue.size}sizeBy(e){return this._queue.filter(e).length}get pending(){return this._pendingCount}get isPaused(){return this._isPaused}get timeout(){return this._timeout}set timeout(e){this._timeout=e}}},79998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,a){let r=0,n=e.length;for(;n>0;){const i=n/2|0;let s=r+i;a(e[s],t)<=0?(r=++s,n-=i+1):n=i}return r}},54774:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(79998);t.default=class{constructor(){this._queue=[]}enqueue(e,t){const a={priority:(t=Object.assign({priority:0},t)).priority,run:e};if(this.size&&this._queue[this.size-1].priority>=t.priority)return void this._queue.push(a);const n=r.default(this._queue,a,((e,t)=>t.priority-e.priority));this._queue.splice(n,0,a)}dequeue(){const e=this._queue.shift();return null==e?void 0:e.run}filter(e){return this._queue.filter((t=>t.priority===e.priority)).map((e=>e.run))}get size(){return this._queue.length}}},24116:(e,t,a)=>{"use strict";const r=a(75617),n=["Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed"];class i extends Error{constructor(e){super(),e instanceof Error?(this.originalError=e,({message:e}=e)):(this.originalError=new Error(e),this.originalError.stack=this.stack),this.name="AbortError",this.message=e}}const s=(e,t)=>new Promise(((a,s)=>{t={onFailedAttempt:()=>{},retries:10,...t};const o=r.operation(t);o.attempt((async r=>{try{a(await e(r))}catch(e){if(!(e instanceof Error))return void s(new TypeError(`Non-error was thrown: "${e}". You should only throw errors.`));if(e instanceof i)o.stop(),s(e.originalError);else if(e instanceof TypeError&&(l=e.message,!n.includes(l)))o.stop(),s(e);else{((e,t,a)=>{const r=a.retries-(t-1);e.attemptNumber=t,e.retriesLeft=r})(e,r,t);try{await t.onFailedAttempt(e)}catch(e){return void s(e)}o.retry(e)||s(o.mainError())}}var l}))}));e.exports=s,e.exports.default=s,e.exports.AbortError=i},56641:(e,t,a)=>{"use strict";const r=a(44617);class n extends Error{constructor(e){super(e),this.name="TimeoutError"}}const i=(e,t,a)=>new Promise(((i,s)=>{if("number"!=typeof t||t<0)throw new TypeError("Expected `milliseconds` to be a positive number");if(t===1/0)return void i(e);const o=setTimeout((()=>{if("function"==typeof a){try{i(a())}catch(e){s(e)}return}const r=a instanceof Error?a:new n("string"==typeof a?a:`Promise timed out after ${t} milliseconds`);"function"==typeof e.cancel&&e.cancel(),s(r)}),t);r(e.then(i,s),(()=>{clearTimeout(o)}))}));e.exports=i,e.exports.default=i,e.exports.TimeoutError=n},75617:(e,t,a)=>{e.exports=a(58303)},58303:(e,t,a)=>{var r=a(93961);t.operation=function(e){var a=t.timeouts(e);return new r(a,{forever:e&&(e.forever||e.retries===1/0),unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var a in e)t[a]=e[a];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],n=0;n<t.retries;n++)r.push(this.createTimeout(n,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(n,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var a=t.randomize?Math.random()+1:1,r=Math.round(a*Math.max(t.minTimeout,1)*Math.pow(t.factor,e));return Math.min(r,t.maxTimeout)},t.wrap=function(e,a,r){if(a instanceof Array&&(r=a,a=null),!r)for(var n in r=[],e)"function"==typeof e[n]&&r.push(n);for(var i=0;i<r.length;i++){var s=r[i],o=e[s];e[s]=function(r){var n=t.operation(a),i=Array.prototype.slice.call(arguments,1),s=i.pop();i.push((function(e){n.retry(e)||(e&&(arguments[0]=n.mainError()),s.apply(this,arguments))})),n.attempt((function(){r.apply(e,i)}))}.bind(e,o),e[s].options=a}}},93961:e=>{function t(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=t,t.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)},t.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null},t.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var a=this._timeouts.shift();if(void 0===a){if(!this._cachedTimeouts)return!1;this._errors.splice(0,this._errors.length-1),a=this._cachedTimeouts.slice(-1)}var r=this;return this._timer=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),a),this._options.unref&&this._timer.unref(),!0},t.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var a=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){a._operationTimeoutCb()}),a._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},t.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},t.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},t.prototype.start=t.prototype.try,t.prototype.errors=function(){return this._errors},t.prototype.attempts=function(){return this._attempts},t.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,a=0,r=0;r<this._errors.length;r++){var n=this._errors[r],i=n.message,s=(e[i]||0)+1;e[i]=s,s>=a&&(t=n,a=s)}return t}},36673:(e,t,a)=>{"use strict";var r=a(24876),n=a(92472),i={TRANSITIONAL:0,NONTRANSITIONAL:1};function s(e){return e.split("\0").map((function(e){return e.normalize("NFC")})).join("\0")}function o(e){for(var t=0,a=n.length-1;t<=a;){var r=Math.floor((t+a)/2),i=n[r];if(i[0][0]<=e&&i[0][1]>=e)return i;i[0][0]>e?a=r-1:t=r+1}return null}var l=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g;function d(e){return e.replace(l,"_").length}var p=/[\u0300-\u036F\u0483-\u0489\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u0711\u0730-\u074A\u07A6-\u07B0\u07EB-\u07F3\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u08E4-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A70\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B56\u0B57\u0B62\u0B63\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0C00-\u0C03\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0D01-\u0D03\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D82\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0EB1\u0EB4-\u0EB9\u0EBB\u0EBC\u0EC8-\u0ECD\u0F18\u0F19\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F\u109A-\u109D\u135D-\u135F\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u180B-\u180D\u18A9\u1920-\u192B\u1930-\u193B\u19B0-\u19C0\u19C8\u19C9\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F\u1AB0-\u1ABE\u1B00-\u1B04\u1B34-\u1B44\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BE6-\u1BF3\u1C24-\u1C37\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF2-\u1CF4\u1CF8\u1CF9\u1DC0-\u1DF5\u1DFC-\u1DFF\u20D0-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\uA66F-\uA672\uA674-\uA67D\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA880\uA881\uA8B4-\uA8C4\uA8E0-\uA8F1\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9E5\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uFB1E\uFE00-\uFE0F\uFE20-\uFE2D]|\uD800[\uDDFD\uDEE0\uDF76-\uDF7A]|\uD802[\uDE01-\uDE03\uDE05\uDE06\uDE0C-\uDE0F\uDE38-\uDE3A\uDE3F\uDEE5\uDEE6]|\uD804[\uDC00-\uDC02\uDC38-\uDC46\uDC7F-\uDC82\uDCB0-\uDCBA\uDD00-\uDD02\uDD27-\uDD34\uDD73\uDD80-\uDD82\uDDB3-\uDDC0\uDE2C-\uDE37\uDEDF-\uDEEA\uDF01-\uDF03\uDF3C\uDF3E-\uDF44\uDF47\uDF48\uDF4B-\uDF4D\uDF57\uDF62\uDF63\uDF66-\uDF6C\uDF70-\uDF74]|\uD805[\uDCB0-\uDCC3\uDDAF-\uDDB5\uDDB8-\uDDC0\uDE30-\uDE40\uDEAB-\uDEB7]|\uD81A[\uDEF0-\uDEF4\uDF30-\uDF36]|\uD81B[\uDF51-\uDF7E\uDF8F-\uDF92]|\uD82F[\uDC9D\uDC9E]|\uD834[\uDD65-\uDD69\uDD6D-\uDD72\uDD7B-\uDD82\uDD85-\uDD8B\uDDAA-\uDDAD\uDE42-\uDE44]|\uD83A[\uDCD0-\uDCD6]|\uDB40[\uDD00-\uDDEF]/;function u(e,t){"xn--"===e.substr(0,4)&&(e=r.toUnicode(e),i.NONTRANSITIONAL);var a=!1;(s(e)!==e||"-"===e[3]&&"-"===e[4]||"-"===e[0]||"-"===e[e.length-1]||-1!==e.indexOf(".")||0===e.search(p))&&(a=!0);for(var n=d(e),l=0;l<n;++l){var u=o(e.codePointAt(l));if(c===i.TRANSITIONAL&&"valid"!==u[1]||c===i.NONTRANSITIONAL&&"valid"!==u[1]&&"deviation"!==u[1]){a=!0;break}}return{label:e,error:a}}function c(e,t,a){var r=function(e,t,a){for(var r=!1,n="",s=d(e),l=0;l<s;++l){var p=e.codePointAt(l),u=o(p);switch(u[1]){case"disallowed":r=!0,n+=String.fromCodePoint(p);break;case"ignored":break;case"mapped":n+=String.fromCodePoint.apply(String,u[2]);break;case"deviation":a===i.TRANSITIONAL?n+=String.fromCodePoint.apply(String,u[2]):n+=String.fromCodePoint(p);break;case"valid":n+=String.fromCodePoint(p);break;case"disallowed_STD3_mapped":t?(r=!0,n+=String.fromCodePoint(p)):n+=String.fromCodePoint.apply(String,u[2]);break;case"disallowed_STD3_valid":t&&(r=!0),n+=String.fromCodePoint(p)}}return{string:n,error:r}}(e,t,a);r.string=s(r.string);for(var n=r.string.split("."),l=0;l<n.length;++l)try{var p=u(n[l]);n[l]=p.label,r.error=r.error||p.error}catch(e){r.error=!0}return{string:n.join("."),error:r.error}}e.exports.toASCII=function(e,t,a,n){var i=c(e,t,a),s=i.string.split(".");if(s=s.map((function(e){try{return r.toASCII(e)}catch(t){return i.error=!0,e}})),n){var o=s.slice(0,s.length-1).join(".").length;(o.length>253||0===o.length)&&(i.error=!0);for(var l=0;l<s.length;++l)if(s.length>63||0===s.length){i.error=!0;break}}return i.error?null:s.join(".")},e.exports.toUnicode=function(e,t){var a=c(e,t,i.NONTRANSITIONAL);return{domain:a.string,error:a.error}},e.exports.PROCESSING_OPTIONS=i},37226:function(e,t){"use strict";var a=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.addNewTaskFlow=t.callRag=t.determineMatches=t.getEmbedding=t.extractYoutubeContent=t.extractTextFromImage=t.extractWebsiteContent=t.playAudio=t.hideCursorContent=t.displayCursorContent=t.clearContentAtPositions=t.displayContentAtPositions=t.openNewWindow=t.toBuffer=t.toBase64=t.waitUntilMarked=t.clearAreas=t.markAreas=t.stopAudioRecording=t.startAudioRecording=t.waitForInput=t.isStreaming=t.startStream=t.endStream=t.replaceContentStream=t.pushContentStream=t.pushLog=t.addResult=t.updatePrompt=t.addPrompt=t.executeCommand=t.getCommands=t.getAiApiKey=t.getAiSettings=t.getKeyValues=t.submitPrompt=t.setPrompt=t.addInteractionContent=t.getState=t.updateState=t.getInteractionState=t.newInteraction=t.getImagesByWindowName=t.getImagesBySimilarity=t.ingestImages=t.ingestText=t.getDocsByUrl=t.getDocsBySimilarity=t.getAllDocs=t.codeExec=void 0,t.DefaultKeys=t.waitforAnswer=t.classifyText=t.taskExplainListener=t.taskMarkListener=t.stopTaskRecording=t.startTaskRecording=t.getTaskFlows=void 0;const r="test",n="http://localhost:3440/execute";function i(e){return a(this,arguments,void 0,(function*(e,t=0){try{const t={code:e,key:r},a=yield fetch(n,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);return(yield a.json()).result}catch(a){if(console.log(a),3==++t)throw new Error(a);return i(e,t)}}))}function s(e){return a(this,arguments,void 0,(function*(e,t="code/exec"){try{const a=yield fetch(`http://localhost:3400/api/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(!a.ok)throw new Error(`HTTP error! Status: ${a.status}`);return(yield a.json()).result}catch(e){throw console.log(e),new Error(e)}}))}function o(){return a(this,void 0,void 0,(function*(){return yield i("return await getKeyValues();")}))}function l(e){return a(this,void 0,void 0,(function*(){return(yield o()).find((t=>t.id===e))}))}function d(){return a(this,void 0,void 0,(function*(){return yield i("return await waitForInput();")}))}function p(e,t="png"){return`data:image/${t};base64,${e.toString("base64")}`}function u(e,t,r){return a(this,void 0,void 0,(function*(){const a=`return await classifyText(\`${e}\`, ${JSON.stringify(t)}, ${r});`;return yield i(a)}))}function c(e){return e?("string"!=typeof e&&(e=JSON.stringify(e)),encodeURI(e)):""}var m;t.codeExec=i,t.getAllDocs=function(){return a(this,void 0,void 0,(function*(){return yield i("return await getAllDocs();")}))},t.getDocsBySimilarity=function(e){return a(this,arguments,void 0,(function*(e,t=2,a={},r="global"){const n=`return await getDocsBySimilarity(\`${function(e){return e?("string"!=typeof e&&(e=e.toString()),e.replace(/`/g,"\\`")):""}(e)}\`, ${t}, ${JSON.stringify(a)}, '${r}');`;return yield i(n)}))},t.getDocsByUrl=function(e){return a(this,void 0,void 0,(function*(){const t=`return await getDocsByUrl(\`${e}\`);`;return yield i(t)}))},t.ingestText=function(e,t){return a(this,arguments,void 0,(function*(e,t,a="global"){const r=`await ingestText(\`${e}\`, ${JSON.stringify(null!=t?t:{})}, '${a}');`;yield i(r)}))},t.ingestImages=function(e,t){return a(this,arguments,void 0,(function*(e,t,a="images"){const r=`return await ingestImages(${JSON.stringify(e)}, ${JSON.stringify(null!=t?t:{})}, '${a}');`;return yield i(r)}))},t.getImagesBySimilarity=function(e){return a(this,arguments,void 0,(function*(e,t=2,a={},r="images"){"string"!=typeof e&&(e=p(e));const n=`return await getImagesBySimilarity(\`${e}\`, ${t}, ${JSON.stringify(a)}, '${r}');`;return yield i(n)}))},t.getImagesByWindowName=function(e){return a(this,void 0,void 0,(function*(){const t=`return await getImagesByWindowName('${e}');`;return yield i(t)}))},t.newInteraction=function(){return a(this,void 0,void 0,(function*(){return yield i("return await newInteraction();")}))},t.getInteractionState=function(){return a(this,void 0,void 0,(function*(){return yield i("return await getInteractionState();")}))},t.updateState=function(e){return a(this,void 0,void 0,(function*(){const t=`updateState(${JSON.stringify(e)});`;yield i(t)}))},t.getState=function(){return a(this,void 0,void 0,(function*(){return yield i("return getState();")}))},t.addInteractionContent=function(e){return a(this,void 0,void 0,(function*(){const t=`await addInteractionContent(\`${e}\`);`;yield i(t)}))},t.setPrompt=function(e){return a(this,void 0,void 0,(function*(){const t=`await setInput(\`${e}\`);`;yield i(t)}))},t.submitPrompt=function(e){return a(this,void 0,void 0,(function*(){const t=`await submitPrompt(\`${e}\`);`;yield i(t)}))},t.getKeyValues=o,t.getAiSettings=l,t.getAiApiKey=function(e){return a(this,void 0,void 0,(function*(){return(yield l(e)).values.ApiKey}))},t.getCommands=function(){return a(this,void 0,void 0,(function*(){return yield i("return await getCommands();")}))},t.executeCommand=function(e,t){return a(this,void 0,void 0,(function*(){const a=`return await execCommand(\`${e}\`, \`${t}\`);`;return yield i(a)}))},t.addPrompt=function(e){return a(this,void 0,void 0,(function*(){const t=`addPrompt(\`${c(e)}\`, true);`;yield i(t)}))},t.updatePrompt=function(e){return a(this,void 0,void 0,(function*(){const t=`updatePrompt(\`${c(e)}\`, true);`;yield i(t)}))},t.addResult=function(e){return a(this,void 0,void 0,(function*(){const t=`addResult(\`${c(e)}\`, null, true);`;yield i(t)}))},t.pushLog=function(e){return a(this,void 0,void 0,(function*(){const t=`pushLog(\`${c(e)}\`, true);`;yield i(t)}))},t.pushContentStream=function(e){return a(this,void 0,void 0,(function*(){const t=`pushContentStream(\`${c(e)}\`);`;yield i(t)}))},t.replaceContentStream=function(e,t){return a(this,void 0,void 0,(function*(){const a=`replaceContentStream(\`${c(e)}\`, \`${c(t)}\`);`;yield i(a)}))},t.endStream=function(){return a(this,void 0,void 0,(function*(){yield i("endStream();")}))},t.startStream=function(){return a(this,void 0,void 0,(function*(){yield i("await startStream();")}))},t.isStreaming=function(){return a(this,void 0,void 0,(function*(){return yield i("return await isStreaming();")}))},t.waitForInput=d,t.startAudioRecording=function(){return a(this,void 0,void 0,(function*(){const e=yield i("return await startAudioRecording();");return e?Buffer.from(JSON.parse(e)):null}))},t.stopAudioRecording=function(){return a(this,void 0,void 0,(function*(){yield i("stopAudioRecording();")}))},t.markAreas=function(e){return a(this,void 0,void 0,(function*(){const t=`await markAreas(${JSON.stringify(e)});`;yield i(t)}))},t.clearAreas=function(){return a(this,void 0,void 0,(function*(){yield i("await clearAreas();")}))},t.waitUntilMarked=function(){return a(this,void 0,void 0,(function*(){const e=yield i("return await waitUntilMarked();");return{fileBuffer:Buffer.from(JSON.parse(e.fileBuffer)),captureRect:e.captureRect}}))},t.toBase64=p,t.toBuffer=function(e){return Buffer.from(e.replace(/^data:image\/\w+;base64,/,""),"base64")},t.openNewWindow=function(e,t){return a(this,void 0,void 0,(function*(){const a=`await openExternalWindow(\`${c(e)}\`, ${JSON.stringify(null!=t?t:{})});`;yield i(a)}))},t.displayContentAtPositions=function(e){return a(this,arguments,void 0,(function*(e,t={clickable:!1,additionalCss:""}){const a=`await displayContentAtPositions(\`${c(e)}\`, \`${c(t)}\`);`;yield i(a)}))},t.clearContentAtPositions=function(){return a(this,void 0,void 0,(function*(){yield i("await clearContentAtPositions();")}))},t.displayCursorContent=function(e){return a(this,void 0,void 0,(function*(){const t=`await displayCursorContent(\`${c(e)}\`, true);`;yield i(t)}))},t.hideCursorContent=function(){return a(this,void 0,void 0,(function*(){yield i("await hideCursorContent();")}))},t.playAudio=function(e,t){return a(this,void 0,void 0,(function*(){const a=`await playAudio(\`${e}\`, ${t});`;yield i(a)}))},t.extractWebsiteContent=function(e){return a(this,arguments,void 0,(function*(e,t=1){const a=`return await extractWebsiteContent(\`${e}\`, ${t}, true);`,r=yield s({code:a});return JSON.parse(r)}))},t.extractTextFromImage=function(e){return a(this,arguments,void 0,(function*(e,t="eng"){const a=`return await extractTextFromImage(\`${JSON.stringify(e)}\`, \`${t}\`, true);`,r=yield s({code:a});return JSON.parse(r)}))},t.extractYoutubeContent=function(e){return a(this,void 0,void 0,(function*(){const t=`return await extractYoutubeContent(\`${e}\`, true);`,a=yield i(t);return JSON.parse(a)}))},t.getEmbedding=function(e,t){return a(this,void 0,void 0,(function*(){return yield s({texts:e,model:t},"vector/embedding")}))},t.determineMatches=function(e,t){return a(this,arguments,void 0,(function*(e,t,a=.8){const r=`return await determineMatches(\`${e}\`, \`${t}\`, ${a});`;return yield i(r)}))},t.callRag=function(e,t,r){return a(this,void 0,void 0,(function*(){const a=`return await callRag(\`${e}\`, ${JSON.stringify(t)}, ${JSON.stringify(r)});`;return yield i(a)}))},t.addNewTaskFlow=function(e){return a(this,void 0,void 0,(function*(){const t=`await addNewTaskFlow(${JSON.stringify(e)});`;yield i(t)}))},t.getTaskFlows=function(){return a(this,void 0,void 0,(function*(){return yield i("return await getTaskFlows();")}))},t.startTaskRecording=function(){return a(this,void 0,void 0,(function*(){yield i("await startTaskRecording()")}))},t.stopTaskRecording=function(){return a(this,void 0,void 0,(function*(){yield i("stopTaskRecording()")}))},t.taskMarkListener=function(){return a(this,void 0,void 0,(function*(){return yield i("return await taskMarkListener()")}))},t.taskExplainListener=function(){return a(this,void 0,void 0,(function*(){return yield i("return await taskExplainListener()")}))},t.classifyText=u,t.waitforAnswer=function(e){return a(this,void 0,void 0,(function*(){const t=yield d(),a=yield u(t,e);return a.scores.indexOf(Math.max(...a.scores))}))},function(e){e.GOOGLE="GOOGLE",e.OPENAI="OPENAI",e.OLLAMA="OLLAMA"}(m||(t.DefaultKeys=m={}))},59766:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getLLMModel=void 0;const r=a(4627),n=a(55039),i=a(22911),s={temperature:.1,streaming:!0};t.getLLMModel=function(e){const t=e.values.ApiKey,a=e.values.Model;let o;switch(e.id){case"OPENAI":o=new r.ChatOpenAI(Object.assign(Object.assign({},s),{openAIApiKey:t,verbose:!0,model:a}));break;case"GOOGLE":o=new n.ChatGoogleGenerativeAI(Object.assign(Object.assign({},s),{model:a,apiKey:t}));break;case"OLLAMA":const l=e.values.Url;o=new i.Ollama({baseUrl:l,model:a});break;default:throw new Error("Model not found")}return o}},76888:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.Summarizer=void 0;const n=a(35070),i=a(75485),s=a(66749);t.Summarizer=class{constructor(e){this.llm=e}call(e,t,a,o){return r(this,void 0,void 0,(function*(){return new Promise(((a,l)=>r(this,void 0,void 0,(function*(){var r,d;try{let l=e;if("string"==typeof e){const t=new i.RecursiveCharacterTextSplitter({chunkSize:800});l=yield t.createDocuments([e])}const p=`Write a concise summary ${t?`and take ${t} into account`:""} of the following:\n\n\n                "{text}"\n                \n                \n                CONCISE SUMMARY:`,u=(0,n.loadSummarizationChain)(this.llm,{type:"refine",refinePrompt:new s.PromptTemplate({template:p,inputVariables:["text"]})}),c=yield u.invoke({input_documents:l},{callbacks:null==o?void 0:o.callbacks});a(null!==(d=null===(r=c.output_text)||void 0===r?void 0:r.trimStart())&&void 0!==d?d:"Nothing to summarize")}catch(e){l(e)}}))))}))}}},27222:function(e,t,a){"use strict";var r=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))((function(n,i){function s(e){try{l(r.next(e))}catch(e){i(e)}}function o(e){try{l(r.throw(e))}catch(e){i(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(s,o)}l((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.main=void 0;const n=a(59766),i=a(37226),s=a(66749),o=a(58618),l=a(76888),d="Getting anything together <loading>";t.main=function(e,t){return r(this,void 0,void 0,(function*(){(yield(0,i.isStreaming)())||(yield(0,i.startStream)()),yield(0,i.pushContentStream)(d);const a=yield(0,i.getAiSettings)(t.defaultLLMendpointId),p=(0,n.getLLMModel)(a),u=yield function(e,t){return r(this,void 0,void 0,(function*(){const a=s.PromptTemplate.fromTemplate("Do not explain or else just extract the URL as string of a given text.\n\n    Text: tell me the xy of example.com\n    URL: example.com\n\n    Text: Why is this so uncool of https://shu.de\n    URL: https://shu.de\n\n    Text: {text}\n    URL:").pipe(t).pipe(new o.StringOutputParser);return yield a.invoke({text:e})}))}(e,p),c=yield(0,i.getDocsByUrl)(u),m=new l.Summarizer(p),h=yield m.call(c);return yield(0,i.replaceContentStream)(d,h),yield(0,i.endStream)(),h}))}},50881:(e,t,a)=>{"use strict";a.r(t),a.d(t,{NIL:()=>v,parse:()=>u,stringify:()=>n.A,v1:()=>d,v3:()=>f,v4:()=>b.A,v5:()=>g,validate:()=>p.A,version:()=>y});var r=a(30695),n=a(97647);let i,s,o=0,l=0;const d=function(e,t,a){let d=t&&a||0;const p=t||new Array(16);let u=(e=e||{}).node||i,c=void 0!==e.clockseq?e.clockseq:s;if(null==u||null==c){const t=e.random||(e.rng||r.A)();null==u&&(u=i=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==c&&(c=s=16383&(t[6]<<8|t[7]))}let m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:l+1;const f=m-o+(h-l)/1e4;if(f<0&&void 0===e.clockseq&&(c=c+1&16383),(f<0||m>o)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=m,l=h,s=c,m+=122192928e5;const b=(1e4*(268435455&m)+h)%4294967296;p[d++]=b>>>24&255,p[d++]=b>>>16&255,p[d++]=b>>>8&255,p[d++]=255&b;const g=m/4294967296*1e4&268435455;p[d++]=g>>>8&255,p[d++]=255&g,p[d++]=g>>>24&15|16,p[d++]=g>>>16&255,p[d++]=c>>>8|128,p[d++]=255&c;for(let e=0;e<6;++e)p[d+e]=u[e];return t||(0,n.k)(p)};var p=a(38619);const u=function(e){if(!(0,p.A)(e))throw TypeError("Invalid UUID");let t;const a=new Uint8Array(16);return a[0]=(t=parseInt(e.slice(0,8),16))>>>24,a[1]=t>>>16&255,a[2]=t>>>8&255,a[3]=255&t,a[4]=(t=parseInt(e.slice(9,13),16))>>>8,a[5]=255&t,a[6]=(t=parseInt(e.slice(14,18),16))>>>8,a[7]=255&t,a[8]=(t=parseInt(e.slice(19,23),16))>>>8,a[9]=255&t,a[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,a[11]=t/4294967296&255,a[12]=t>>>24&255,a[13]=t>>>16&255,a[14]=t>>>8&255,a[15]=255&t,a};function c(e,t,a){function r(e,r,i,s){var o;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let a=0;a<e.length;++a)t.push(e.charCodeAt(a));return t}(e)),"string"==typeof r&&(r=u(r)),16!==(null===(o=r)||void 0===o?void 0:o.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(r),l.set(e,r.length),l=a(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,i){s=s||0;for(let e=0;e<16;++e)i[s+e]=l[e];return i}return(0,n.k)(l)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}var m=a(76982),h=a.n(m);const f=c("v3",48,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("md5").update(e).digest()}));var b=a(65461);const g=c("v5",80,(function(e){return Array.isArray(e)?e=Buffer.from(e):"string"==typeof e&&(e=Buffer.from(e,"utf8")),h().createHash("sha1").update(e).digest()})),v="00000000-0000-0000-0000-000000000000",y=function(e){if(!(0,p.A)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},30695:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(76982),n=a.n(r);const i=new Uint8Array(256);let s=i.length;function o(){return s>i.length-16&&(n().randomFillSync(i),s=0),i.slice(s,s+=16)}},97647:(e,t,a)=>{"use strict";a.d(t,{A:()=>s,k:()=>i});var r=a(38619);const n=[];for(let e=0;e<256;++e)n.push((e+256).toString(16).slice(1));function i(e,t=0){return n[e[t+0]]+n[e[t+1]]+n[e[t+2]]+n[e[t+3]]+"-"+n[e[t+4]]+n[e[t+5]]+"-"+n[e[t+6]]+n[e[t+7]]+"-"+n[e[t+8]]+n[e[t+9]]+"-"+n[e[t+10]]+n[e[t+11]]+n[e[t+12]]+n[e[t+13]]+n[e[t+14]]+n[e[t+15]]}const s=function(e,t=0){const a=i(e,t);if(!(0,r.A)(a))throw TypeError("Stringified UUID is invalid");return a}},65461:(e,t,a)=>{"use strict";a.d(t,{A:()=>o});var r=a(76982);const n={randomUUID:a.n(r)().randomUUID};var i=a(30695),s=a(97647);const o=function(e,t,a){if(n.randomUUID&&!t&&!e)return n.randomUUID();const r=(e=e||{}).random||(e.rng||i.A)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){a=a||0;for(let e=0;e<16;++e)t[a+e]=r[e];return t}return(0,s.k)(r)}},38619:(e,t,a)=>{"use strict";a.d(t,{A:()=>n});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,n=function(e){return"string"==typeof e&&r.test(e)}},45010:function(e,t){var a;a=function(e){"use strict";function t(){}function a(e){return"object"==typeof e&&null!==e||"function"==typeof e}const r=t;function n(e,t){try{Object.defineProperty(e,"name",{value:t,configurable:!0})}catch(e){}}const i=Promise,s=Promise.prototype.then,o=Promise.reject.bind(i);function l(e){return new i(e)}function d(e){return l((t=>t(e)))}function p(e){return o(e)}function u(e,t,a){return s.call(e,t,a)}function c(e,t,a){u(u(e,t,a),void 0,r)}function m(e,t){c(e,t)}function h(e,t){c(e,void 0,t)}function f(e,t,a){return u(e,t,a)}function b(e){u(e,void 0,r)}let g=e=>{if("function"==typeof queueMicrotask)g=queueMicrotask;else{const e=d(void 0);g=t=>u(e,t)}return g(e)};function v(e,t,a){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,a)}function y(e,t,a){try{return d(v(e,t,a))}catch(e){return p(e)}}class _{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let a=t;16383===t._elements.length&&(a={_elements:[],_next:void 0}),t._elements.push(e),a!==t&&(this._back=a,t._next=a),++this._size}shift(){const e=this._front;let t=e;const a=this._cursor;let r=a+1;const n=e._elements,i=n[a];return 16384===r&&(t=e._next,r=0),--this._size,this._cursor=r,e!==t&&(this._front=t),n[a]=void 0,i}forEach(e){let t=this._cursor,a=this._front,r=a._elements;for(;!(t===r.length&&void 0===a._next||t===r.length&&(a=a._next,r=a._elements,t=0,0===r.length));)e(r[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}const w=Symbol("[[AbortSteps]]"),P=Symbol("[[ErrorSteps]]"),O=Symbol("[[CancelSteps]]"),T=Symbol("[[PullSteps]]"),A=Symbol("[[ReleaseSteps]]");function S(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?k(e):"closed"===t._state?function(e){k(e),x(e)}(e):R(e,t._storedError)}function C(e,t){return Na(e._ownerReadableStream,t)}function E(e){const t=e._ownerReadableStream;"readable"===t._state?j(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){R(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),t._readableStreamController[A](),t._reader=void 0,e._ownerReadableStream=void 0}function I(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function k(e){e._closedPromise=l(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a}))}function R(e,t){k(e),j(e,t)}function j(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function x(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const N=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},M=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function D(e,t){if(void 0!==e&&"object"!=typeof(a=e)&&"function"!=typeof a)throw new TypeError(`${t} is not an object.`);var a}function L(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function $(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function F(e,t,a){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${a}'.`)}function q(e,t,a){if(void 0===e)throw new TypeError(`${t} is required in '${a}'.`)}function V(e){return Number(e)}function B(e){return 0===e?0:e}function z(e,t){const a=Number.MAX_SAFE_INTEGER;let r=Number(e);if(r=B(r),!N(r))throw new TypeError(`${t} is not a finite number`);if(r=function(e){return B(M(e))}(r),r<0||r>a)throw new TypeError(`${t} is outside the accepted range of 0 to ${a}, inclusive`);return N(r)&&0!==r?r:0}function U(e,t){if(!ja(e))throw new TypeError(`${t} is not a ReadableStream.`)}function K(e){return new J(e)}function Z(e,t){e._reader._readRequests.push(t)}function W(e,t,a){const r=e._reader._readRequests.shift();a?r._closeSteps():r._chunkSteps(t)}function H(e){return e._reader._readRequests.length}function G(e){const t=e._reader;return void 0!==t&&!!Y(t)}class J{constructor(e){if(F(e,1,"ReadableStreamDefaultReader"),U(e,"First parameter"),xa(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");S(this,e),this._readRequests=new _}get closed(){return Y(this)?this._closedPromise:p(ee("closed"))}cancel(e=void 0){return Y(this)?void 0===this._ownerReadableStream?p(I("cancel")):C(this,e):p(ee("cancel"))}read(){if(!Y(this))return p(ee("read"));if(void 0===this._ownerReadableStream)return p(I("read from"));let e,t;const a=l(((a,r)=>{e=a,t=r}));return Q(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),a}releaseLock(){if(!Y(this))throw ee("releaseLock");void 0!==this._ownerReadableStream&&function(e){E(e);X(e,new TypeError("Reader was released"))}(this)}}function Y(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")&&e instanceof J}function Q(e,t){const a=e._ownerReadableStream;a._disturbed=!0,"closed"===a._state?t._closeSteps():"errored"===a._state?t._errorSteps(a._storedError):a._readableStreamController[T](t)}function X(e,t){const a=e._readRequests;e._readRequests=new _,a.forEach((e=>{e._errorSteps(t)}))}function ee(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}Object.defineProperties(J.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(J.prototype.cancel,"cancel"),n(J.prototype.read,"read"),n(J.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(J.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0});const te=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ae{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?f(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?f(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;let t,a;const r=l(((e,r)=>{t=e,a=r}));return Q(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,g((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,E(e),a(t)}}),r}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(!this._preventCancel){const a=C(t,e);return E(t),f(a,(()=>({value:e,done:!0})))}return E(t),d({value:e,done:!0})}}const re={next(){return ne(this)?this._asyncIteratorImpl.next():p(ie("next"))},return(e){return ne(this)?this._asyncIteratorImpl.return(e):p(ie("return"))}};function ne(e){if(!a(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl"))return!1;try{return e._asyncIteratorImpl instanceof ae}catch(e){return!1}}function ie(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}Object.setPrototypeOf(re,te);const se=Number.isNaN||function(e){return e!=e};var oe,le,de;function pe(e){return e.slice()}function ue(e,t,a,r,n){new Uint8Array(e).set(new Uint8Array(a,r,n),t)}let ce=e=>(ce="function"==typeof e.transfer?e=>e.transfer():"function"==typeof structuredClone?e=>structuredClone(e,{transfer:[e]}):e=>e,ce(e)),me=e=>(me="boolean"==typeof e.detached?e=>e.detached:e=>0===e.byteLength,me(e));function he(e,t,a){if(e.slice)return e.slice(t,a);const r=a-t,n=new ArrayBuffer(r);return ue(n,0,e,t,r),n}function fe(e,t){const a=e[t];if(null!=a){if("function"!=typeof a)throw new TypeError(`${String(t)} is not a function`);return a}}const be=null!==(de=null!==(oe=Symbol.asyncIterator)&&void 0!==oe?oe:null===(le=Symbol.for)||void 0===le?void 0:le.call(Symbol,"Symbol.asyncIterator"))&&void 0!==de?de:"@@asyncIterator";function ge(e,t="sync",r){if(void 0===r)if("async"===t){if(void 0===(r=fe(e,be)))return function(e){const t={[Symbol.iterator]:()=>e.iterator},a=async function*(){return yield*t}();return{iterator:a,nextMethod:a.next,done:!1}}(ge(e,"sync",fe(e,Symbol.iterator)))}else r=fe(e,Symbol.iterator);if(void 0===r)throw new TypeError("The object is not iterable");const n=v(r,e,[]);if(!a(n))throw new TypeError("The iterator method must return an object");return{iterator:n,nextMethod:n.next,done:!1}}function ve(e){const t=he(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function ye(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function _e(e,t,a){if("number"!=typeof(r=a)||se(r)||r<0||a===1/0)throw new RangeError("Size must be a finite, non-NaN, non-negative number.");var r;e._queue.push({value:t,size:a}),e._queueTotalSize+=a}function we(e){e._queue=new _,e._queueTotalSize=0}function Pe(e){return e===DataView}class Oe{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Se(this))throw Ye("view");return this._view}respond(e){if(!Se(this))throw Ye("respond");if(F(e,1,"respond"),e=z(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(me(this._view.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be used as a response");He(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Se(this))throw Ye("respondWithNewView");if(F(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");if(me(e.buffer))throw new TypeError("The given view's buffer has been detached and so cannot be used as a response");Ge(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Oe.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),n(Oe.prototype.respond,"respond"),n(Oe.prototype.respondWithNewView,"respondWithNewView"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Oe.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Te{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!Ae(this))throw Qe("byobRequest");return Ze(this)}get desiredSize(){if(!Ae(this))throw Qe("desiredSize");return We(this)}close(){if(!Ae(this))throw Qe("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);Be(this)}enqueue(e){if(!Ae(this))throw Qe("enqueue");if(F(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);ze(this,e)}error(e=void 0){if(!Ae(this))throw Qe("error");Ue(this,e)}[O](e){Ee(this),we(this);const t=this._cancelAlgorithm(e);return Ve(this),t}[T](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0)return void Ke(this,e);const a=this._autoAllocateChunkSize;if(void 0!==a){let t;try{t=new ArrayBuffer(a)}catch(t){return void e._errorSteps(t)}const r={buffer:t,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,minimumFill:1,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(r)}Z(t,e),Ce(this)}[A](){if(this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek();e.readerType="none",this._pendingPullIntos=new _,this._pendingPullIntos.push(e)}}}function Ae(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")&&e instanceof Te}function Se(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")&&e instanceof Oe}function Ce(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(G(t)&&H(t)>0)return!0;if(rt(t)&&at(t)>0)return!0;return We(e)>0}(e);t&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,c(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Ce(e)),null)),(t=>(Ue(e,t),null)))))}function Ee(e){Le(e),e._pendingPullIntos=new _}function Ie(e,t){let a=!1;"closed"===e._state&&(a=!0);const r=ke(t);"default"===t.readerType?W(e,r,a):function(e,t,a){const r=e._reader._readIntoRequests.shift();a?r._closeSteps(t):r._chunkSteps(t)}(e,r,a)}function ke(e){const t=e.bytesFilled,a=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/a)}function Re(e,t,a,r){e._queue.push({buffer:t,byteOffset:a,byteLength:r}),e._queueTotalSize+=r}function je(e,t,a,r){let n;try{n=he(t,a,a+r)}catch(t){throw Ue(e,t),t}Re(e,n,0,r)}function xe(e,t){t.bytesFilled>0&&je(e,t.buffer,t.byteOffset,t.bytesFilled),qe(e)}function Ne(e,t){const a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),r=t.bytesFilled+a;let n=a,i=!1;const s=r-r%t.elementSize;s>=t.minimumFill&&(n=s-t.bytesFilled,i=!0);const o=e._queue;for(;n>0;){const a=o.peek(),r=Math.min(n,a.byteLength),i=t.byteOffset+t.bytesFilled;ue(t.buffer,i,a.buffer,a.byteOffset,r),a.byteLength===r?o.shift():(a.byteOffset+=r,a.byteLength-=r),e._queueTotalSize-=r,Me(0,r,t),n-=r}return i}function Me(e,t,a){a.bytesFilled+=t}function De(e){0===e._queueTotalSize&&e._closeRequested?(Ve(e),Ma(e._controlledReadableByteStream)):Ce(e)}function Le(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function $e(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Ne(e,t)&&(qe(e),Ie(e._controlledReadableByteStream,t))}}function Fe(e,t){const a=e._pendingPullIntos.peek();Le(e),"closed"===e._controlledReadableByteStream._state?function(e,t){"none"===t.readerType&&qe(e);const a=e._controlledReadableByteStream;if(rt(a))for(;at(a)>0;)Ie(a,qe(e))}(e,a):function(e,t,a){if(Me(0,t,a),"none"===a.readerType)return xe(e,a),void $e(e);if(a.bytesFilled<a.minimumFill)return;qe(e);const r=a.bytesFilled%a.elementSize;if(r>0){const t=a.byteOffset+a.bytesFilled;je(e,a.buffer,t-r,r)}a.bytesFilled-=r,Ie(e._controlledReadableByteStream,a),$e(e)}(e,t,a),Ce(e)}function qe(e){return e._pendingPullIntos.shift()}function Ve(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function Be(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled%t.elementSize!=0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw Ue(e,t),t}}Ve(e),Ma(t)}}function ze(e,t){const a=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==a._state)return;const{buffer:r,byteOffset:n,byteLength:i}=t;if(me(r))throw new TypeError("chunk's buffer is detached and so cannot be enqueued");const s=ce(r);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(me(t.buffer))throw new TypeError("The BYOB request's buffer has been detached and so cannot be filled with an enqueued chunk");Le(e),t.buffer=ce(t.buffer),"none"===t.readerType&&xe(e,t)}G(a)?(function(e){const t=e._controlledReadableByteStream._reader;for(;t._readRequests.length>0;){if(0===e._queueTotalSize)return;Ke(e,t._readRequests.shift())}}(e),0===H(a)?Re(e,s,n,i):(e._pendingPullIntos.length>0&&qe(e),W(a,new Uint8Array(s,n,i),!1))):rt(a)?(Re(e,s,n,i),$e(e)):Re(e,s,n,i),Ce(e)}function Ue(e,t){const a=e._controlledReadableByteStream;"readable"===a._state&&(Ee(e),we(e),Ve(e),Da(a,t))}function Ke(e,t){const a=e._queue.shift();e._queueTotalSize-=a.byteLength,De(e);const r=new Uint8Array(a.buffer,a.byteOffset,a.byteLength);t._chunkSteps(r)}function Ze(e){if(null===e._byobRequest&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek(),a=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled),r=Object.create(Oe.prototype);!function(e,t,a){e._associatedReadableByteStreamController=t,e._view=a}(r,e,a),e._byobRequest=r}return e._byobRequest}function We(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function He(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}else{if(0===t)throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream");if(a.bytesFilled+t>a.byteLength)throw new RangeError("bytesWritten out of range")}a.buffer=ce(a.buffer),Fe(e,t)}function Ge(e,t){const a=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t.byteLength)throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}else if(0===t.byteLength)throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream");if(a.byteOffset+a.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(a.bufferByteLength!==t.buffer.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");if(a.bytesFilled+t.byteLength>a.byteLength)throw new RangeError("The region specified by view is larger than byobRequest");const r=t.byteLength;a.buffer=ce(t.buffer),Fe(e,r)}function Je(e,t,a,r,n,i,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,we(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=n,t._autoAllocateChunkSize=s,t._pendingPullIntos=new _,e._readableStreamController=t,c(d(a()),(()=>(t._started=!0,Ce(t),null)),(e=>(Ue(t,e),null)))}function Ye(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function Qe(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Xe(e,t){if("byob"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function et(e){return new nt(e)}function tt(e,t){e._reader._readIntoRequests.push(t)}function at(e){return e._reader._readIntoRequests.length}function rt(e){const t=e._reader;return void 0!==t&&!!it(t)}Object.defineProperties(Te.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),n(Te.prototype.close,"close"),n(Te.prototype.enqueue,"enqueue"),n(Te.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Te.prototype,Symbol.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class nt{constructor(e){if(F(e,1,"ReadableStreamBYOBReader"),U(e,"First parameter"),xa(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!Ae(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");S(this,e),this._readIntoRequests=new _}get closed(){return it(this)?this._closedPromise:p(lt("closed"))}cancel(e=void 0){return it(this)?void 0===this._ownerReadableStream?p(I("cancel")):C(this,e):p(lt("cancel"))}read(e,t={}){if(!it(this))return p(lt("read"));if(!ArrayBuffer.isView(e))return p(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return p(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return p(new TypeError("view's buffer must have non-zero byteLength"));if(me(e.buffer))return p(new TypeError("view's buffer has been detached"));let a;try{a=function(e,t){var a;return D(e,t),{min:z(null!==(a=null==e?void 0:e.min)&&void 0!==a?a:1,`${t} has member 'min' that`)}}(t,"options")}catch(e){return p(e)}const r=a.min;if(0===r)return p(new TypeError("options.min must be greater than 0"));if(function(e){return Pe(e.constructor)}(e)){if(r>e.byteLength)return p(new RangeError("options.min must be less than or equal to view's byteLength"))}else if(r>e.length)return p(new RangeError("options.min must be less than or equal to view's length"));if(void 0===this._ownerReadableStream)return p(I("read from"));let n,i;const s=l(((e,t)=>{n=e,i=t}));return st(this,e,r,{_chunkSteps:e=>n({value:e,done:!1}),_closeSteps:e=>n({value:e,done:!0}),_errorSteps:e=>i(e)}),s}releaseLock(){if(!it(this))throw lt("releaseLock");void 0!==this._ownerReadableStream&&function(e){E(e);ot(e,new TypeError("Reader was released"))}(this)}}function it(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")&&e instanceof nt}function st(e,t,a,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,a,r){const n=e._controlledReadableByteStream,i=t.constructor,s=function(e){return Pe(e)?1:e.BYTES_PER_ELEMENT}(i),{byteOffset:o,byteLength:l}=t,d=a*s;let p;try{p=ce(t.buffer)}catch(e){return void r._errorSteps(e)}const u={buffer:p,bufferByteLength:p.byteLength,byteOffset:o,byteLength:l,bytesFilled:0,minimumFill:d,elementSize:s,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(u),void tt(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Ne(e,u)){const t=ke(u);return De(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return Ue(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(u),tt(n,r),Ce(e)}else{const e=new i(u.buffer,u.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,a,r)}function ot(e,t){const a=e._readIntoRequests;e._readIntoRequests=new _,a.forEach((e=>{e._errorSteps(t)}))}function lt(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function dt(e,t){const{highWaterMark:a}=e;if(void 0===a)return t;if(se(a)||a<0)throw new RangeError("Invalid highWaterMark");return a}function pt(e){const{size:t}=e;return t||(()=>1)}function ut(e,t){D(e,t);const a=null==e?void 0:e.highWaterMark,r=null==e?void 0:e.size;return{highWaterMark:void 0===a?void 0:V(a),size:void 0===r?void 0:ct(r,`${t} has member 'size' that`)}}function ct(e,t){return L(e,t),t=>V(e(t))}function mt(e,t,a){return L(e,a),a=>y(e,t,[a])}function ht(e,t,a){return L(e,a),()=>y(e,t,[])}function ft(e,t,a){return L(e,a),a=>v(e,t,[a])}function bt(e,t,a){return L(e,a),(a,r)=>y(e,t,[a,r])}function gt(e,t){if(!Pt(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(nt.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),n(nt.prototype.cancel,"cancel"),n(nt.prototype.read,"read"),n(nt.prototype.releaseLock,"releaseLock"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(nt.prototype,Symbol.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});const vt="function"==typeof AbortController;class yt{constructor(e={},t={}){void 0===e?e=null:$(e,"First parameter");const a=ut(t,"Second parameter"),r=function(e,t){D(e,t);const a=null==e?void 0:e.abort,r=null==e?void 0:e.close,n=null==e?void 0:e.start,i=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===a?void 0:mt(a,e,`${t} has member 'abort' that`),close:void 0===r?void 0:ht(r,e,`${t} has member 'close' that`),start:void 0===n?void 0:ft(n,e,`${t} has member 'start' that`),write:void 0===s?void 0:bt(s,e,`${t} has member 'write' that`),type:i}}(e,"First parameter");if(wt(this),void 0!==r.type)throw new RangeError("Invalid type is specified");const n=pt(a);!function(e,t,a,r){const n=Object.create(Ft.prototype);let i,s,o,l;i=void 0!==t.start?()=>t.start(n):()=>{},s=void 0!==t.write?e=>t.write(e,n):()=>d(void 0),o=void 0!==t.close?()=>t.close():()=>d(void 0),l=void 0!==t.abort?e=>t.abort(e):()=>d(void 0),Vt(e,n,i,s,o,l,a,r)}(this,r,dt(a,1),n)}get locked(){if(!Pt(this))throw Ht("locked");return Ot(this)}abort(e=void 0){return Pt(this)?Ot(this)?p(new TypeError("Cannot abort a stream that already has a writer")):Tt(this,e):p(Ht("abort"))}close(){return Pt(this)?Ot(this)?p(new TypeError("Cannot close a stream that already has a writer")):It(this)?p(new TypeError("Cannot close an already-closing stream")):At(this):p(Ht("close"))}getWriter(){if(!Pt(this))throw Ht("getWriter");return _t(this)}}function _t(e){return new jt(e)}function wt(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new _,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Pt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")&&e instanceof yt}function Ot(e){return void 0!==e._writer}function Tt(e,t){var a;if("closed"===e._state||"errored"===e._state)return d(void 0);e._writableStreamController._abortReason=t,null===(a=e._writableStreamController._abortController)||void 0===a||a.abort(t);const r=e._state;if("closed"===r||"errored"===r)return d(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=l(((a,r)=>{e._pendingAbortRequest={_promise:void 0,_resolve:a,_reject:r,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,n||Ct(e,t),i}function At(e){const t=e._state;if("closed"===t||"errored"===t)return p(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const a=l(((t,a)=>{const r={_resolve:t,_reject:a};e._closeRequest=r})),r=e._writer;var n;return void 0!==r&&e._backpressure&&"writable"===t&&sa(r),_e(n=e._writableStreamController,$t,0),Ut(n),a}function St(e,t){"writable"!==e._state?Et(e):Ct(e,t)}function Ct(e,t){const a=e._writableStreamController;e._state="erroring",e._storedError=t;const r=e._writer;void 0!==r&&Mt(r,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&a._started&&Et(e)}function Et(e){e._state="errored",e._writableStreamController[P]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new _,void 0===e._pendingAbortRequest)return void kt(e);const a=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,a._wasAlreadyErroring)return a._reject(t),void kt(e);c(e._writableStreamController[w](a._reason),(()=>(a._resolve(),kt(e),null)),(t=>(a._reject(t),kt(e),null)))}function It(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function kt(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&ea(t,e._storedError)}function Rt(e,t){const a=e._writer;void 0!==a&&t!==e._backpressure&&(t?function(e){aa(e)}(a):sa(a)),e._backpressure=t}Object.defineProperties(yt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),n(yt.prototype.abort,"abort"),n(yt.prototype.close,"close"),n(yt.prototype.getWriter,"getWriter"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(yt.prototype,Symbol.toStringTag,{value:"WritableStream",configurable:!0});class jt{constructor(e){if(F(e,1,"WritableStreamDefaultWriter"),gt(e,"First parameter"),Ot(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!It(e)&&e._backpressure?aa(this):na(this),Qt(this);else if("erroring"===t)ra(this,e._storedError),Qt(this);else if("closed"===t)na(this),Qt(this),ta(this);else{const t=e._storedError;ra(this,t),Xt(this,t)}}get closed(){return xt(this)?this._closedPromise:p(Jt("closed"))}get desiredSize(){if(!xt(this))throw Jt("desiredSize");if(void 0===this._ownerWritableStream)throw Yt("desiredSize");return function(e){const t=e._ownerWritableStream,a=t._state;return"errored"===a||"erroring"===a?null:"closed"===a?0:zt(t._writableStreamController)}(this)}get ready(){return xt(this)?this._readyPromise:p(Jt("ready"))}abort(e=void 0){return xt(this)?void 0===this._ownerWritableStream?p(Yt("abort")):function(e,t){return Tt(e._ownerWritableStream,t)}(this,e):p(Jt("abort"))}close(){if(!xt(this))return p(Jt("close"));const e=this._ownerWritableStream;return void 0===e?p(Yt("close")):It(e)?p(new TypeError("Cannot close an already-closing stream")):Nt(this)}releaseLock(){if(!xt(this))throw Jt("releaseLock");void 0!==this._ownerWritableStream&&Dt(this)}write(e=void 0){return xt(this)?void 0===this._ownerWritableStream?p(Yt("write to")):Lt(this,e):p(Jt("write"))}}function xt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")&&e instanceof jt}function Nt(e){return At(e._ownerWritableStream)}function Mt(e,t){"pending"===e._readyPromiseState?ia(e,t):function(e,t){ra(e,t)}(e,t)}function Dt(e){const t=e._ownerWritableStream,a=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Mt(e,a),function(e,t){"pending"===e._closedPromiseState?ea(e,t):function(e,t){Xt(e,t)}(e,t)}(e,a),t._writer=void 0,e._ownerWritableStream=void 0}function Lt(e,t){const a=e._ownerWritableStream,r=a._writableStreamController,n=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Kt(e,t),1}}(r,t);if(a!==e._ownerWritableStream)return p(Yt("write to"));const i=a._state;if("errored"===i)return p(a._storedError);if(It(a)||"closed"===i)return p(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===i)return p(a._storedError);const s=function(e){return l(((t,a)=>{const r={_resolve:t,_reject:a};e._writeRequests.push(r)}))}(a);return function(e,t,a){try{_e(e,t,a)}catch(t){return void Kt(e,t)}const r=e._controlledWritableStream;It(r)||"writable"!==r._state||Rt(r,Zt(e)),Ut(e)}(r,t,n),s}Object.defineProperties(jt.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),n(jt.prototype.abort,"abort"),n(jt.prototype.close,"close"),n(jt.prototype.releaseLock,"releaseLock"),n(jt.prototype.write,"write"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(jt.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const $t={};class Ft{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!qt(this))throw Gt("abortReason");return this._abortReason}get signal(){if(!qt(this))throw Gt("signal");if(void 0===this._abortController)throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported");return this._abortController.signal}error(e=void 0){if(!qt(this))throw Gt("error");"writable"===this._controlledWritableStream._state&&Wt(this,e)}[w](e){const t=this._abortAlgorithm(e);return Bt(this),t}[P](){we(this)}}function qt(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")&&e instanceof Ft}function Vt(e,t,a,r,n,i,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,we(t),t._abortReason=void 0,t._abortController=function(){if(vt)return new AbortController}(),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=r,t._closeAlgorithm=n,t._abortAlgorithm=i;const l=Zt(t);Rt(e,l),c(d(a()),(()=>(t._started=!0,Ut(t),null)),(a=>(t._started=!0,St(e,a),null)))}function Bt(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function zt(e){return e._strategyHWM-e._queueTotalSize}function Ut(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void Et(t);if(0===e._queue.length)return;const a=e._queue.peek().value;a===$t?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),ye(e);const a=e._closeAlgorithm();Bt(e),c(a,(()=>(function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&ta(t)}(t),null)),(e=>(function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),St(e,t)}(t,e),null)))}(e):function(e,t){const a=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(a);c(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(a);const t=a._state;if(ye(e),!It(a)&&"writable"===t){const t=Zt(e);Rt(a,t)}return Ut(e),null}),(t=>("writable"===a._state&&Bt(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,St(e,t)}(a,t),null)))}(e,a)}function Kt(e,t){"writable"===e._controlledWritableStream._state&&Wt(e,t)}function Zt(e){return zt(e)<=0}function Wt(e,t){const a=e._controlledWritableStream;Bt(e),Ct(a,t)}function Ht(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Gt(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function Jt(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Yt(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Qt(e){e._closedPromise=l(((t,a)=>{e._closedPromise_resolve=t,e._closedPromise_reject=a,e._closedPromiseState="pending"}))}function Xt(e,t){Qt(e),ea(e,t)}function ea(e,t){void 0!==e._closedPromise_reject&&(b(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function ta(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function aa(e){e._readyPromise=l(((t,a)=>{e._readyPromise_resolve=t,e._readyPromise_reject=a})),e._readyPromiseState="pending"}function ra(e,t){aa(e),ia(e,t)}function na(e){aa(e),sa(e)}function ia(e,t){void 0!==e._readyPromise_reject&&(b(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function sa(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(Ft.prototype,{abortReason:{enumerable:!0},signal:{enumerable:!0},error:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ft.prototype,Symbol.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const oa="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof global?global:void 0,la=function(){const e=null==oa?void 0:oa.DOMException;return function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;if("DOMException"!==e.name)return!1;try{return new e,!0}catch(e){return!1}}(e)?e:void 0}()||function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return n(e,"DOMException"),e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function da(e,a,r,n,i,s){const o=K(e),f=_t(a);e._disturbed=!0;let g=!1,v=d(void 0);return l(((y,_)=>{let w;if(void 0!==s){if(w=()=>{const t=void 0!==s.reason?s.reason:new la("Aborted","AbortError"),r=[];n||r.push((()=>"writable"===a._state?Tt(a,t):d(void 0))),i||r.push((()=>"readable"===e._state?Na(e,t):d(void 0))),C((()=>Promise.all(r.map((e=>e())))),!0,t)},s.aborted)return void w();s.addEventListener("abort",w)}var P,O,T;if(S(e,o._closedPromise,(e=>(n?I(!0,e):C((()=>Tt(a,e)),!0,e),null))),S(a,f._closedPromise,(t=>(i?I(!0,t):C((()=>Na(e,t)),!0,t),null))),P=e,O=o._closedPromise,T=()=>(r?I():C((()=>function(e){const t=e._ownerWritableStream,a=t._state;return It(t)||"closed"===a?d(void 0):"errored"===a?p(t._storedError):Nt(e)}(f))),null),"closed"===P._state?T():m(O,T),It(a)||"closed"===a._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?I(!0,t):C((()=>Na(e,t)),!0,t)}function A(){const e=v;return u(v,(()=>e!==v?A():void 0))}function S(e,t,a){"errored"===e._state?a(e._storedError):h(t,a)}function C(e,t,r){function n(){return c(e(),(()=>k(t,r)),(e=>k(!0,e))),null}g||(g=!0,"writable"!==a._state||It(a)?n():m(A(),n))}function I(e,t){g||(g=!0,"writable"!==a._state||It(a)?k(e,t):m(A(),(()=>k(e,t))))}function k(e,t){return Dt(f),E(o),void 0!==s&&s.removeEventListener("abort",w),e?_(t):y(void 0),null}b(l(((e,a)=>{!function r(n){n?e():u(g?d(!0):u(f._readyPromise,(()=>l(((e,a)=>{Q(o,{_chunkSteps:a=>{v=u(Lt(f,a),void 0,t),e(!1)},_closeSteps:()=>e(!0),_errorSteps:a})})))),r,a)}(!1)})))}))}class pa{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!ua(this))throw wa("desiredSize");return va(this)}close(){if(!ua(this))throw wa("close");if(!ya(this))throw new TypeError("The stream is not in a state that permits close");fa(this)}enqueue(e=void 0){if(!ua(this))throw wa("enqueue");if(!ya(this))throw new TypeError("The stream is not in a state that permits enqueue");return ba(this,e)}error(e=void 0){if(!ua(this))throw wa("error");ga(this,e)}[O](e){we(this);const t=this._cancelAlgorithm(e);return ha(this),t}[T](e){const t=this._controlledReadableStream;if(this._queue.length>0){const a=ye(this);this._closeRequested&&0===this._queue.length?(ha(this),Ma(t)):ca(this),e._chunkSteps(a)}else Z(t,e),ca(this)}[A](){}}function ua(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")&&e instanceof pa}function ca(e){ma(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,c(e._pullAlgorithm(),(()=>(e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,ca(e)),null)),(t=>(ga(e,t),null)))))}function ma(e){const t=e._controlledReadableStream;return!!ya(e)&&!!e._started&&(!!(xa(t)&&H(t)>0)||va(e)>0)}function ha(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function fa(e){if(!ya(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(ha(e),Ma(t))}function ba(e,t){if(!ya(e))return;const a=e._controlledReadableStream;if(xa(a)&&H(a)>0)W(a,t,!1);else{let a;try{a=e._strategySizeAlgorithm(t)}catch(t){throw ga(e,t),t}try{_e(e,t,a)}catch(t){throw ga(e,t),t}}ca(e)}function ga(e,t){const a=e._controlledReadableStream;"readable"===a._state&&(we(e),ha(e),Da(a,t))}function va(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function ya(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function _a(e,t,a,r,n,i,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,we(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=i,t._pullAlgorithm=r,t._cancelAlgorithm=n,e._readableStreamController=t,c(d(a()),(()=>(t._started=!0,ca(t),null)),(e=>(ga(t,e),null)))}function wa(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Pa(e){return a(r=e)&&void 0!==r.getReader?function(e){let r;return r=Ia(t,(function(){let t;try{t=e.read()}catch(e){return p(e)}return f(t,(e=>{if(!a(e))throw new TypeError("The promise returned by the reader.read() method must fulfill with an object");if(e.done)fa(r._readableStreamController);else{const t=e.value;ba(r._readableStreamController,t)}}))}),(function(t){try{return d(e.cancel(t))}catch(e){return p(e)}}),0),r}(e.getReader()):function(e){let r;const n=ge(e,"async");return r=Ia(t,(function(){let e;try{e=function(e){const t=v(e.nextMethod,e.iterator,[]);if(!a(t))throw new TypeError("The iterator.next() method must return an object");return t}(n)}catch(e){return p(e)}return f(d(e),(e=>{if(!a(e))throw new TypeError("The promise returned by the iterator.next() method must fulfill with an object");const t=function(e){return Boolean(e.done)}(e);if(t)fa(r._readableStreamController);else{const t=function(e){return e.value}(e);ba(r._readableStreamController,t)}}))}),(function(e){const t=n.iterator;let r,i;try{r=fe(t,"return")}catch(e){return p(e)}if(void 0===r)return d(void 0);try{i=v(r,t,[e])}catch(e){return p(e)}return f(d(i),(e=>{if(!a(e))throw new TypeError("The promise returned by the iterator.return() method must fulfill with an object")}))}),0),r}(e);var r}function Oa(e,t,a){return L(e,a),a=>y(e,t,[a])}function Ta(e,t,a){return L(e,a),a=>y(e,t,[a])}function Aa(e,t,a){return L(e,a),a=>v(e,t,[a])}function Sa(e,t){if("bytes"!=(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Ca(e,t){D(e,t);const a=null==e?void 0:e.preventAbort,r=null==e?void 0:e.preventCancel,n=null==e?void 0:e.preventClose,i=null==e?void 0:e.signal;return void 0!==i&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(i,`${t} has member 'signal' that`),{preventAbort:Boolean(a),preventCancel:Boolean(r),preventClose:Boolean(n),signal:i}}Object.defineProperties(pa.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),n(pa.prototype.close,"close"),n(pa.prototype.enqueue,"enqueue"),n(pa.prototype.error,"error"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(pa.prototype,Symbol.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Ea{constructor(e={},t={}){void 0===e?e=null:$(e,"First parameter");const a=ut(t,"Second parameter"),r=function(e,t){D(e,t);const a=e,r=null==a?void 0:a.autoAllocateChunkSize,n=null==a?void 0:a.cancel,i=null==a?void 0:a.pull,s=null==a?void 0:a.start,o=null==a?void 0:a.type;return{autoAllocateChunkSize:void 0===r?void 0:z(r,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===n?void 0:Oa(n,a,`${t} has member 'cancel' that`),pull:void 0===i?void 0:Ta(i,a,`${t} has member 'pull' that`),start:void 0===s?void 0:Aa(s,a,`${t} has member 'start' that`),type:void 0===o?void 0:Sa(o,`${t} has member 'type' that`)}}(e,"First parameter");if(Ra(this),"bytes"===r.type){if(void 0!==a.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,a){const r=Object.create(Te.prototype);let n,i,s;n=void 0!==t.start?()=>t.start(r):()=>{},i=void 0!==t.pull?()=>t.pull(r):()=>d(void 0),s=void 0!==t.cancel?e=>t.cancel(e):()=>d(void 0);const o=t.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");Je(e,r,n,i,s,a,o)}(this,r,dt(a,0))}else{const e=pt(a);!function(e,t,a,r){const n=Object.create(pa.prototype);let i,s,o;i=void 0!==t.start?()=>t.start(n):()=>{},s=void 0!==t.pull?()=>t.pull(n):()=>d(void 0),o=void 0!==t.cancel?e=>t.cancel(e):()=>d(void 0),_a(e,n,i,s,o,a,r)}(this,r,dt(a,1),e)}}get locked(){if(!ja(this))throw La("locked");return xa(this)}cancel(e=void 0){return ja(this)?xa(this)?p(new TypeError("Cannot cancel a stream that already has a reader")):Na(this,e):p(La("cancel"))}getReader(e=void 0){if(!ja(this))throw La("getReader");return void 0===function(e,t){D(e,t);const a=null==e?void 0:e.mode;return{mode:void 0===a?void 0:Xe(a,`${t} has member 'mode' that`)}}(e,"First parameter").mode?K(this):et(this)}pipeThrough(e,t={}){if(!ja(this))throw La("pipeThrough");F(e,1,"pipeThrough");const a=function(e,t){D(e,t);const a=null==e?void 0:e.readable;q(a,"readable","ReadableWritablePair"),U(a,`${t} has member 'readable' that`);const r=null==e?void 0:e.writable;return q(r,"writable","ReadableWritablePair"),gt(r,`${t} has member 'writable' that`),{readable:a,writable:r}}(e,"First parameter"),r=Ca(t,"Second parameter");if(xa(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Ot(a.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return b(da(this,a.writable,r.preventClose,r.preventAbort,r.preventCancel,r.signal)),a.readable}pipeTo(e,t={}){if(!ja(this))return p(La("pipeTo"));if(void 0===e)return p("Parameter 1 is required in 'pipeTo'.");if(!Pt(e))return p(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let a;try{a=Ca(t,"Second parameter")}catch(e){return p(e)}return xa(this)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Ot(e)?p(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):da(this,e,a.preventClose,a.preventAbort,a.preventCancel,a.signal)}tee(){if(!ja(this))throw La("tee");return pe(Ae((e=this)._readableStreamController)?function(e){let t,a,r,n,i,s=K(e),o=!1,p=!1,u=!1,c=!1,m=!1;const f=l((e=>{i=e}));function b(e){h(e._closedPromise,(t=>(e!==s||(Ue(r._readableStreamController,t),Ue(n._readableStreamController,t),c&&m||i(void 0)),null)))}function v(){it(s)&&(E(s),s=K(e),b(s)),Q(s,{_chunkSteps:t=>{g((()=>{p=!1,u=!1;const a=t;let s=t;if(!c&&!m)try{s=ve(t)}catch(t){return Ue(r._readableStreamController,t),Ue(n._readableStreamController,t),void i(Na(e,t))}c||ze(r._readableStreamController,a),m||ze(n._readableStreamController,s),o=!1,p?_():u&&w()}))},_closeSteps:()=>{o=!1,c||Be(r._readableStreamController),m||Be(n._readableStreamController),r._readableStreamController._pendingPullIntos.length>0&&He(r._readableStreamController,0),n._readableStreamController._pendingPullIntos.length>0&&He(n._readableStreamController,0),c&&m||i(void 0)},_errorSteps:()=>{o=!1}})}function y(t,a){Y(s)&&(E(s),s=et(e),b(s));const l=a?n:r,d=a?r:n;st(s,t,1,{_chunkSteps:t=>{g((()=>{p=!1,u=!1;const r=a?m:c;if(a?c:m)r||Ge(l._readableStreamController,t);else{let a;try{a=ve(t)}catch(t){return Ue(l._readableStreamController,t),Ue(d._readableStreamController,t),void i(Na(e,t))}r||Ge(l._readableStreamController,t),ze(d._readableStreamController,a)}o=!1,p?_():u&&w()}))},_closeSteps:e=>{o=!1;const t=a?m:c,r=a?c:m;t||Be(l._readableStreamController),r||Be(d._readableStreamController),void 0!==e&&(t||Ge(l._readableStreamController,e),!r&&d._readableStreamController._pendingPullIntos.length>0&&He(d._readableStreamController,0)),t&&r||i(void 0)},_errorSteps:()=>{o=!1}})}function _(){if(o)return p=!0,d(void 0);o=!0;const e=Ze(r._readableStreamController);return null===e?v():y(e._view,!1),d(void 0)}function w(){if(o)return u=!0,d(void 0);o=!0;const e=Ze(n._readableStreamController);return null===e?v():y(e._view,!0),d(void 0)}function P(){}return r=ka(P,_,(function(r){if(c=!0,t=r,m){const r=pe([t,a]),n=Na(e,r);i(n)}return f})),n=ka(P,w,(function(r){if(m=!0,a=r,c){const r=pe([t,a]),n=Na(e,r);i(n)}return f})),b(s),[r,n]}(e):function(e,t){const a=K(e);let r,n,i,s,o,p=!1,u=!1,c=!1,m=!1;const f=l((e=>{o=e}));function b(){return p?(u=!0,d(void 0)):(p=!0,Q(a,{_chunkSteps:e=>{g((()=>{u=!1;const t=e,a=e;c||ba(i._readableStreamController,t),m||ba(s._readableStreamController,a),p=!1,u&&b()}))},_closeSteps:()=>{p=!1,c||fa(i._readableStreamController),m||fa(s._readableStreamController),c&&m||o(void 0)},_errorSteps:()=>{p=!1}}),d(void 0))}function v(){}return i=Ia(v,b,(function(t){if(c=!0,r=t,m){const t=pe([r,n]),a=Na(e,t);o(a)}return f})),s=Ia(v,b,(function(t){if(m=!0,n=t,c){const t=pe([r,n]),a=Na(e,t);o(a)}return f})),h(a._closedPromise,(e=>(ga(i._readableStreamController,e),ga(s._readableStreamController,e),c&&m||o(void 0),null))),[i,s]}(e));var e}values(e=void 0){if(!ja(this))throw La("values");return function(e,t){const a=K(e),r=new ae(a,t),n=Object.create(re);return n._asyncIteratorImpl=r,n}(this,function(e,t){D(e,"First parameter");const a=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(a)}}(e).preventCancel)}[be](e){return this.values(e)}static from(e){return Pa(e)}}function Ia(e,t,a,r=1,n=(()=>1)){const i=Object.create(Ea.prototype);return Ra(i),_a(i,Object.create(pa.prototype),e,t,a,r,n),i}function ka(e,t,a){const r=Object.create(Ea.prototype);return Ra(r),Je(r,Object.create(Te.prototype),e,t,a,0,void 0),r}function Ra(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function ja(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")&&e instanceof Ea}function xa(e){return void 0!==e._reader}function Na(e,a){if(e._disturbed=!0,"closed"===e._state)return d(void 0);if("errored"===e._state)return p(e._storedError);Ma(e);const r=e._reader;if(void 0!==r&&it(r)){const e=r._readIntoRequests;r._readIntoRequests=new _,e.forEach((e=>{e._closeSteps(void 0)}))}return f(e._readableStreamController[O](a),t)}function Ma(e){e._state="closed";const t=e._reader;if(void 0!==t&&(x(t),Y(t))){const e=t._readRequests;t._readRequests=new _,e.forEach((e=>{e._closeSteps()}))}}function Da(e,t){e._state="errored",e._storedError=t;const a=e._reader;void 0!==a&&(j(a,t),Y(a)?X(a,t):ot(a,t))}function La(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function $a(e,t){D(e,t);const a=null==e?void 0:e.highWaterMark;return q(a,"highWaterMark","QueuingStrategyInit"),{highWaterMark:V(a)}}Object.defineProperties(Ea,{from:{enumerable:!0}}),Object.defineProperties(Ea.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),n(Ea.from,"from"),n(Ea.prototype.cancel,"cancel"),n(Ea.prototype.getReader,"getReader"),n(Ea.prototype.pipeThrough,"pipeThrough"),n(Ea.prototype.pipeTo,"pipeTo"),n(Ea.prototype.tee,"tee"),n(Ea.prototype.values,"values"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ea.prototype,Symbol.toStringTag,{value:"ReadableStream",configurable:!0}),Object.defineProperty(Ea.prototype,be,{value:Ea.prototype.values,writable:!0,configurable:!0});const Fa=e=>e.byteLength;n(Fa,"size");class qa{constructor(e){F(e,1,"ByteLengthQueuingStrategy"),e=$a(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Ba(this))throw Va("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Ba(this))throw Va("size");return Fa}}function Va(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Ba(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")&&e instanceof qa}Object.defineProperties(qa.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(qa.prototype,Symbol.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const za=()=>1;n(za,"size");class Ua{constructor(e){F(e,1,"CountQueuingStrategy"),e=$a(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Za(this))throw Ka("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!Za(this))throw Ka("size");return za}}function Ka(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function Za(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")&&e instanceof Ua}function Wa(e,t,a){return L(e,a),a=>y(e,t,[a])}function Ha(e,t,a){return L(e,a),a=>v(e,t,[a])}function Ga(e,t,a){return L(e,a),(a,r)=>y(e,t,[a,r])}function Ja(e,t,a){return L(e,a),a=>y(e,t,[a])}Object.defineProperties(Ua.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ua.prototype,Symbol.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Ya{constructor(e={},t={},a={}){void 0===e&&(e=null);const r=ut(t,"Second parameter"),n=ut(a,"Third parameter"),i=function(e,t){D(e,t);const a=null==e?void 0:e.cancel,r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,s=null==e?void 0:e.transform,o=null==e?void 0:e.writableType;return{cancel:void 0===a?void 0:Ja(a,e,`${t} has member 'cancel' that`),flush:void 0===r?void 0:Wa(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===i?void 0:Ha(i,e,`${t} has member 'start' that`),transform:void 0===s?void 0:Ga(s,e,`${t} has member 'transform' that`),writableType:o}}(e,"First parameter");if(void 0!==i.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==i.writableType)throw new RangeError("Invalid writableType specified");const s=dt(n,0),o=pt(n),u=dt(r,1),m=pt(r);let h;!function(e,t,a,r,n,i){function s(){return t}e._writable=function(e,t,a,r,n=1,i=(()=>1)){const s=Object.create(yt.prototype);return wt(s),Vt(s,Object.create(Ft.prototype),e,t,a,r,n,i),s}(s,(function(t){return function(e,t){const a=e._transformStreamController;return e._backpressure?f(e._backpressureChangePromise,(()=>{const r=e._writable;if("erroring"===r._state)throw r._storedError;return or(a,t)})):or(a,t)}(e,t)}),(function(){return function(e){const t=e._transformStreamController;if(void 0!==t._finishPromise)return t._finishPromise;const a=e._readable;t._finishPromise=l(((e,a)=>{t._finishPromise_resolve=e,t._finishPromise_reject=a}));const r=t._flushAlgorithm();return ir(t),c(r,(()=>("errored"===a._state?pr(t,a._storedError):(fa(a._readableStreamController),dr(t)),null)),(e=>(ga(a._readableStreamController,e),pr(t,e),null))),t._finishPromise}(e)}),(function(t){return function(e,t){const a=e._transformStreamController;if(void 0!==a._finishPromise)return a._finishPromise;const r=e._readable;a._finishPromise=l(((e,t)=>{a._finishPromise_resolve=e,a._finishPromise_reject=t}));const n=a._cancelAlgorithm(t);return ir(a),c(n,(()=>("errored"===r._state?pr(a,r._storedError):(ga(r._readableStreamController,t),dr(a)),null)),(e=>(ga(r._readableStreamController,e),pr(a,e),null))),a._finishPromise}(e,t)}),a,r),e._readable=Ia(s,(function(){return function(e){return ar(e,!1),e._backpressureChangePromise}(e)}),(function(t){return function(e,t){const a=e._transformStreamController;if(void 0!==a._finishPromise)return a._finishPromise;const r=e._writable;a._finishPromise=l(((e,t)=>{a._finishPromise_resolve=e,a._finishPromise_reject=t}));const n=a._cancelAlgorithm(t);return ir(a),c(n,(()=>("errored"===r._state?pr(a,r._storedError):(Kt(r._writableStreamController,t),tr(e),dr(a)),null)),(t=>(Kt(r._writableStreamController,t),tr(e),pr(a,t),null))),a._finishPromise}(e,t)}),n,i),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,ar(e,!0),e._transformStreamController=void 0}(this,l((e=>{h=e})),u,m,s,o),function(e,t){const a=Object.create(rr.prototype);let r,n,i;r=void 0!==t.transform?e=>t.transform(e,a):e=>{try{return sr(a,e),d(void 0)}catch(e){return p(e)}},n=void 0!==t.flush?()=>t.flush(a):()=>d(void 0),i=void 0!==t.cancel?e=>t.cancel(e):()=>d(void 0),function(e,t,a,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=a,t._flushAlgorithm=r,t._cancelAlgorithm=n,t._finishPromise=void 0,t._finishPromise_resolve=void 0,t._finishPromise_reject=void 0}(e,a,r,n,i)}(this,i),void 0!==i.start?h(i.start(this._transformStreamController)):h(void 0)}get readable(){if(!Qa(this))throw ur("readable");return this._readable}get writable(){if(!Qa(this))throw ur("writable");return this._writable}}function Qa(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")&&e instanceof Ya}function Xa(e,t){ga(e._readable._readableStreamController,t),er(e,t)}function er(e,t){ir(e._transformStreamController),Kt(e._writable._writableStreamController,t),tr(e)}function tr(e){e._backpressure&&ar(e,!1)}function ar(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=l((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Ya.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(Ya.prototype,Symbol.toStringTag,{value:"TransformStream",configurable:!0});class rr{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!nr(this))throw lr("desiredSize");return va(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=void 0){if(!nr(this))throw lr("enqueue");sr(this,e)}error(e=void 0){if(!nr(this))throw lr("error");var t;t=e,Xa(this._controlledTransformStream,t)}terminate(){if(!nr(this))throw lr("terminate");!function(e){const t=e._controlledTransformStream;fa(t._readable._readableStreamController);er(t,new TypeError("TransformStream terminated"))}(this)}}function nr(e){return!!a(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")&&e instanceof rr}function ir(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0,e._cancelAlgorithm=void 0}function sr(e,t){const a=e._controlledTransformStream,r=a._readable._readableStreamController;if(!ya(r))throw new TypeError("Readable side is not in a state that permits enqueue");try{ba(r,t)}catch(e){throw er(a,e),a._readable._storedError}const n=function(e){return!ma(e)}(r);n!==a._backpressure&&ar(a,!0)}function or(e,t){return f(e._transformAlgorithm(t),void 0,(t=>{throw Xa(e._controlledTransformStream,t),t}))}function lr(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function dr(e){void 0!==e._finishPromise_resolve&&(e._finishPromise_resolve(),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function pr(e,t){void 0!==e._finishPromise_reject&&(b(e._finishPromise),e._finishPromise_reject(t),e._finishPromise_resolve=void 0,e._finishPromise_reject=void 0)}function ur(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(rr.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),n(rr.prototype.enqueue,"enqueue"),n(rr.prototype.error,"error"),n(rr.prototype.terminate,"terminate"),"symbol"==typeof Symbol.toStringTag&&Object.defineProperty(rr.prototype,Symbol.toStringTag,{value:"TransformStreamDefaultController",configurable:!0}),e.ByteLengthQueuingStrategy=qa,e.CountQueuingStrategy=Ua,e.ReadableByteStreamController=Te,e.ReadableStream=Ea,e.ReadableStreamBYOBReader=nt,e.ReadableStreamBYOBRequest=Oe,e.ReadableStreamDefaultController=pa,e.ReadableStreamDefaultReader=J,e.TransformStream=Ya,e.TransformStreamDefaultController=rr,e.WritableStream=yt,e.WritableStreamDefaultController=Ft,e.WritableStreamDefaultWriter=jt},a(t)},85616:e=>{"use strict";var t={};function a(e){return e<0?-1:1}function r(e,t){t.unsigned||--e;const r=t.unsigned?0:-Math.pow(2,e),n=Math.pow(2,e)-1,i=t.moduloBitLength?Math.pow(2,t.moduloBitLength):Math.pow(2,e),s=t.moduloBitLength?Math.pow(2,t.moduloBitLength-1):Math.pow(2,e-1);return function(e,o){o||(o={});let l=+e;if(o.enforceRange){if(!Number.isFinite(l))throw new TypeError("Argument is not a finite number");if(l=a(l)*Math.floor(Math.abs(l)),l<r||l>n)throw new TypeError("Argument is not in byte range");return l}if(!isNaN(l)&&o.clamp)return l=function(e){return e%1!=.5||1&e?Math.round(e):Math.floor(e)}(l),l<r&&(l=r),l>n&&(l=n),l;if(!Number.isFinite(l)||0===l)return 0;if(l=a(l)*Math.floor(Math.abs(l)),l%=i,!t.unsigned&&l>=s)return l-i;if(t.unsigned)if(l<0)l+=i;else if(-0===l)return 0;return l}}e.exports=t,t.void=function(){},t.boolean=function(e){return!!e},t.byte=r(8,{unsigned:!1}),t.octet=r(8,{unsigned:!0}),t.short=r(16,{unsigned:!1}),t["unsigned short"]=r(16,{unsigned:!0}),t.long=r(32,{unsigned:!1}),t["unsigned long"]=r(32,{unsigned:!0}),t["long long"]=r(32,{unsigned:!1,moduloBitLength:64}),t["unsigned long long"]=r(32,{unsigned:!0,moduloBitLength:64}),t.double=function(e){const t=+e;if(!Number.isFinite(t))throw new TypeError("Argument is not a finite floating-point value");return t},t["unrestricted double"]=function(e){const t=+e;if(isNaN(t))throw new TypeError("Argument is NaN");return t},t.float=t.double,t["unrestricted float"]=t["unrestricted double"],t.DOMString=function(e,t){return t||(t={}),t.treatNullAsEmptyString&&null===e?"":String(e)},t.ByteString=function(e,t){const a=String(e);let r;for(let e=0;void 0!==(r=a.codePointAt(e));++e)if(r>255)throw new TypeError("Argument is not a valid bytestring");return a},t.USVString=function(e){const t=String(e),a=t.length,r=[];for(let e=0;e<a;++e){const n=t.charCodeAt(e);if(n<55296||n>57343)r.push(String.fromCodePoint(n));else if(56320<=n&&n<=57343)r.push(String.fromCodePoint(65533));else if(e===a-1)r.push(String.fromCodePoint(65533));else{const a=t.charCodeAt(e+1);if(56320<=a&&a<=57343){const t=1023&n,i=1023&a;r.push(String.fromCodePoint(65536+1024*t+i)),++e}else r.push(String.fromCodePoint(65533))}}return r.join("")},t.Date=function(e,t){if(!(e instanceof Date))throw new TypeError("Argument is not a Date object");if(!isNaN(e))return e},t.RegExp=function(e,t){return e instanceof RegExp||(e=new RegExp(e)),e}},67079:(e,t,a)=>{"use strict";const r=a(95484);t.implementation=class{constructor(e){const t=e[0],a=e[1];let n=null;if(void 0!==a&&(n=r.basicURLParse(a),"failure"===n))throw new TypeError("Invalid base URL");const i=r.basicURLParse(t,{baseURL:n});if("failure"===i)throw new TypeError("Invalid URL");this._url=i}get href(){return r.serializeURL(this._url)}set href(e){const t=r.basicURLParse(e);if("failure"===t)throw new TypeError("Invalid URL");this._url=t}get origin(){return r.serializeURLOrigin(this._url)}get protocol(){return this._url.scheme+":"}set protocol(e){r.basicURLParse(e+":",{url:this._url,stateOverride:"scheme start"})}get username(){return this._url.username}set username(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setTheUsername(this._url,e)}get password(){return this._url.password}set password(e){r.cannotHaveAUsernamePasswordPort(this._url)||r.setThePassword(this._url,e)}get host(){const e=this._url;return null===e.host?"":null===e.port?r.serializeHost(e.host):r.serializeHost(e.host)+":"+r.serializeInteger(e.port)}set host(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"host"})}get hostname(){return null===this._url.host?"":r.serializeHost(this._url.host)}set hostname(e){this._url.cannotBeABaseURL||r.basicURLParse(e,{url:this._url,stateOverride:"hostname"})}get port(){return null===this._url.port?"":r.serializeInteger(this._url.port)}set port(e){r.cannotHaveAUsernamePasswordPort(this._url)||(""===e?this._url.port=null:r.basicURLParse(e,{url:this._url,stateOverride:"port"}))}get pathname(){return this._url.cannotBeABaseURL?this._url.path[0]:0===this._url.path.length?"":"/"+this._url.path.join("/")}set pathname(e){this._url.cannotBeABaseURL||(this._url.path=[],r.basicURLParse(e,{url:this._url,stateOverride:"path start"}))}get search(){return null===this._url.query||""===this._url.query?"":"?"+this._url.query}set search(e){const t=this._url;if(""===e)return void(t.query=null);const a="?"===e[0]?e.substring(1):e;t.query="",r.basicURLParse(a,{url:t,stateOverride:"query"})}get hash(){return null===this._url.fragment||""===this._url.fragment?"":"#"+this._url.fragment}set hash(e){if(""===e)return void(this._url.fragment=null);const t="#"===e[0]?e.substring(1):e;this._url.fragment="",r.basicURLParse(t,{url:this._url,stateOverride:"fragment"})}toJSON(){return this.href}}},76648:(e,t,a)=>{"use strict";const r=a(85616),n=a(46892),i=a(67079),s=n.implSymbol;function o(t){if(!this||this[s]||!(this instanceof o))throw new TypeError("Failed to construct 'URL': Please use the 'new' operator, this DOM object constructor cannot be called as a function.");if(arguments.length<1)throw new TypeError("Failed to construct 'URL': 1 argument required, but only "+arguments.length+" present.");const a=[];for(let e=0;e<arguments.length&&e<2;++e)a[e]=arguments[e];a[0]=r.USVString(a[0]),void 0!==a[1]&&(a[1]=r.USVString(a[1])),e.exports.setup(this,a)}o.prototype.toJSON=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");const t=[];for(let e=0;e<arguments.length&&e<0;++e)t[e]=arguments[e];return this[s].toJSON.apply(this[s],t)},Object.defineProperty(o.prototype,"href",{get(){return this[s].href},set(e){e=r.USVString(e),this[s].href=e},enumerable:!0,configurable:!0}),o.prototype.toString=function(){if(!this||!e.exports.is(this))throw new TypeError("Illegal invocation");return this.href},Object.defineProperty(o.prototype,"origin",{get(){return this[s].origin},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"protocol",{get(){return this[s].protocol},set(e){e=r.USVString(e),this[s].protocol=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"username",{get(){return this[s].username},set(e){e=r.USVString(e),this[s].username=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"password",{get(){return this[s].password},set(e){e=r.USVString(e),this[s].password=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"host",{get(){return this[s].host},set(e){e=r.USVString(e),this[s].host=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hostname",{get(){return this[s].hostname},set(e){e=r.USVString(e),this[s].hostname=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"port",{get(){return this[s].port},set(e){e=r.USVString(e),this[s].port=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"pathname",{get(){return this[s].pathname},set(e){e=r.USVString(e),this[s].pathname=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"search",{get(){return this[s].search},set(e){e=r.USVString(e),this[s].search=e},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"hash",{get(){return this[s].hash},set(e){e=r.USVString(e),this[s].hash=e},enumerable:!0,configurable:!0}),e.exports={is:e=>!!e&&e[s]instanceof i.implementation,create(e,t){let a=Object.create(o.prototype);return this.setup(a,e,t),a},setup(e,t,a){a||(a={}),a.wrapper=e,e[s]=new i.implementation(t,a),e[s][n.wrapperSymbol]=e},interface:o,expose:{Window:{URL:o},Worker:{URL:o}}}},53417:(e,t,a)=>{"use strict";t.URL=a(76648).interface,a(95484).serializeURL,a(95484).serializeURLOrigin,a(95484).basicURLParse,a(95484).setTheUsername,a(95484).setThePassword,a(95484).serializeHost,a(95484).serializeInteger,a(95484).parseURL},95484:(e,t,a)=>{"use strict";const r=a(24876),n=a(36673),i={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},s=Symbol("failure");function o(e){return r.ucs2.decode(e).length}function l(e,t){const a=e[t];return isNaN(a)?void 0:String.fromCodePoint(a)}function d(e){return e>=48&&e<=57}function p(e){return e>=65&&e<=90||e>=97&&e<=122}function u(e){return d(e)||e>=65&&e<=70||e>=97&&e<=102}function c(e){return"."===e||"%2e"===e.toLowerCase()}function m(e){return 2===e.length&&p(e.codePointAt(0))&&(":"===e[1]||"|"===e[1])}function h(e){return void 0!==i[e]}function f(e){return h(e.scheme)}function b(e){let t=e.toString(16).toUpperCase();return 1===t.length&&(t="0"+t),"%"+t}function g(e){return e<=31||e>126}const v=new Set([32,34,35,60,62,63,96,123,125]);function y(e){return g(e)||v.has(e)}const _=new Set([47,58,59,61,64,91,92,93,94,124]);function w(e){return y(e)||_.has(e)}function P(e,t){const a=String.fromCodePoint(e);return t(e)?function(e){const t=new Buffer(e);let a="";for(let e=0;e<t.length;++e)a+=b(t[e]);return a}(a):a}function O(e){let t=10;return e.length>=2&&"0"===e.charAt(0)&&"x"===e.charAt(1).toLowerCase()?(e=e.substring(2),t=16):e.length>=2&&"0"===e.charAt(0)&&(e=e.substring(1),t=8),""===e?0:(10===t?/[^0-9]/:16===t?/[^0-9A-Fa-f]/:/[^0-7]/).test(e)?s:parseInt(e,t)}function T(e,t){if("["===e[0])return"]"!==e[e.length-1]?s:function(e){const t=[0,0,0,0,0,0,0,0];let a=0,n=null,i=0;if(58===(e=r.ucs2.decode(e))[i]){if(58!==e[i+1])return s;i+=2,++a,n=a}for(;i<e.length;){if(8===a)return s;if(58===e[i]){if(null!==n)return s;++i,++a,n=a;continue}let r=0,o=0;for(;o<4&&u(e[i]);)r=16*r+parseInt(l(e,i),16),++i,++o;if(46===e[i]){if(0===o)return s;if(i-=o,a>6)return s;let r=0;for(;void 0!==e[i];){let n=null;if(r>0){if(!(46===e[i]&&r<4))return s;++i}if(!d(e[i]))return s;for(;d(e[i]);){const t=parseInt(l(e,i));if(null===n)n=t;else{if(0===n)return s;n=10*n+t}if(n>255)return s;++i}t[a]=256*t[a]+n,++r,2!==r&&4!==r||++a}if(4!==r)return s;break}if(58===e[i]){if(++i,void 0===e[i])return s}else if(void 0!==e[i])return s;t[a]=r,++a}if(null!==n){let e=a-n;for(a=7;0!==a&&e>0;){const r=t[n+e-1];t[n+e-1]=t[a],t[a]=r,--a,--e}}else if(null===n&&8!==a)return s;return t}(e.substring(1,e.length-1));if(!t)return function(e){if(-1!==e.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/))return s;let t="";const a=r.ucs2.decode(e);for(let e=0;e<a.length;++e)t+=P(a[e],g);return t}(e);const a=function(e){const t=new Buffer(e),a=[];for(let e=0;e<t.length;++e)37!==t[e]?a.push(t[e]):37===t[e]&&u(t[e+1])&&u(t[e+2])?(a.push(parseInt(t.slice(e+1,e+3).toString(),16)),e+=2):a.push(t[e]);return new Buffer(a).toString()}(e),i=n.toASCII(a,!1,n.PROCESSING_OPTIONS.NONTRANSITIONAL,!1);if(null===i)return s;if(-1!==i.search(/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/))return s;const o=function(e){const t=e.split(".");if(""===t[t.length-1]&&t.length>1&&t.pop(),t.length>4)return e;const a=[];for(const r of t){if(""===r)return e;const t=O(r);if(t===s)return e;a.push(t)}for(let e=0;e<a.length-1;++e)if(a[e]>255)return s;if(a[a.length-1]>=Math.pow(256,5-a.length))return s;let r=a.pop(),n=0;for(const e of a)r+=e*Math.pow(256,3-n),++n;return r}(i);return"number"==typeof o||o===s?o:i}function A(e){return"number"==typeof e?function(e){let t="",a=e;for(let e=1;e<=4;++e)t=String(a%256)+t,4!==e&&(t="."+t),a=Math.floor(a/256);return t}(e):e instanceof Array?"["+function(e){let t="";const a=function(e){let t=null,a=1,r=null,n=0;for(let i=0;i<e.length;++i)0!==e[i]?(n>a&&(t=r,a=n),r=null,n=0):(null===r&&(r=i),++n);return n>a&&(t=r,a=n),{idx:t,len:a}}(e).idx;let r=!1;for(let n=0;n<=7;++n)r&&0===e[n]||(r&&(r=!1),a!==n?(t+=e[n].toString(16),7!==n&&(t+=":")):(t+=0===n?"::":":",r=!0));return t}(e)+"]":e}function S(e){const t=e.path;var a;0!==t.length&&("file"===e.scheme&&1===t.length&&(a=t[0],/^[A-Za-z]:$/.test(a))||t.pop())}function C(e){return""!==e.username||""!==e.password}function E(e,t,a,n,i){if(this.pointer=0,this.input=e,this.base=t||null,this.encodingOverride=a||"utf-8",this.stateOverride=i,this.url=n,this.failure=!1,this.parseError=!1,!this.url){this.url={scheme:"",username:"",password:"",host:null,port:null,path:[],query:null,fragment:null,cannotBeABaseURL:!1};const e=function(e){return e.replace(/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,"")}(this.input);e!==this.input&&(this.parseError=!0),this.input=e}const o=function(e){return e.replace(/\u0009|\u000A|\u000D/g,"")}(this.input);for(o!==this.input&&(this.parseError=!0),this.input=o,this.state=i||"scheme start",this.buffer="",this.atFlag=!1,this.arrFlag=!1,this.passwordTokenSeenFlag=!1,this.input=r.ucs2.decode(this.input);this.pointer<=this.input.length;++this.pointer){const e=this.input[this.pointer],t=isNaN(e)?void 0:String.fromCodePoint(e),a=this["parse "+this.state](e,t);if(!a)break;if(a===s){this.failure=!0;break}}}E.prototype["parse scheme start"]=function(e,t){if(p(e))this.buffer+=t.toLowerCase(),this.state="scheme";else{if(this.stateOverride)return this.parseError=!0,s;this.state="no scheme",--this.pointer}return!0},E.prototype["parse scheme"]=function(e,t){if(function(e){return p(e)||d(e)}(e)||43===e||45===e||46===e)this.buffer+=t.toLowerCase();else if(58===e){if(this.stateOverride){if(f(this.url)&&!h(this.buffer))return!1;if(!f(this.url)&&h(this.buffer))return!1;if((C(this.url)||null!==this.url.port)&&"file"===this.buffer)return!1;if("file"===this.url.scheme&&(""===this.url.host||null===this.url.host))return!1}if(this.url.scheme=this.buffer,this.buffer="",this.stateOverride)return!1;"file"===this.url.scheme?(47===this.input[this.pointer+1]&&47===this.input[this.pointer+2]||(this.parseError=!0),this.state="file"):f(this.url)&&null!==this.base&&this.base.scheme===this.url.scheme?this.state="special relative or authority":f(this.url)?this.state="special authority slashes":47===this.input[this.pointer+1]?(this.state="path or authority",++this.pointer):(this.url.cannotBeABaseURL=!0,this.url.path.push(""),this.state="cannot-be-a-base-URL path")}else{if(this.stateOverride)return this.parseError=!0,s;this.buffer="",this.state="no scheme",this.pointer=-1}return!0},E.prototype["parse no scheme"]=function(e){return null===this.base||this.base.cannotBeABaseURL&&35!==e?s:(this.base.cannotBeABaseURL&&35===e?(this.url.scheme=this.base.scheme,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.url.cannotBeABaseURL=!0,this.state="fragment"):"file"===this.base.scheme?(this.state="file",--this.pointer):(this.state="relative",--this.pointer),!0)},E.prototype["parse special relative or authority"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="relative",--this.pointer),!0},E.prototype["parse path or authority"]=function(e){return 47===e?this.state="authority":(this.state="path",--this.pointer),!0},E.prototype["parse relative"]=function(e){return this.url.scheme=this.base.scheme,isNaN(e)?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query):47===e?this.state="relative slash":63===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):f(this.url)&&92===e?(this.parseError=!0,this.state="relative slash"):(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.url.path=this.base.path.slice(0,this.base.path.length-1),this.state="path",--this.pointer),!0},E.prototype["parse relative slash"]=function(e){return!f(this.url)||47!==e&&92!==e?47===e?this.state="authority":(this.url.username=this.base.username,this.url.password=this.base.password,this.url.host=this.base.host,this.url.port=this.base.port,this.state="path",--this.pointer):(92===e&&(this.parseError=!0),this.state="special authority ignore slashes"),!0},E.prototype["parse special authority slashes"]=function(e){return 47===e&&47===this.input[this.pointer+1]?(this.state="special authority ignore slashes",++this.pointer):(this.parseError=!0,this.state="special authority ignore slashes",--this.pointer),!0},E.prototype["parse special authority ignore slashes"]=function(e){return 47!==e&&92!==e?(this.state="authority",--this.pointer):this.parseError=!0,!0},E.prototype["parse authority"]=function(e,t){if(64===e){this.parseError=!0,this.atFlag&&(this.buffer="%40"+this.buffer),this.atFlag=!0;const e=o(this.buffer);for(let t=0;t<e;++t){const e=this.buffer.codePointAt(t);if(58===e&&!this.passwordTokenSeenFlag){this.passwordTokenSeenFlag=!0;continue}const a=P(e,w);this.passwordTokenSeenFlag?this.url.password+=a:this.url.username+=a}this.buffer=""}else if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(this.atFlag&&""===this.buffer)return this.parseError=!0,s;this.pointer-=o(this.buffer)+1,this.buffer="",this.state="host"}else this.buffer+=t;return!0},E.prototype["parse hostname"]=E.prototype["parse host"]=function(e,t){if(this.stateOverride&&"file"===this.url.scheme)--this.pointer,this.state="file host";else if(58!==e||this.arrFlag)if(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e){if(--this.pointer,f(this.url)&&""===this.buffer)return this.parseError=!0,s;if(this.stateOverride&&""===this.buffer&&(C(this.url)||null!==this.url.port))return this.parseError=!0,!1;const e=T(this.buffer,f(this.url));if(e===s)return s;if(this.url.host=e,this.buffer="",this.state="path start",this.stateOverride)return!1}else 91===e?this.arrFlag=!0:93===e&&(this.arrFlag=!1),this.buffer+=t;else{if(""===this.buffer)return this.parseError=!0,s;const e=T(this.buffer,f(this.url));if(e===s)return s;if(this.url.host=e,this.buffer="",this.state="port","hostname"===this.stateOverride)return!1}return!0},E.prototype["parse port"]=function(e,t){if(d(e))this.buffer+=t;else{if(!(isNaN(e)||47===e||63===e||35===e||f(this.url)&&92===e||this.stateOverride))return this.parseError=!0,s;if(""!==this.buffer){const e=parseInt(this.buffer);if(e>Math.pow(2,16)-1)return this.parseError=!0,s;this.url.port=e===(a=this.url.scheme,i[a])?null:e,this.buffer=""}if(this.stateOverride)return!1;this.state="path start",--this.pointer}var a;return!0};const I=new Set([47,92,63,35]);E.prototype["parse file"]=function(e){var t,a;return this.url.scheme="file",47===e||92===e?(92===e&&(this.parseError=!0),this.state="file slash"):null!==this.base&&"file"===this.base.scheme?isNaN(e)?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query):63===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query="",this.state="query"):35===e?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),this.url.query=this.base.query,this.url.fragment="",this.state="fragment"):(this.input.length-this.pointer-1==0||(t=e,a=this.input[this.pointer+1],!p(t)||58!==a&&124!==a)||this.input.length-this.pointer-1>=2&&!I.has(this.input[this.pointer+2])?(this.url.host=this.base.host,this.url.path=this.base.path.slice(),S(this.url)):this.parseError=!0,this.state="path",--this.pointer):(this.state="path",--this.pointer),!0},E.prototype["parse file slash"]=function(e){var t;return 47===e||92===e?(92===e&&(this.parseError=!0),this.state="file host"):(null!==this.base&&"file"===this.base.scheme&&(2===(t=this.base.path[0]).length&&p(t.codePointAt(0))&&":"===t[1]?this.url.path.push(this.base.path[0]):this.url.host=this.base.host),this.state="path",--this.pointer),!0},E.prototype["parse file host"]=function(e,t){if(isNaN(e)||47===e||92===e||63===e||35===e)if(--this.pointer,!this.stateOverride&&m(this.buffer))this.parseError=!0,this.state="path";else if(""===this.buffer){if(this.url.host="",this.stateOverride)return!1;this.state="path start"}else{let e=T(this.buffer,f(this.url));if(e===s)return s;if("localhost"===e&&(e=""),this.url.host=e,this.stateOverride)return!1;this.buffer="",this.state="path start"}else this.buffer+=t;return!0},E.prototype["parse path start"]=function(e){return f(this.url)?(92===e&&(this.parseError=!0),this.state="path",47!==e&&92!==e&&--this.pointer):this.stateOverride||63!==e?this.stateOverride||35!==e?void 0!==e&&(this.state="path",47!==e&&--this.pointer):(this.url.fragment="",this.state="fragment"):(this.url.query="",this.state="query"),!0},E.prototype["parse path"]=function(e){if(isNaN(e)||47===e||f(this.url)&&92===e||!this.stateOverride&&(63===e||35===e)){if(f(this.url)&&92===e&&(this.parseError=!0),".."===(t=(t=this.buffer).toLowerCase())||"%2e."===t||".%2e"===t||"%2e%2e"===t?(S(this.url),47===e||f(this.url)&&92===e||this.url.path.push("")):!c(this.buffer)||47===e||f(this.url)&&92===e?c(this.buffer)||("file"===this.url.scheme&&0===this.url.path.length&&m(this.buffer)&&(""!==this.url.host&&null!==this.url.host&&(this.parseError=!0,this.url.host=""),this.buffer=this.buffer[0]+":"),this.url.path.push(this.buffer)):this.url.path.push(""),this.buffer="","file"===this.url.scheme&&(void 0===e||63===e||35===e))for(;this.url.path.length>1&&""===this.url.path[0];)this.parseError=!0,this.url.path.shift();63===e&&(this.url.query="",this.state="query"),35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=P(e,y);var t;return!0},E.prototype["parse cannot-be-a-base-URL path"]=function(e){return 63===e?(this.url.query="",this.state="query"):35===e?(this.url.fragment="",this.state="fragment"):(isNaN(e)||37===e||(this.parseError=!0),37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),isNaN(e)||(this.url.path[0]=this.url.path[0]+P(e,g))),!0},E.prototype["parse query"]=function(e,t){if(isNaN(e)||!this.stateOverride&&35===e){f(this.url)&&"ws"!==this.url.scheme&&"wss"!==this.url.scheme||(this.encodingOverride="utf-8");const t=new Buffer(this.buffer);for(let e=0;e<t.length;++e)t[e]<33||t[e]>126||34===t[e]||35===t[e]||60===t[e]||62===t[e]?this.url.query+=b(t[e]):this.url.query+=String.fromCodePoint(t[e]);this.buffer="",35===e&&(this.url.fragment="",this.state="fragment")}else 37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.buffer+=t;return!0},E.prototype["parse fragment"]=function(e){return isNaN(e)||(0===e?this.parseError=!0:(37!==e||u(this.input[this.pointer+1])&&u(this.input[this.pointer+2])||(this.parseError=!0),this.url.fragment+=P(e,g))),!0},e.exports.serializeURL=function(e,t){let a=e.scheme+":";if(null!==e.host?(a+="//",""===e.username&&""===e.password||(a+=e.username,""!==e.password&&(a+=":"+e.password),a+="@"),a+=A(e.host),null!==e.port&&(a+=":"+e.port)):null===e.host&&"file"===e.scheme&&(a+="//"),e.cannotBeABaseURL)a+=e.path[0];else for(const t of e.path)a+="/"+t;return null!==e.query&&(a+="?"+e.query),t||null===e.fragment||(a+="#"+e.fragment),a},e.exports.serializeURLOrigin=function(t){switch(t.scheme){case"blob":try{return e.exports.serializeURLOrigin(e.exports.parseURL(t.path[0]))}catch(e){return"null"}case"ftp":case"gopher":case"http":case"https":case"ws":case"wss":return function(e){let t=e.scheme+"://";return t+=A(e.host),null!==e.port&&(t+=":"+e.port),t}({scheme:t.scheme,host:t.host,port:t.port});case"file":return"file://";default:return"null"}},e.exports.basicURLParse=function(e,t){void 0===t&&(t={});const a=new E(e,t.baseURL,t.encodingOverride,t.url,t.stateOverride);return a.failure?"failure":a.url},e.exports.setTheUsername=function(e,t){e.username="";const a=r.ucs2.decode(t);for(let t=0;t<a.length;++t)e.username+=P(a[t],w)},e.exports.setThePassword=function(e,t){e.password="";const a=r.ucs2.decode(t);for(let t=0;t<a.length;++t)e.password+=P(a[t],w)},e.exports.serializeHost=A,e.exports.cannotHaveAUsernamePasswordPort=function(e){return null===e.host||""===e.host||e.cannotBeABaseURL||"file"===e.scheme},e.exports.serializeInteger=function(e){return String(e)},e.exports.parseURL=function(t,a){return void 0===a&&(a={}),e.exports.basicURLParse(t,{baseURL:a.baseURL,encodingOverride:a.encodingOverride})}},46892:e=>{"use strict";e.exports.mixin=function(e,t){const a=Object.getOwnPropertyNames(t);for(let r=0;r<a.length;++r)Object.defineProperty(e,a[r],Object.getOwnPropertyDescriptor(t,a[r]))},e.exports.wrapperSymbol=Symbol("wrapper"),e.exports.implSymbol=Symbol("impl"),e.exports.wrapperForImpl=function(t){return t[e.exports.wrapperSymbol]},e.exports.implForWrapper=function(t){return t[e.exports.implSymbol]}},66837:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ZodError=t.quotelessJson=t.ZodIssueCode=void 0;const r=a(12146);t.ZodIssueCode=r.util.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),t.quotelessJson=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class n extends Error{constructor(e){super(),this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=(e=[])=>{this.issues=[...this.issues,...e]};const t=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,t):this.__proto__=t,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const t=e||function(e){return e.message},a={_errors:[]},r=e=>{for(const n of e.issues)if("invalid_union"===n.code)n.unionErrors.map(r);else if("invalid_return_type"===n.code)r(n.returnTypeError);else if("invalid_arguments"===n.code)r(n.argumentsError);else if(0===n.path.length)a._errors.push(t(n));else{let e=a,r=0;for(;r<n.path.length;){const a=n.path[r];r===n.path.length-1?(e[a]=e[a]||{_errors:[]},e[a]._errors.push(t(n))):e[a]=e[a]||{_errors:[]},e=e[a],r++}}};return r(this),a}static assert(e){if(!(e instanceof n))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,r.util.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(e=(e=>e.message)){const t={},a=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):a.push(e(r));return{formErrors:a,fieldErrors:t}}get formErrors(){return this.flatten()}}t.ZodError=n,n.create=e=>new n(e)},40627:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getErrorMap=t.setErrorMap=t.defaultErrorMap=void 0;const n=r(a(68227));t.defaultErrorMap=n.default;let i=n.default;t.setErrorMap=function(e){i=e},t.getErrorMap=function(){return i}},96555:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(40627),t),n(a(97231),t),n(a(91892),t),n(a(12146),t),n(a(12739),t),n(a(66837),t)},69750:(e,t)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.errorUtil=void 0,(a=t.errorUtil||(t.errorUtil={})).errToObj=e=>"string"==typeof e?{message:e}:e||{},a.toString=e=>"string"==typeof e?e:null==e?void 0:e.message},97231:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isAsync=t.isValid=t.isDirty=t.isAborted=t.OK=t.DIRTY=t.INVALID=t.ParseStatus=t.addIssueToContext=t.EMPTY_PATH=t.makeIssue=void 0;const n=a(40627),i=r(a(68227));t.makeIssue=e=>{const{data:t,path:a,errorMaps:r,issueData:n}=e,i=[...a,...n.path||[]],s={...n,path:i};if(void 0!==n.message)return{...n,path:i,message:n.message};let o="";const l=r.filter((e=>!!e)).slice().reverse();for(const e of l)o=e(s,{data:t,defaultError:o}).message;return{...n,path:i,message:o}},t.EMPTY_PATH=[],t.addIssueToContext=function(e,a){const r=(0,n.getErrorMap)(),s=(0,t.makeIssue)({issueData:a,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===i.default?void 0:i.default].filter((e=>!!e))});e.common.issues.push(s)};class s{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,a){const r=[];for(const n of a){if("aborted"===n.status)return t.INVALID;"dirty"===n.status&&e.dirty(),r.push(n.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,t){const a=[];for(const e of t){const t=await e.key,r=await e.value;a.push({key:t,value:r})}return s.mergeObjectSync(e,a)}static mergeObjectSync(e,a){const r={};for(const n of a){const{key:a,value:i}=n;if("aborted"===a.status)return t.INVALID;if("aborted"===i.status)return t.INVALID;"dirty"===a.status&&e.dirty(),"dirty"===i.status&&e.dirty(),"__proto__"===a.value||void 0===i.value&&!n.alwaysSet||(r[a.value]=i.value)}return{status:e.value,value:r}}}t.ParseStatus=s,t.INVALID=Object.freeze({status:"aborted"}),t.DIRTY=e=>({status:"dirty",value:e}),t.OK=e=>({status:"valid",value:e}),t.isAborted=e=>"aborted"===e.status,t.isDirty=e=>"dirty"===e.status,t.isValid=e=>"valid"===e.status,t.isAsync=e=>"undefined"!=typeof Promise&&e instanceof Promise},91892:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},12146:(e,t)=>{"use strict";var a;Object.defineProperty(t,"__esModule",{value:!0}),t.getParsedType=t.ZodParsedType=t.objectUtil=t.util=void 0,function(e){e.assertEqual=e=>e,e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const a of e)t[a]=a;return t},e.getValidEnumValues=t=>{const a=e.objectKeys(t).filter((e=>"number"!=typeof t[t[e]])),r={};for(const e of a)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"==typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.push(a);return t},e.find=(e,t)=>{for(const a of e)if(t(a))return a},e.isInteger="function"==typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"==typeof e&&isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e,t=" | "){return e.map((e=>"string"==typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"==typeof t?t.toString():t}(a=t.util||(t.util={})),(t.objectUtil||(t.objectUtil={})).mergeShapes=(e,t)=>({...e,...t}),t.ZodParsedType=a.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),t.getParsedType=e=>{switch(typeof e){case"undefined":return t.ZodParsedType.undefined;case"string":return t.ZodParsedType.string;case"number":return isNaN(e)?t.ZodParsedType.nan:t.ZodParsedType.number;case"boolean":return t.ZodParsedType.boolean;case"function":return t.ZodParsedType.function;case"bigint":return t.ZodParsedType.bigint;case"symbol":return t.ZodParsedType.symbol;case"object":return Array.isArray(e)?t.ZodParsedType.array:null===e?t.ZodParsedType.null:e.then&&"function"==typeof e.then&&e.catch&&"function"==typeof e.catch?t.ZodParsedType.promise:"undefined"!=typeof Map&&e instanceof Map?t.ZodParsedType.map:"undefined"!=typeof Set&&e instanceof Set?t.ZodParsedType.set:"undefined"!=typeof Date&&e instanceof Date?t.ZodParsedType.date:t.ZodParsedType.object;default:return t.ZodParsedType.unknown}}},21614:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},s=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.z=void 0;const o=i(a(96555));t.z=o,s(a(96555),t),t.default=o},68227:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(12146),n=a(66837);t.default=(e,t)=>{let a;switch(e.code){case n.ZodIssueCode.invalid_type:a=e.received===r.ZodParsedType.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case n.ZodIssueCode.invalid_literal:a=`Invalid literal value, expected ${JSON.stringify(e.expected,r.util.jsonStringifyReplacer)}`;break;case n.ZodIssueCode.unrecognized_keys:a=`Unrecognized key(s) in object: ${r.util.joinValues(e.keys,", ")}`;break;case n.ZodIssueCode.invalid_union:a="Invalid input";break;case n.ZodIssueCode.invalid_union_discriminator:a=`Invalid discriminator value. Expected ${r.util.joinValues(e.options)}`;break;case n.ZodIssueCode.invalid_enum_value:a=`Invalid enum value. Expected ${r.util.joinValues(e.options)}, received '${e.received}'`;break;case n.ZodIssueCode.invalid_arguments:a="Invalid function arguments";break;case n.ZodIssueCode.invalid_return_type:a="Invalid function return type";break;case n.ZodIssueCode.invalid_date:a="Invalid date";break;case n.ZodIssueCode.invalid_string:"object"==typeof e.validation?"includes"in e.validation?(a=`Invalid input: must include "${e.validation.includes}"`,"number"==typeof e.validation.position&&(a=`${a} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?a=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?a=`Invalid input: must end with "${e.validation.endsWith}"`:r.util.assertNever(e.validation):a="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case n.ZodIssueCode.too_small:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case n.ZodIssueCode.too_big:a="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case n.ZodIssueCode.custom:a="Invalid input";break;case n.ZodIssueCode.invalid_intersection_types:a="Intersection results could not be merged";break;case n.ZodIssueCode.not_multiple_of:a=`Number must be a multiple of ${e.multipleOf}`;break;case n.ZodIssueCode.not_finite:a="Number must be finite";break;default:a=t.defaultError,r.util.assertNever(e)}return{message:a}}},12739:function(e,t,a){"use strict";var r,n,i=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},s=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.boolean=t.bigint=t.array=t.any=t.coerce=t.ZodFirstPartyTypeKind=t.late=t.ZodSchema=t.Schema=t.custom=t.ZodReadonly=t.ZodPipeline=t.ZodBranded=t.BRAND=t.ZodNaN=t.ZodCatch=t.ZodDefault=t.ZodNullable=t.ZodOptional=t.ZodTransformer=t.ZodEffects=t.ZodPromise=t.ZodNativeEnum=t.ZodEnum=t.ZodLiteral=t.ZodLazy=t.ZodFunction=t.ZodSet=t.ZodMap=t.ZodRecord=t.ZodTuple=t.ZodIntersection=t.ZodDiscriminatedUnion=t.ZodUnion=t.ZodObject=t.ZodArray=t.ZodVoid=t.ZodNever=t.ZodUnknown=t.ZodAny=t.ZodNull=t.ZodUndefined=t.ZodSymbol=t.ZodDate=t.ZodBoolean=t.ZodBigInt=t.ZodNumber=t.ZodString=t.datetimeRegex=t.ZodType=void 0,t.NEVER=t.void=t.unknown=t.union=t.undefined=t.tuple=t.transformer=t.symbol=t.string=t.strictObject=t.set=t.record=t.promise=t.preprocess=t.pipeline=t.ostring=t.optional=t.onumber=t.oboolean=t.object=t.number=t.nullable=t.null=t.never=t.nativeEnum=t.nan=t.map=t.literal=t.lazy=t.intersection=t.instanceof=t.function=t.enum=t.effect=t.discriminatedUnion=t.date=void 0;const o=a(40627),l=a(69750),d=a(97231),p=a(12146),u=a(66837);class c{constructor(e,t,a,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=a,this._key=r}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const m=(e,t)=>{if((0,d.isValid)(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new u.ZodError(e.common.issues);return this._error=t,this._error}}};function h(e){if(!e)return{};const{errorMap:t,invalid_type_error:a,required_error:r,description:n}=e;if(t&&(a||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:n}:{errorMap:(t,n)=>{var i,s;const{message:o}=e;return"invalid_enum_value"===t.code?{message:null!=o?o:n.defaultError}:void 0===n.data?{message:null!==(i=null!=o?o:r)&&void 0!==i?i:n.defaultError}:"invalid_type"!==t.code?{message:n.defaultError}:{message:null!==(s=null!=o?o:a)&&void 0!==s?s:n.defaultError}},description:n}}class f{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return(0,p.getParsedType)(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:(0,p.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new d.ParseStatus,ctx:{common:e.parent.common,data:e.data,parsedType:(0,p.getParsedType)(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if((0,d.isAsync)(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const a=this.safeParse(e,t);if(a.success)return a.data;throw a.error}safeParse(e,t){var a;const r={common:{issues:[],async:null!==(a=null==t?void 0:t.async)&&void 0!==a&&a,contextualErrorMap:null==t?void 0:t.errorMap},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,p.getParsedType)(e)},n=this._parseSync({data:e,path:r.path,parent:r});return m(r,n)}async parseAsync(e,t){const a=await this.safeParseAsync(e,t);if(a.success)return a.data;throw a.error}async safeParseAsync(e,t){const a={common:{issues:[],contextualErrorMap:null==t?void 0:t.errorMap,async:!0},path:(null==t?void 0:t.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:(0,p.getParsedType)(e)},r=this._parse({data:e,path:a.path,parent:a}),n=await((0,d.isAsync)(r)?r:Promise.resolve(r));return m(a,n)}refine(e,t){const a=e=>"string"==typeof t||void 0===t?{message:t}:"function"==typeof t?t(e):t;return this._refinement(((t,r)=>{const n=e(t),i=()=>r.addIssue({code:u.ZodIssueCode.custom,...a(t)});return"undefined"!=typeof Promise&&n instanceof Promise?n.then((e=>!!e||(i(),!1))):!!n||(i(),!1)}))}refinement(e,t){return this._refinement(((a,r)=>!!e(a)||(r.addIssue("function"==typeof t?t(a,r):t),!1)))}_refinement(e){return new de({schema:this,typeName:ye.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return pe.create(this,this._def)}nullable(){return ue.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return U.create(this,this._def)}promise(){return le.create(this,this._def)}or(e){return W.create([this,e],this._def)}and(e){return Y.create(this,e,this._def)}transform(e){return new de({...h(this._def),schema:this,typeName:ye.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"==typeof e?e:()=>e;return new ce({...h(this._def),innerType:this,defaultValue:t,typeName:ye.ZodDefault})}brand(){return new fe({typeName:ye.ZodBranded,type:this,...h(this._def)})}catch(e){const t="function"==typeof e?e:()=>e;return new me({...h(this._def),innerType:this,catchValue:t,typeName:ye.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return be.create(this,e)}readonly(){return ge.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}t.ZodType=f,t.Schema=f,t.ZodSchema=f;const b=/^c[^\s-]{8,}$/i,g=/^[0-9a-z]+$/,v=/^[0-9A-HJKMNP-TV-Z]{26}$/,y=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,_=/^[a-z0-9_-]{21}$/i,w=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,P=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let O;const T=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,A=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,S=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,C="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",E=new RegExp(`^${C}$`);function I(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`),t}function k(e){let t=`${C}T${I(e)}`;const a=[];return a.push(e.local?"Z?":"Z"),e.offset&&a.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${a.join("|")})`,new RegExp(`^${t}$`)}t.datetimeRegex=k;class R extends f{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==p.ZodParsedType.string){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.string,received:t.parsedType}),d.INVALID}const t=new d.ParseStatus;let a;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,n=e.data.length<i.value;(r||n)&&(a=this._getOrReturnCtx(e,a),r?(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):n&&(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)P.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"email",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)O||(O=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),O.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"emoji",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)y.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"uuid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)_.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"nanoid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)b.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"cuid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)g.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"cuid2",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)v.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"ulid",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch(r){a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"url",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()}else"regex"===i.kind?(i.regex.lastIndex=0,i.regex.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"regex",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty())):"trim"===i.kind?e.data=e.data.trim():"includes"===i.kind?e.data.includes(i.value,i.position)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty()):"toLowerCase"===i.kind?e.data=e.data.toLowerCase():"toUpperCase"===i.kind?e.data=e.data.toUpperCase():"startsWith"===i.kind?e.data.startsWith(i.value)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty()):"endsWith"===i.kind?e.data.endsWith(i.value)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty()):"datetime"===i.kind?k(i).test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:"datetime",message:i.message}),t.dirty()):"date"===i.kind?E.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:"date",message:i.message}),t.dirty()):"time"===i.kind?new RegExp(`^${I(i)}$`).test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_string,validation:"time",message:i.message}),t.dirty()):"duration"===i.kind?w.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"duration",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"!==(n=i.version)&&n||!T.test(r))&&("v6"!==n&&n||!A.test(r))&&(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"ip",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty())):"base64"===i.kind?S.test(e.data)||(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{validation:"base64",code:u.ZodIssueCode.invalid_string,message:i.message}),t.dirty()):p.util.assertNever(i);var r,n;return{status:t.value,value:e.data}}_regex(e,t,a){return this.refinement((t=>e.test(t)),{validation:t,code:u.ZodIssueCode.invalid_string,...l.errorUtil.errToObj(a)})}_addCheck(e){return new R({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...l.errorUtil.errToObj(e)})}url(e){return this._addCheck({kind:"url",...l.errorUtil.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...l.errorUtil.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...l.errorUtil.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...l.errorUtil.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...l.errorUtil.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...l.errorUtil.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...l.errorUtil.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...l.errorUtil.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...l.errorUtil.errToObj(e)})}datetime(e){var t,a;return"string"==typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,offset:null!==(t=null==e?void 0:e.offset)&&void 0!==t&&t,local:null!==(a=null==e?void 0:e.local)&&void 0!==a&&a,...l.errorUtil.errToObj(null==e?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"==typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:void 0===(null==e?void 0:e.precision)?null:null==e?void 0:e.precision,...l.errorUtil.errToObj(null==e?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...l.errorUtil.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...l.errorUtil.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:null==t?void 0:t.position,...l.errorUtil.errToObj(null==t?void 0:t.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...l.errorUtil.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...l.errorUtil.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...l.errorUtil.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...l.errorUtil.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...l.errorUtil.errToObj(t)})}nonempty(e){return this.min(1,l.errorUtil.errToObj(e))}trim(){return new R({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new R({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function j(e,t){const a=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,n=a>r?a:r;return parseInt(e.toFixed(n).replace(".",""))%parseInt(t.toFixed(n).replace(".",""))/Math.pow(10,n)}t.ZodString=R,R.create=e=>{var t;return new R({checks:[],typeName:ye.ZodString,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...h(e)})};class x extends f{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==p.ZodParsedType.number){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.number,received:t.parsedType}),d.INVALID}let t;const a=new d.ParseStatus;for(const r of this._def.checks)"int"===r.kind?p.util.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:"integer",received:"float",message:r.message}),a.dirty()):"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),a.dirty()):"multipleOf"===r.kind?0!==j(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.not_finite,message:r.message}),a.dirty()):p.util.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.errorUtil.toString(t))}setLimit(e,t,a,r){return new x({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:l.errorUtil.toString(r)}]})}_addCheck(e){return new x({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:l.errorUtil.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:l.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:l.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:l.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:l.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.errorUtil.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:l.errorUtil.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:l.errorUtil.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:l.errorUtil.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&p.util.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const a of this._def.checks){if("finite"===a.kind||"int"===a.kind||"multipleOf"===a.kind)return!0;"min"===a.kind?(null===t||a.value>t)&&(t=a.value):"max"===a.kind&&(null===e||a.value<e)&&(e=a.value)}return Number.isFinite(t)&&Number.isFinite(e)}}t.ZodNumber=x,x.create=e=>new x({checks:[],typeName:ye.ZodNumber,coerce:(null==e?void 0:e.coerce)||!1,...h(e)});class N extends f{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==p.ZodParsedType.bigint){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.bigint,received:t.parsedType}),d.INVALID}let t;const a=new d.ParseStatus;for(const r of this._def.checks)"min"===r.kind?(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"max"===r.kind?(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),a.dirty()):"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.not_multiple_of,multipleOf:r.value,message:r.message}),a.dirty()):p.util.assertNever(r);return{status:a.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,l.errorUtil.toString(t))}gt(e,t){return this.setLimit("min",e,!1,l.errorUtil.toString(t))}lte(e,t){return this.setLimit("max",e,!0,l.errorUtil.toString(t))}lt(e,t){return this.setLimit("max",e,!1,l.errorUtil.toString(t))}setLimit(e,t,a,r){return new N({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:a,message:l.errorUtil.toString(r)}]})}_addCheck(e){return new N({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:l.errorUtil.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:l.errorUtil.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:l.errorUtil.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:l.errorUtil.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:l.errorUtil.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}t.ZodBigInt=N,N.create=e=>{var t;return new N({checks:[],typeName:ye.ZodBigInt,coerce:null!==(t=null==e?void 0:e.coerce)&&void 0!==t&&t,...h(e)})};class M extends f{_parse(e){if(this._def.coerce&&(e.data=Boolean(e.data)),this._getType(e)!==p.ZodParsedType.boolean){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.boolean,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodBoolean=M,M.create=e=>new M({typeName:ye.ZodBoolean,coerce:(null==e?void 0:e.coerce)||!1,...h(e)});class D extends f{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==p.ZodParsedType.date){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.date,received:t.parsedType}),d.INVALID}if(isNaN(e.data.getTime())){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_date}),d.INVALID}const t=new d.ParseStatus;let a;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(a=this._getOrReturnCtx(e,a),(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):p.util.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new D({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:l.errorUtil.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:l.errorUtil.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}t.ZodDate=D,D.create=e=>new D({checks:[],coerce:(null==e?void 0:e.coerce)||!1,typeName:ye.ZodDate,...h(e)});class L extends f{_parse(e){if(this._getType(e)!==p.ZodParsedType.symbol){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.symbol,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodSymbol=L,L.create=e=>new L({typeName:ye.ZodSymbol,...h(e)});class $ extends f{_parse(e){if(this._getType(e)!==p.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.undefined,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodUndefined=$,$.create=e=>new $({typeName:ye.ZodUndefined,...h(e)});class F extends f{_parse(e){if(this._getType(e)!==p.ZodParsedType.null){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.null,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodNull=F,F.create=e=>new F({typeName:ye.ZodNull,...h(e)});class q extends f{constructor(){super(...arguments),this._any=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodAny=q,q.create=e=>new q({typeName:ye.ZodAny,...h(e)});class V extends f{constructor(){super(...arguments),this._unknown=!0}_parse(e){return(0,d.OK)(e.data)}}t.ZodUnknown=V,V.create=e=>new V({typeName:ye.ZodUnknown,...h(e)});class B extends f{_parse(e){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.never,received:t.parsedType}),d.INVALID}}t.ZodNever=B,B.create=e=>new B({typeName:ye.ZodNever,...h(e)});class z extends f{_parse(e){if(this._getType(e)!==p.ZodParsedType.undefined){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.void,received:t.parsedType}),d.INVALID}return(0,d.OK)(e.data)}}t.ZodVoid=z,z.create=e=>new z({typeName:ye.ZodVoid,...h(e)});class U extends f{_parse(e){const{ctx:t,status:a}=this._processInputParams(e),r=this._def;if(t.parsedType!==p.ZodParsedType.array)return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.array,received:t.parsedType}),d.INVALID;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,n=t.data.length<r.exactLength.value;(e||n)&&((0,d.addIssueToContext)(t,{code:e?u.ZodIssueCode.too_big:u.ZodIssueCode.too_small,minimum:n?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),a.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&((0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),a.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&((0,d.addIssueToContext)(t,{code:u.ZodIssueCode.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),a.dirty()),t.common.async)return Promise.all([...t.data].map(((e,a)=>r.type._parseAsync(new c(t,e,t.path,a))))).then((e=>d.ParseStatus.mergeArray(a,e)));const n=[...t.data].map(((e,a)=>r.type._parseSync(new c(t,e,t.path,a))));return d.ParseStatus.mergeArray(a,n)}get element(){return this._def.type}min(e,t){return new U({...this._def,minLength:{value:e,message:l.errorUtil.toString(t)}})}max(e,t){return new U({...this._def,maxLength:{value:e,message:l.errorUtil.toString(t)}})}length(e,t){return new U({...this._def,exactLength:{value:e,message:l.errorUtil.toString(t)}})}nonempty(e){return this.min(1,e)}}function K(e){if(e instanceof Z){const t={};for(const a in e.shape){const r=e.shape[a];t[a]=pe.create(K(r))}return new Z({...e._def,shape:()=>t})}return e instanceof U?new U({...e._def,type:K(e.element)}):e instanceof pe?pe.create(K(e.unwrap())):e instanceof ue?ue.create(K(e.unwrap())):e instanceof Q?Q.create(e.items.map((e=>K(e)))):e}t.ZodArray=U,U.create=(e,t)=>new U({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ye.ZodArray,...h(t)});class Z extends f{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=p.util.objectKeys(e);return this._cached={shape:e,keys:t}}_parse(e){if(this._getType(e)!==p.ZodParsedType.object){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:t.parsedType}),d.INVALID}const{status:t,ctx:a}=this._processInputParams(e),{shape:r,keys:n}=this._getCached(),i=[];if(!(this._def.catchall instanceof B&&"strip"===this._def.unknownKeys))for(const e in a.data)n.includes(e)||i.push(e);const s=[];for(const e of n){const t=r[e],n=a.data[e];s.push({key:{status:"valid",value:e},value:t._parse(new c(a,n,a.path,e)),alwaysSet:e in a.data})}if(this._def.catchall instanceof B){const e=this._def.unknownKeys;if("passthrough"===e)for(const e of i)s.push({key:{status:"valid",value:e},value:{status:"valid",value:a.data[e]}});else if("strict"===e)i.length>0&&((0,d.addIssueToContext)(a,{code:u.ZodIssueCode.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=a.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new c(a,r,a.path,t)),alwaysSet:t in a.data})}}return a.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const a=await t.key,r=await t.value;e.push({key:a,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>d.ParseStatus.mergeObjectSync(t,e))):d.ParseStatus.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return l.errorUtil.errToObj,new Z({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,a)=>{var r,n,i,s;const o=null!==(i=null===(n=(r=this._def).errorMap)||void 0===n?void 0:n.call(r,t,a).message)&&void 0!==i?i:a.defaultError;return"unrecognized_keys"===t.code?{message:null!==(s=l.errorUtil.errToObj(e).message)&&void 0!==s?s:o}:{message:o}}}:{}})}strip(){return new Z({...this._def,unknownKeys:"strip"})}passthrough(){return new Z({...this._def,unknownKeys:"passthrough"})}extend(e){return new Z({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Z({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:ye.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new Z({...this._def,catchall:e})}pick(e){const t={};return p.util.objectKeys(e).forEach((a=>{e[a]&&this.shape[a]&&(t[a]=this.shape[a])})),new Z({...this._def,shape:()=>t})}omit(e){const t={};return p.util.objectKeys(this.shape).forEach((a=>{e[a]||(t[a]=this.shape[a])})),new Z({...this._def,shape:()=>t})}deepPartial(){return K(this)}partial(e){const t={};return p.util.objectKeys(this.shape).forEach((a=>{const r=this.shape[a];e&&!e[a]?t[a]=r:t[a]=r.optional()})),new Z({...this._def,shape:()=>t})}required(e){const t={};return p.util.objectKeys(this.shape).forEach((a=>{if(e&&!e[a])t[a]=this.shape[a];else{let e=this.shape[a];for(;e instanceof pe;)e=e._def.innerType;t[a]=e}})),new Z({...this._def,shape:()=>t})}keyof(){return ie(p.util.objectKeys(this.shape))}}t.ZodObject=Z,Z.create=(e,t)=>new Z({shape:()=>e,unknownKeys:"strip",catchall:B.create(),typeName:ye.ZodObject,...h(t)}),Z.strictCreate=(e,t)=>new Z({shape:()=>e,unknownKeys:"strict",catchall:B.create(),typeName:ye.ZodObject,...h(t)}),Z.lazycreate=(e,t)=>new Z({shape:e,unknownKeys:"strip",catchall:B.create(),typeName:ye.ZodObject,...h(t)});class W extends f{_parse(e){const{ctx:t}=this._processInputParams(e),a=this._def.options;if(t.common.async)return Promise.all(a.map((async e=>{const a={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:a}),ctx:a}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const a of e)if("dirty"===a.result.status)return t.common.issues.push(...a.ctx.common.issues),a.result;const a=e.map((e=>new u.ZodError(e.ctx.common.issues)));return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union,unionErrors:a}),d.INVALID}));{let e;const r=[];for(const n of a){const a={...t,common:{...t.common,issues:[]},parent:null},i=n._parseSync({data:t.data,path:t.path,parent:a});if("valid"===i.status)return i;"dirty"!==i.status||e||(e={result:i,ctx:a}),a.common.issues.length&&r.push(a.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const n=r.map((e=>new u.ZodError(e)));return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union,unionErrors:n}),d.INVALID}}get options(){return this._def.options}}t.ZodUnion=W,W.create=(e,t)=>new W({options:e,typeName:ye.ZodUnion,...h(t)});const H=e=>e instanceof re?H(e.schema):e instanceof de?H(e.innerType()):e instanceof ne?[e.value]:e instanceof se?e.options:e instanceof oe?p.util.objectValues(e.enum):e instanceof ce?H(e._def.innerType):e instanceof $?[void 0]:e instanceof F?[null]:e instanceof pe?[void 0,...H(e.unwrap())]:e instanceof ue?[null,...H(e.unwrap())]:e instanceof fe||e instanceof ge?H(e.unwrap()):e instanceof me?H(e._def.innerType):[];class G extends f{_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.object)return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:t.parsedType}),d.INVALID;const a=this.discriminator,r=t.data[a],n=this.optionsMap.get(r);return n?t.common.async?n._parseAsync({data:t.data,path:t.path,parent:t}):n._parseSync({data:t.data,path:t.path,parent:t}):((0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[a]}),d.INVALID)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,t,a){const r=new Map;for(const a of t){const t=H(a.shape[e]);if(!t.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const n of t){if(r.has(n))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(n)}`);r.set(n,a)}}return new G({typeName:ye.ZodDiscriminatedUnion,discriminator:e,options:t,optionsMap:r,...h(a)})}}function J(e,t){const a=(0,p.getParsedType)(e),r=(0,p.getParsedType)(t);if(e===t)return{valid:!0,data:e};if(a===p.ZodParsedType.object&&r===p.ZodParsedType.object){const a=p.util.objectKeys(t),r=p.util.objectKeys(e).filter((e=>-1!==a.indexOf(e))),n={...e,...t};for(const a of r){const r=J(e[a],t[a]);if(!r.valid)return{valid:!1};n[a]=r.data}return{valid:!0,data:n}}if(a===p.ZodParsedType.array&&r===p.ZodParsedType.array){if(e.length!==t.length)return{valid:!1};const a=[];for(let r=0;r<e.length;r++){const n=J(e[r],t[r]);if(!n.valid)return{valid:!1};a.push(n.data)}return{valid:!0,data:a}}return a===p.ZodParsedType.date&&r===p.ZodParsedType.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}t.ZodDiscriminatedUnion=G;class Y extends f{_parse(e){const{status:t,ctx:a}=this._processInputParams(e),r=(e,r)=>{if((0,d.isAborted)(e)||(0,d.isAborted)(r))return d.INVALID;const n=J(e.value,r.value);return n.valid?(((0,d.isDirty)(e)||(0,d.isDirty)(r))&&t.dirty(),{status:t.value,value:n.data}):((0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_intersection_types}),d.INVALID)};return a.common.async?Promise.all([this._def.left._parseAsync({data:a.data,path:a.path,parent:a}),this._def.right._parseAsync({data:a.data,path:a.path,parent:a})]).then((([e,t])=>r(e,t))):r(this._def.left._parseSync({data:a.data,path:a.path,parent:a}),this._def.right._parseSync({data:a.data,path:a.path,parent:a}))}}t.ZodIntersection=Y,Y.create=(e,t,a)=>new Y({left:e,right:t,typeName:ye.ZodIntersection,...h(a)});class Q extends f{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.ZodParsedType.array)return(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.array,received:a.parsedType}),d.INVALID;if(a.data.length<this._def.items.length)return(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),d.INVALID;!this._def.rest&&a.data.length>this._def.items.length&&((0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...a.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new c(a,e,a.path,t)):null})).filter((e=>!!e));return a.common.async?Promise.all(r).then((e=>d.ParseStatus.mergeArray(t,e))):d.ParseStatus.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Q({...this._def,rest:e})}}t.ZodTuple=Q,Q.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Q({items:e,typeName:ye.ZodTuple,rest:null,...h(t)})};class X extends f{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.ZodParsedType.object)return(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.object,received:a.parsedType}),d.INVALID;const r=[],n=this._def.keyType,i=this._def.valueType;for(const e in a.data)r.push({key:n._parse(new c(a,e,a.path,e)),value:i._parse(new c(a,a.data[e],a.path,e)),alwaysSet:e in a.data});return a.common.async?d.ParseStatus.mergeObjectAsync(t,r):d.ParseStatus.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,a){return new X(t instanceof f?{keyType:e,valueType:t,typeName:ye.ZodRecord,...h(a)}:{keyType:R.create(),valueType:e,typeName:ye.ZodRecord,...h(t)})}}t.ZodRecord=X;class ee extends f{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.ZodParsedType.map)return(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.map,received:a.parsedType}),d.INVALID;const r=this._def.keyType,n=this._def.valueType,i=[...a.data.entries()].map((([e,t],i)=>({key:r._parse(new c(a,e,a.path,[i,"key"])),value:n._parse(new c(a,t,a.path,[i,"value"]))})));if(a.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const a of i){const r=await a.key,n=await a.value;if("aborted"===r.status||"aborted"===n.status)return d.INVALID;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const a of i){const r=a.key,n=a.value;if("aborted"===r.status||"aborted"===n.status)return d.INVALID;"dirty"!==r.status&&"dirty"!==n.status||t.dirty(),e.set(r.value,n.value)}return{status:t.value,value:e}}}}t.ZodMap=ee,ee.create=(e,t,a)=>new ee({valueType:t,keyType:e,typeName:ye.ZodMap,...h(a)});class te extends f{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.parsedType!==p.ZodParsedType.set)return(0,d.addIssueToContext)(a,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.set,received:a.parsedType}),d.INVALID;const r=this._def;null!==r.minSize&&a.data.size<r.minSize.value&&((0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&a.data.size>r.maxSize.value&&((0,d.addIssueToContext)(a,{code:u.ZodIssueCode.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const n=this._def.valueType;function i(e){const a=new Set;for(const r of e){if("aborted"===r.status)return d.INVALID;"dirty"===r.status&&t.dirty(),a.add(r.value)}return{status:t.value,value:a}}const s=[...a.data.values()].map(((e,t)=>n._parse(new c(a,e,a.path,t))));return a.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new te({...this._def,minSize:{value:e,message:l.errorUtil.toString(t)}})}max(e,t){return new te({...this._def,maxSize:{value:e,message:l.errorUtil.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}t.ZodSet=te,te.create=(e,t)=>new te({valueType:e,minSize:null,maxSize:null,typeName:ye.ZodSet,...h(t)});class ae extends f{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.function)return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.function,received:t.parsedType}),d.INVALID;function a(e,a){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,o.getErrorMap)(),o.defaultErrorMap].filter((e=>!!e)),issueData:{code:u.ZodIssueCode.invalid_arguments,argumentsError:a}})}function r(e,a){return(0,d.makeIssue)({data:e,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,(0,o.getErrorMap)(),o.defaultErrorMap].filter((e=>!!e)),issueData:{code:u.ZodIssueCode.invalid_return_type,returnTypeError:a}})}const n={errorMap:t.common.contextualErrorMap},i=t.data;if(this._def.returns instanceof le){const e=this;return(0,d.OK)((async function(...t){const s=new u.ZodError([]),o=await e._def.args.parseAsync(t,n).catch((e=>{throw s.addIssue(a(t,e)),s})),l=await Reflect.apply(i,this,o);return await e._def.returns._def.type.parseAsync(l,n).catch((e=>{throw s.addIssue(r(l,e)),s}))}))}{const e=this;return(0,d.OK)((function(...t){const s=e._def.args.safeParse(t,n);if(!s.success)throw new u.ZodError([a(t,s.error)]);const o=Reflect.apply(i,this,s.data),l=e._def.returns.safeParse(o,n);if(!l.success)throw new u.ZodError([r(o,l.error)]);return l.data}))}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new ae({...this._def,args:Q.create(e).rest(V.create())})}returns(e){return new ae({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,t,a){return new ae({args:e||Q.create([]).rest(V.create()),returns:t||V.create(),typeName:ye.ZodFunction,...h(a)})}}t.ZodFunction=ae;class re extends f{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}t.ZodLazy=re,re.create=(e,t)=>new re({getter:e,typeName:ye.ZodLazy,...h(t)});class ne extends f{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{received:t.data,code:u.ZodIssueCode.invalid_literal,expected:this._def.value}),d.INVALID}return{status:"valid",value:e.data}}get value(){return this._def.value}}function ie(e,t){return new se({values:e,typeName:ye.ZodEnum,...h(t)})}t.ZodLiteral=ne,ne.create=(e,t)=>new ne({value:e,typeName:ye.ZodLiteral,...h(t)});class se extends f{constructor(){super(...arguments),r.set(this,void 0)}_parse(e){if("string"!=typeof e.data){const t=this._getOrReturnCtx(e),a=this._def.values;return(0,d.addIssueToContext)(t,{expected:p.util.joinValues(a),received:t.parsedType,code:u.ZodIssueCode.invalid_type}),d.INVALID}if(i(this,r,"f")||s(this,r,new Set(this._def.values),"f"),!i(this,r,"f").has(e.data)){const t=this._getOrReturnCtx(e),a=this._def.values;return(0,d.addIssueToContext)(t,{received:t.data,code:u.ZodIssueCode.invalid_enum_value,options:a}),d.INVALID}return(0,d.OK)(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e,t=this._def){return se.create(e,{...this._def,...t})}exclude(e,t=this._def){return se.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}t.ZodEnum=se,r=new WeakMap,se.create=ie;class oe extends f{constructor(){super(...arguments),n.set(this,void 0)}_parse(e){const t=p.util.getValidEnumValues(this._def.values),a=this._getOrReturnCtx(e);if(a.parsedType!==p.ZodParsedType.string&&a.parsedType!==p.ZodParsedType.number){const e=p.util.objectValues(t);return(0,d.addIssueToContext)(a,{expected:p.util.joinValues(e),received:a.parsedType,code:u.ZodIssueCode.invalid_type}),d.INVALID}if(i(this,n,"f")||s(this,n,new Set(p.util.getValidEnumValues(this._def.values)),"f"),!i(this,n,"f").has(e.data)){const e=p.util.objectValues(t);return(0,d.addIssueToContext)(a,{received:a.data,code:u.ZodIssueCode.invalid_enum_value,options:e}),d.INVALID}return(0,d.OK)(e.data)}get enum(){return this._def.values}}t.ZodNativeEnum=oe,n=new WeakMap,oe.create=(e,t)=>new oe({values:e,typeName:ye.ZodNativeEnum,...h(t)});class le extends f{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==p.ZodParsedType.promise&&!1===t.common.async)return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.promise,received:t.parsedType}),d.INVALID;const a=t.parsedType===p.ZodParsedType.promise?t.data:Promise.resolve(t.data);return(0,d.OK)(a.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}t.ZodPromise=le,le.create=(e,t)=>new le({type:e,typeName:ye.ZodPromise,...h(t)});class de extends f{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ye.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:a}=this._processInputParams(e),r=this._def.effect||null,n={addIssue:e=>{(0,d.addIssueToContext)(a,e),e.fatal?t.abort():t.dirty()},get path(){return a.path}};if(n.addIssue=n.addIssue.bind(n),"preprocess"===r.type){const e=r.transform(a.data,n);if(a.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return d.INVALID;const r=await this._def.schema._parseAsync({data:e,path:a.path,parent:a});return"aborted"===r.status?d.INVALID:"dirty"===r.status||"dirty"===t.value?(0,d.DIRTY)(r.value):r}));{if("aborted"===t.value)return d.INVALID;const r=this._def.schema._parseSync({data:e,path:a.path,parent:a});return"aborted"===r.status?d.INVALID:"dirty"===r.status||"dirty"===t.value?(0,d.DIRTY)(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,n);if(a.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===a.common.async){const r=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===r.status?d.INVALID:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((a=>"aborted"===a.status?d.INVALID:("dirty"===a.status&&t.dirty(),e(a.value).then((()=>({status:t.value,value:a.value}))))))}if("transform"===r.type){if(!1===a.common.async){const e=this._def.schema._parseSync({data:a.data,path:a.path,parent:a});if(!(0,d.isValid)(e))return e;const i=r.transform(e.value,n);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:a.data,path:a.path,parent:a}).then((e=>(0,d.isValid)(e)?Promise.resolve(r.transform(e.value,n)).then((e=>({status:t.value,value:e}))):e))}p.util.assertNever(r)}}t.ZodEffects=de,t.ZodTransformer=de,de.create=(e,t,a)=>new de({schema:e,typeName:ye.ZodEffects,effect:t,...h(a)}),de.createWithPreprocess=(e,t,a)=>new de({schema:t,effect:{type:"preprocess",transform:e},typeName:ye.ZodEffects,...h(a)});class pe extends f{_parse(e){return this._getType(e)===p.ZodParsedType.undefined?(0,d.OK)(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodOptional=pe,pe.create=(e,t)=>new pe({innerType:e,typeName:ye.ZodOptional,...h(t)});class ue extends f{_parse(e){return this._getType(e)===p.ZodParsedType.null?(0,d.OK)(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}t.ZodNullable=ue,ue.create=(e,t)=>new ue({innerType:e,typeName:ye.ZodNullable,...h(t)});class ce extends f{_parse(e){const{ctx:t}=this._processInputParams(e);let a=t.data;return t.parsedType===p.ZodParsedType.undefined&&(a=this._def.defaultValue()),this._def.innerType._parse({data:a,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}t.ZodDefault=ce,ce.create=(e,t)=>new ce({innerType:e,typeName:ye.ZodDefault,defaultValue:"function"==typeof t.default?t.default:()=>t.default,...h(t)});class me extends f{_parse(e){const{ctx:t}=this._processInputParams(e),a={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:a.data,path:a.path,parent:{...a}});return(0,d.isAsync)(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new u.ZodError(a.common.issues)},input:a.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new u.ZodError(a.common.issues)},input:a.data})}}removeCatch(){return this._def.innerType}}t.ZodCatch=me,me.create=(e,t)=>new me({innerType:e,typeName:ye.ZodCatch,catchValue:"function"==typeof t.catch?t.catch:()=>t.catch,...h(t)});class he extends f{_parse(e){if(this._getType(e)!==p.ZodParsedType.nan){const t=this._getOrReturnCtx(e);return(0,d.addIssueToContext)(t,{code:u.ZodIssueCode.invalid_type,expected:p.ZodParsedType.nan,received:t.parsedType}),d.INVALID}return{status:"valid",value:e.data}}}t.ZodNaN=he,he.create=e=>new he({typeName:ye.ZodNaN,...h(e)}),t.BRAND=Symbol("zod_brand");class fe extends f{_parse(e){const{ctx:t}=this._processInputParams(e),a=t.data;return this._def.type._parse({data:a,path:t.path,parent:t})}unwrap(){return this._def.type}}t.ZodBranded=fe;class be extends f{_parse(e){const{status:t,ctx:a}=this._processInputParams(e);if(a.common.async)return(async()=>{const e=await this._def.in._parseAsync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),(0,d.DIRTY)(e.value)):this._def.out._parseAsync({data:e.value,path:a.path,parent:a})})();{const e=this._def.in._parseSync({data:a.data,path:a.path,parent:a});return"aborted"===e.status?d.INVALID:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:a.path,parent:a})}}static create(e,t){return new be({in:e,out:t,typeName:ye.ZodPipeline})}}t.ZodPipeline=be;class ge extends f{_parse(e){const t=this._def.innerType._parse(e),a=e=>((0,d.isValid)(e)&&(e.value=Object.freeze(e.value)),e);return(0,d.isAsync)(t)?t.then((e=>a(e))):a(t)}unwrap(){return this._def.innerType}}function ve(e,t={},a){return e?q.create().superRefine(((r,n)=>{var i,s;if(!e(r)){const e="function"==typeof t?t(r):"string"==typeof t?{message:t}:t,o=null===(s=null!==(i=e.fatal)&&void 0!==i?i:a)||void 0===s||s,l="string"==typeof e?{message:e}:e;n.addIssue({code:"custom",...l,fatal:o})}})):q.create()}var ye;t.ZodReadonly=ge,ge.create=(e,t)=>new ge({innerType:e,typeName:ye.ZodReadonly,...h(t)}),t.custom=ve,t.late={object:Z.lazycreate},function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(ye=t.ZodFirstPartyTypeKind||(t.ZodFirstPartyTypeKind={})),t.instanceof=(e,t={message:`Input not instance of ${e.name}`})=>ve((t=>t instanceof e),t);const _e=R.create;t.string=_e;const we=x.create;t.number=we;const Pe=he.create;t.nan=Pe;const Oe=N.create;t.bigint=Oe;const Te=M.create;t.boolean=Te;const Ae=D.create;t.date=Ae;const Se=L.create;t.symbol=Se;const Ce=$.create;t.undefined=Ce;const Ee=F.create;t.null=Ee;const Ie=q.create;t.any=Ie;const ke=V.create;t.unknown=ke;const Re=B.create;t.never=Re;const je=z.create;t.void=je;const xe=U.create;t.array=xe;const Ne=Z.create;t.object=Ne;const Me=Z.strictCreate;t.strictObject=Me;const De=W.create;t.union=De;const Le=G.create;t.discriminatedUnion=Le;const $e=Y.create;t.intersection=$e;const Fe=Q.create;t.tuple=Fe;const qe=X.create;t.record=qe;const Ve=ee.create;t.map=Ve;const Be=te.create;t.set=Be;const ze=ae.create;t.function=ze;const Ue=re.create;t.lazy=Ue;const Ke=ne.create;t.literal=Ke;const Ze=se.create;t.enum=Ze;const We=oe.create;t.nativeEnum=We;const He=le.create;t.promise=He;const Ge=de.create;t.effect=Ge,t.transformer=Ge;const Je=pe.create;t.optional=Je;const Ye=ue.create;t.nullable=Ye;const Qe=de.createWithPreprocess;t.preprocess=Qe;const Xe=be.create;t.pipeline=Xe,t.ostring=()=>_e().optional(),t.onumber=()=>we().optional(),t.oboolean=()=>Te().optional(),t.coerce={string:e=>R.create({...e,coerce:!0}),number:e=>x.create({...e,coerce:!0}),boolean:e=>M.create({...e,coerce:!0}),bigint:e=>N.create({...e,coerce:!0}),date:e=>D.create({...e,coerce:!0})},t.NEVER=d.INVALID},76982:e=>{"use strict";e.exports=require("crypto")},79896:e=>{"use strict";e.exports=require("fs")},58611:e=>{"use strict";e.exports=require("http")},65692:e=>{"use strict";e.exports=require("https")},77598:e=>{"use strict";e.exports=require("node:crypto")},73024:e=>{"use strict";e.exports=require("node:fs")},57075:e=>{"use strict";e.exports=require("node:stream")},16928:e=>{"use strict";e.exports=require("path")},24876:e=>{"use strict";e.exports=require("punycode")},2203:e=>{"use strict";e.exports=require("stream")},87016:e=>{"use strict";e.exports=require("url")},39023:e=>{"use strict";e.exports=require("util")},28167:e=>{"use strict";e.exports=require("worker_threads")},98378:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Ollama=void 0;const r=a(79582),n=a(20314),i=a(9209);class s extends n.LLM{static lc_name(){return"Ollama"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"llama2"}),Object.defineProperty(this,"baseUrl",{enumerable:!0,configurable:!0,writable:!0,value:"http://localhost:11434"}),Object.defineProperty(this,"keepAlive",{enumerable:!0,configurable:!0,writable:!0,value:"5m"}),Object.defineProperty(this,"embeddingOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"f16KV",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitsAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lowVram",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mainGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostat",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatEta",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"mirostatTau",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numBatch",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numCtx",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGpu",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numGqa",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numKeep",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numPredict",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"numThread",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"penalizeNewline",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatLastN",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"repeatPenalty",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ropeFrequencyBase",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ropeFrequencyScale",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tfsZ",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"typicalP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMLock",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"useMMap",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"vocabOnly",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"format",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.model=e.model??this.model,this.baseUrl=e.baseUrl?.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl??this.baseUrl,this.keepAlive=e.keepAlive??this.keepAlive,this.headers=e.headers??this.headers,this.embeddingOnly=e.embeddingOnly,this.f16KV=e.f16KV,this.frequencyPenalty=e.frequencyPenalty,this.logitsAll=e.logitsAll,this.lowVram=e.lowVram,this.mainGpu=e.mainGpu,this.mirostat=e.mirostat,this.mirostatEta=e.mirostatEta,this.mirostatTau=e.mirostatTau,this.numBatch=e.numBatch,this.numCtx=e.numCtx,this.numGpu=e.numGpu,this.numGqa=e.numGqa,this.numKeep=e.numKeep,this.numPredict=e.numPredict,this.numThread=e.numThread,this.penalizeNewline=e.penalizeNewline,this.presencePenalty=e.presencePenalty,this.repeatLastN=e.repeatLastN,this.repeatPenalty=e.repeatPenalty,this.ropeFrequencyBase=e.ropeFrequencyBase,this.ropeFrequencyScale=e.ropeFrequencyScale,this.temperature=e.temperature,this.stop=e.stop,this.tfsZ=e.tfsZ,this.topK=e.topK,this.topP=e.topP,this.typicalP=e.typicalP,this.useMLock=e.useMLock,this.useMMap=e.useMMap,this.vocabOnly=e.vocabOnly,this.format=e.format}_llmType(){return"ollama"}invocationParams(e){return{model:this.model,format:this.format,keep_alive:this.keepAlive,images:e?.images,options:{embedding_only:this.embeddingOnly,f16_kv:this.f16KV,frequency_penalty:this.frequencyPenalty,logits_all:this.logitsAll,low_vram:this.lowVram,main_gpu:this.mainGpu,mirostat:this.mirostat,mirostat_eta:this.mirostatEta,mirostat_tau:this.mirostatTau,num_batch:this.numBatch,num_ctx:this.numCtx,num_gpu:this.numGpu,num_gqa:this.numGqa,num_keep:this.numKeep,num_predict:this.numPredict,num_thread:this.numThread,penalize_newline:this.penalizeNewline,presence_penalty:this.presencePenalty,repeat_last_n:this.repeatLastN,repeat_penalty:this.repeatPenalty,rope_frequency_base:this.ropeFrequencyBase,rope_frequency_scale:this.ropeFrequencyScale,temperature:this.temperature,stop:e?.stop??this.stop,tfs_z:this.tfsZ,top_k:this.topK,top_p:this.topP,typical_p:this.typicalP,use_mlock:this.useMLock,use_mmap:this.useMMap,vocab_only:this.vocabOnly}}}async*_streamResponseChunks(e,t,a){const n=await this.caller.call((async()=>(0,i.createOllamaGenerateStream)(this.baseUrl,{...this.invocationParams(t),prompt:e},{...t,headers:this.headers})));for await(const e of n)e.done?yield new r.GenerationChunk({text:"",generationInfo:{model:e.model,total_duration:e.total_duration,load_duration:e.load_duration,prompt_eval_count:e.prompt_eval_count,prompt_eval_duration:e.prompt_eval_duration,eval_count:e.eval_count,eval_duration:e.eval_duration}}):(yield new r.GenerationChunk({text:e.response,generationInfo:{...e,response:void 0}}),await(a?.handleLLMNewToken(e.response??"")))}async _call(e,t,a){const r=[];for await(const n of this._streamResponseChunks(e,t,a))r.push(n.text);return r.join("")}}t.Ollama=s},9209:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOllamaChatStream=t.createOllamaGenerateStream=void 0;const r=a(47498);async function*n(e,t,a){let n=e;n.startsWith("http://localhost:")&&(n=n.replace("http://localhost:","http://127.0.0.1:"));const i=await fetch(n,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json",...a.headers},signal:a.signal});if(!i.ok){let e;const t=await i.text();try{const a=JSON.parse(t);e=new Error(`Ollama call failed with status code ${i.status}: ${a.error}`)}catch(a){e=new Error(`Ollama call failed with status code ${i.status}: ${t}`)}throw e.response=i,e}if(!i.body)throw new Error("Could not begin Ollama stream. Please check the given URL and try again.");const s=r.IterableReadableStream.fromReadableStream(i.body),o=new TextDecoder;let l="";for await(const e of s){const t=(l+o.decode(e)).split("\n");l=t.pop()||"";for(const e of t)try{yield JSON.parse(e)}catch(t){console.warn(`Received a non-JSON parseable chunk: ${e}`)}}}t.createOllamaGenerateStream=async function*(e,t,a){yield*n(`${e}/api/generate`,t,a)},t.createOllamaChatStream=async function*(e,t,a){yield*n(`${e}/api/chat`,t,a)}},22911:(e,t,a)=>{e.exports=a(98378)},97524:(e,t,a)=>{e.exports=a(31413)},40167:(e,t,a)=>{e.exports=a(95324)},26110:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryCache=t.BaseCache=t.serializeGeneration=t.deserializeStoredGeneration=t.getCacheKey=void 0;const r=a(681),n=a(68081);t.getCacheKey=(...e)=>(0,r.insecureHash)(e.join("_")),t.deserializeStoredGeneration=function(e){return void 0!==e.message?{text:e.text,message:(0,n.mapStoredMessageToChatMessage)(e.message)}:{text:e.text}},t.serializeGeneration=function(e){const t={text:e.text};return void 0!==e.message&&(t.message=e.message.toDict()),t};class i{}t.BaseCache=i;const s=new Map;class o extends i{constructor(e){super(),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cache=e??new Map}lookup(e,a){return Promise.resolve(this.cache.get((0,t.getCacheKey)(e,a))??null)}async update(e,a,r){this.cache.set((0,t.getCacheKey)(e,a),r)}static global(){return new o(s)}}t.InMemoryCache=o},12031:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCallbackHandler=void 0;const s=i(a(49060)),o=a(367),l=a(60418);class d{}class p extends d{get lc_namespace(){return["langchain_core","callbacks",this.name]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,(0,o.get_lc_unique_name)(this.constructor)]}constructor(e){super(),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"ignoreLLM",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreChain",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreAgent",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"ignoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"raiseError",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"awaitHandlers",{enumerable:!0,configurable:!0,writable:!0,value:"true"!==(0,l.getEnvironmentVariable)("LANGCHAIN_CALLBACKS_BACKGROUND")}),this.lc_kwargs=e||{},e&&(this.ignoreLLM=e.ignoreLLM??this.ignoreLLM,this.ignoreChain=e.ignoreChain??this.ignoreChain,this.ignoreAgent=e.ignoreAgent??this.ignoreAgent,this.ignoreRetriever=e.ignoreRetriever??this.ignoreRetriever,this.raiseError=e.raiseError??this.raiseError,this.awaitHandlers=this.raiseError||(e._awaitHandler??this.awaitHandlers))}copy(){return new this.constructor(this)}toJSON(){return o.Serializable.prototype.toJSON.call(this)}toJSONNotImplemented(){return o.Serializable.prototype.toJSONNotImplemented.call(this)}static fromMethods(e){return new class extends p{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:s.v4()}),Object.assign(this,e)}}}}t.BaseCallbackHandler=p},31413:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.traceAsGroup=t.TraceGroup=t.ensureHandler=t.CallbackManager=t.CallbackManagerForToolRun=t.CallbackManagerForChainRun=t.CallbackManagerForLLMRun=t.CallbackManagerForRetrieverRun=t.BaseRunManager=t.BaseCallbackManager=t.parseCallbackConfigArg=void 0;const r=a(49060),n=a(12031),i=a(88813),s=a(68081),o=a(60418),l=a(19979),d=a(41674),p=a(12311);"true"===(0,o.getEnvironmentVariable)("LANGCHAIN_TRACING_V2")&&"true"!==(0,o.getEnvironmentVariable)("LANGCHAIN_CALLBACKS_BACKGROUND")&&["[WARN]: You have enabled LangSmith tracing without backgrounding callbacks.","[WARN]: If you are not using a serverless environment where you must wait for tracing calls to finish,",'[WARN]: we suggest setting "process.env.LANGCHAIN_CALLBACKS_BACKGROUND=true" to avoid additional latency.'].join("\n"),t.parseCallbackConfigArg=function(e){return e?Array.isArray(e)||"name"in e?{callbacks:e}:e:{}};class u{setHandler(e){return this.setHandlers([e])}}t.BaseCallbackManager=u;class c{constructor(e,t,a,r,n,i,s,o){Object.defineProperty(this,"runId",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:s}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:o})}get parentRunId(){return this._parentRunId}async handleText(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{try{await(t.handleText?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleText: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}}t.BaseRunManager=c;class m extends c{getChild(e){const t=new g(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleRetrieverEnd(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleRetriever`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleRetrieverError(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreRetriever)try{await(t.handleRetrieverError?.(e,this.runId,this._parentRunId,this.tags))}catch(a){if(console.error(`Error in handler ${t.constructor.name}, handleRetrieverError: ${a}`),t.raiseError)throw e}}),t.awaitHandlers))))}}t.CallbackManagerForRetrieverRun=m;class h extends c{async handleLLMNewToken(e,t,a,r,n,i){await Promise.all(this.handlers.map((a=>(0,d.consumeCallback)((async()=>{if(!a.ignoreLLM)try{await(a.handleLLMNewToken?.(e,t??{prompt:0,completion:0},this.runId,this._parentRunId,this.tags,i))}catch(e){if(console.error(`Error in handler ${a.constructor.name}, handleLLMNewToken: ${e}`),a.raiseError)throw e}}),a.awaitHandlers))))}async handleLLMError(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleLLMError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleLLMEnd(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreLLM)try{await(t.handleLLMEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleLLMEnd: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}}t.CallbackManagerForLLMRun=h;class f extends c{getChild(e){const t=new g(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleChainError(e,t,a,r,n){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreChain)try{await(t.handleChainError?.(e,this.runId,this._parentRunId,this.tags,n))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleChainError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleChainEnd(e,t,a,r,n){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreChain)try{await(t.handleChainEnd?.(e,this.runId,this._parentRunId,this.tags,n))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleChainEnd: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleAgentAction(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentAction?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleAgentAction: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleAgentEnd(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreAgent)try{await(t.handleAgentEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleAgentEnd: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}}t.CallbackManagerForChainRun=f;class b extends c{getChild(e){const t=new g(this.runId);return t.setHandlers(this.inheritableHandlers),t.addTags(this.inheritableTags),t.addMetadata(this.inheritableMetadata),e&&t.addTags([e],!1),t}async handleToolError(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreAgent)try{await(t.handleToolError?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleToolError: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}async handleToolEnd(e){await Promise.all(this.handlers.map((t=>(0,d.consumeCallback)((async()=>{if(!t.ignoreAgent)try{await(t.handleToolEnd?.(e,this.runId,this._parentRunId,this.tags))}catch(e){if(console.error(`Error in handler ${t.constructor.name}, handleToolEnd: ${e}`),t.raiseError)throw e}}),t.awaitHandlers))))}}t.CallbackManagerForToolRun=b;class g extends u{constructor(e,t){super(),Object.defineProperty(this,"handlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableHandlers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"inheritableTags",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inheritableMetadata",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"callback_manager"}),Object.defineProperty(this,"_parentRunId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.handlers=t?.handlers??this.handlers,this.inheritableHandlers=t?.inheritableHandlers??this.inheritableHandlers,this.tags=t?.tags??this.tags,this.inheritableTags=t?.inheritableTags??this.inheritableTags,this.metadata=t?.metadata??this.metadata,this.inheritableMetadata=t?.inheritableMetadata??this.inheritableMetadata,this._parentRunId=e}getParentRunId(){return this._parentRunId}async handleLLMStart(e,t,a=void 0,n=void 0,i=void 0,s=void 0,o=void 0,l=void 0){return Promise.all(t.map((async(t,n)=>{const s=0===n&&a?a:(0,r.v4)();return await Promise.all(this.handlers.map((a=>(0,d.consumeCallback)((async()=>{if(!a.ignoreLLM)try{await(a.handleLLMStart?.(e,[t],s,this._parentRunId,i,this.tags,this.metadata,l))}catch(e){if(console.error(`Error in handler ${a.constructor.name}, handleLLMStart: ${e}`),a.raiseError)throw e}}),a.awaitHandlers)))),new h(s,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChatModelStart(e,t,a=void 0,n=void 0,i=void 0,o=void 0,l=void 0,p=void 0){return Promise.all(t.map((async(t,n)=>{const o=0===n&&a?a:(0,r.v4)();return await Promise.all(this.handlers.map((a=>(0,d.consumeCallback)((async()=>{if(!a.ignoreLLM)try{if(a.handleChatModelStart)await(a.handleChatModelStart?.(e,[t],o,this._parentRunId,i,this.tags,this.metadata,p));else if(a.handleLLMStart){const r=(0,s.getBufferString)(t);await(a.handleLLMStart?.(e,[r],o,this._parentRunId,i,this.tags,this.metadata,p))}}catch(e){if(console.error(`Error in handler ${a.constructor.name}, handleLLMStart: ${e}`),a.raiseError)throw e}}),a.awaitHandlers)))),new h(o,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)})))}async handleChainStart(e,t,a=(0,r.v4)(),n=void 0,i=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map((r=>(0,d.consumeCallback)((async()=>{if(!r.ignoreChain)try{await(r.handleChainStart?.(e,t,a,this._parentRunId,this.tags,this.metadata,n,o))}catch(e){if(console.error(`Error in handler ${r.constructor.name}, handleChainStart: ${e}`),r.raiseError)throw e}}),r.awaitHandlers)))),new f(a,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleToolStart(e,t,a=(0,r.v4)(),n=void 0,i=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map((r=>(0,d.consumeCallback)((async()=>{if(!r.ignoreAgent)try{await(r.handleToolStart?.(e,t,a,this._parentRunId,this.tags,this.metadata,o))}catch(e){if(console.error(`Error in handler ${r.constructor.name}, handleToolStart: ${e}`),r.raiseError)throw e}}),r.awaitHandlers)))),new b(a,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}async handleRetrieverStart(e,t,a=(0,r.v4)(),n=void 0,i=void 0,s=void 0,o=void 0){return await Promise.all(this.handlers.map((r=>(0,d.consumeCallback)((async()=>{if(!r.ignoreRetriever)try{await(r.handleRetrieverStart?.(e,t,a,this._parentRunId,this.tags,this.metadata,o))}catch(e){if(console.error(`Error in handler ${r.constructor.name}, handleRetrieverStart: ${e}`),r.raiseError)throw e}}),r.awaitHandlers)))),new m(a,this.handlers,this.inheritableHandlers,this.tags,this.inheritableTags,this.metadata,this.inheritableMetadata,this._parentRunId)}addHandler(e,t=!0){this.handlers.push(e),t&&this.inheritableHandlers.push(e)}removeHandler(e){this.handlers=this.handlers.filter((t=>t!==e)),this.inheritableHandlers=this.inheritableHandlers.filter((t=>t!==e))}setHandlers(e,t=!0){this.handlers=[],this.inheritableHandlers=[];for(const a of e)this.addHandler(a,t)}addTags(e,t=!0){this.removeTags(e),this.tags.push(...e),t&&this.inheritableTags.push(...e)}removeTags(e){this.tags=this.tags.filter((t=>!e.includes(t))),this.inheritableTags=this.inheritableTags.filter((t=>!e.includes(t)))}addMetadata(e,t=!0){this.metadata={...this.metadata,...e},t&&(this.inheritableMetadata={...this.inheritableMetadata,...e})}removeMetadata(e){for(const t of Object.keys(e))delete this.metadata[t],delete this.inheritableMetadata[t]}copy(e=[],t=!0){const a=new g(this._parentRunId);for(const e of this.handlers){const t=this.inheritableHandlers.includes(e);a.addHandler(e,t)}for(const e of this.tags){const t=this.inheritableTags.includes(e);a.addTags([e],t)}for(const e of Object.keys(this.metadata)){const t=Object.keys(this.inheritableMetadata).includes(e);a.addMetadata({[e]:this.metadata[e]},t)}for(const r of e)a.handlers.filter((e=>"console_callback_handler"===e.name)).some((e=>e.name===r.name))||a.addHandler(r,t);return a}static fromHandlers(e){class t extends n.BaseCallbackHandler{constructor(){super(),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:(0,r.v4)()}),Object.assign(this,e)}}const a=new this;return a.addHandler(new t),a}static async configure(e,t,a,r,n,i,s){return this._configureSync(e,t,a,r,n,i,s)}static _configureSync(e,t,a,r,n,s,d){let u;(e||t)&&(Array.isArray(e)||!e?(u=new g,u.setHandlers(e?.map(v)??[],!0)):u=e,u=u.copy(Array.isArray(t)?t.map(v):t?.handlers,!1));const c="true"===(0,o.getEnvironmentVariable)("LANGCHAIN_VERBOSE")||d?.verbose,m=(0,p.isTracingEnabled)(),h=m||((0,o.getEnvironmentVariable)("LANGCHAIN_TRACING")??!1);if(c||h){if(u||(u=new g),c&&!u.handlers.some((e=>e.name===i.ConsoleCallbackHandler.prototype.name))){const e=new i.ConsoleCallbackHandler;u.addHandler(e,!0)}if(h&&!u.handlers.some((e=>"langchain_tracer"===e.name))&&m){const e=new l.LangChainTracer;u.addHandler(e,!0),u._parentRunId=e.getTraceableRunTree()?.id??u._parentRunId}}return(a||r)&&u&&(u.addTags(a??[]),u.addTags(r??[],!1)),(n||s)&&u&&(u.addMetadata(n??{}),u.addMetadata(s??{},!1)),u}}function v(e){return"name"in e?e:n.BaseCallbackHandler.fromMethods(e)}t.CallbackManager=g,t.ensureHandler=v;class y{constructor(e,t){Object.defineProperty(this,"groupName",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"runManager",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}async getTraceGroupCallbackManager(e,t,a){const r=new l.LangChainTracer(a),n=await g.configure([r]),i=await(n?.handleChainStart({lc:1,type:"not_implemented",id:["langchain","callbacks","groups",e]},t??{}));if(!i)throw new Error("Failed to create run group callback manager.");return i}async start(e){return this.runManager||(this.runManager=await this.getTraceGroupCallbackManager(this.groupName,e,this.options)),this.runManager.getChild()}async error(e){this.runManager&&(await this.runManager.handleChainError(e),this.runManager=void 0)}async end(e){this.runManager&&(await this.runManager.handleChainEnd(e??{}),this.runManager=void 0)}}t.TraceGroup=y,t.traceAsGroup=async function(e,t,...a){const r=new y(e.name,e),n=await r.start({...a});try{const e=await t(n,...a);return await r.end((i=e,s="output",i&&!Array.isArray(i)&&"object"==typeof i?i:{[s]:i})),e}catch(e){throw await r.error(e),e}var i,s}},41674:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.awaitAllCallbacks=t.consumeCallback=void 0;const n=r(a(73290));let i;t.consumeCallback=async function(e,t){!0===t?await e():(void 0===i&&(i=new("default"in n.default?n.default.default:n.default)({autoStart:!0,concurrency:1})),i.add(e))},t.awaitAllCallbacks=function(){return void 0!==i?i.onIdle():Promise.resolve()}},95324:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryChatMessageHistory=t.BaseListChatMessageHistory=t.BaseChatMessageHistory=void 0;const r=a(367),n=a(14190);class i extends r.Serializable{async addMessages(e){for(const t of e)await this.addMessage(t)}}t.BaseChatMessageHistory=i;class s extends r.Serializable{addUserMessage(e){return this.addMessage(new n.HumanMessage(e))}addAIChatMessage(e){return this.addMessage(new n.AIMessage(e))}addAIMessage(e){return this.addMessage(new n.AIMessage(e))}async addMessages(e){for(const t of e)await this.addMessage(t)}clear(){throw new Error("Not implemented.")}}t.BaseListChatMessageHistory=s,t.InMemoryChatMessageHistory=class extends s{constructor(e){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","stores","message","in_memory"]}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.messages=e??[]}async getMessages(){return this.messages}async addMessage(e){this.messages.push(e)}async clear(){this.messages=[]}}},78137:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Document=void 0,t.Document=class{constructor(e){Object.defineProperty(this,"pageContent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pageContent=void 0!==e.pageContent?e.pageContent.toString():"",this.metadata=e.metadata??{},this.id=e.id}}},83486:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(78137),t),n(a(63682),t)},63682:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MappingDocumentTransformer=t.BaseDocumentTransformer=void 0;const r=a(10969);class n extends r.Runnable{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","documents","transformers"]})}invoke(e,t){return this.transformDocuments(e)}}t.BaseDocumentTransformer=n,t.MappingDocumentTransformer=class extends n{async transformDocuments(e){const t=[];for(const a of e){const e=await this._transformDocument(a);t.push(e)}return t}}},75497:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=a(61583);t.Embeddings=class{constructor(e){Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.caller=new r.AsyncCaller(e??{})}}},65004:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseExampleSelector=void 0;const r=a(367);class n extends r.Serializable{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","example_selectors","base"]})}}t.BaseExampleSelector=n},39781:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isChatModel=t.isLLM=t.ConditionalPromptSelector=t.BasePromptSelector=void 0;class a{async getPromptAsync(e,t){return this.getPrompt(e).partial(t?.partialVariables??{})}}t.BasePromptSelector=a,t.ConditionalPromptSelector=class extends a{constructor(e,t=[]){super(),Object.defineProperty(this,"defaultPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"conditionals",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.defaultPrompt=e,this.conditionals=t}getPrompt(e){for(const[t,a]of this.conditionals)if(t(e))return a;return this.defaultPrompt}},t.isLLM=function(e){return"base_llm"===e._modelType()},t.isChatModel=function(e){return"base_chat_model"===e._modelType()}},70349:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(65004),t),n(a(39781),t),n(a(61691),t),n(a(73615),t)},61691:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LengthBasedExampleSelector=void 0;const r=a(65004);function n(e){return e.split(/\n| /).length}class i extends r.BaseExampleSelector{constructor(e){super(e),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getTextLength",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,writable:!0,value:2048}),Object.defineProperty(this,"exampleTextLengths",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.examplePrompt=e.examplePrompt,this.maxLength=e.maxLength??2048,this.getTextLength=e.getTextLength??n}async addExample(e){this.examples.push(e);const t=await this.examplePrompt.format(e);this.exampleTextLengths.push(this.getTextLength(t))}async calculateExampleTextLengths(e,t){if(e.length>0)return e;const{examples:a,examplePrompt:r}=t;return(await Promise.all(a.map((e=>r.format(e))))).map((e=>this.getTextLength(e)))}async selectExamples(e){const t=Object.values(e).join(" ");let a=this.maxLength-this.getTextLength(t),r=0;const n=[];for(;a>0&&r<this.examples.length;){const e=a-this.exampleTextLengths[r];if(e<0)break;n.push(this.examples[r]),a=e,r+=1}return n}static async fromExamples(e,t){const a=new i(t);return await Promise.all(e.map((e=>a.addExample(e)))),a}}t.LengthBasedExampleSelector=i},73615:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticSimilarityExampleSelector=void 0;const r=a(78137),n=a(65004);function i(e){return Object.keys(e).sort().map((t=>e[t]))}class s extends n.BaseExampleSelector{constructor(e){if(super(e),Object.defineProperty(this,"vectorStoreRetriever",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleKeys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKeys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.exampleKeys=e.exampleKeys,this.inputKeys=e.inputKeys,void 0!==e.vectorStore)this.vectorStoreRetriever=e.vectorStore.asRetriever({k:e.k??4,filter:e.filter});else{if(!e.vectorStoreRetriever)throw new Error('You must specify one of "vectorStore" and "vectorStoreRetriever".');this.vectorStoreRetriever=e.vectorStoreRetriever}}async addExample(e){const t=i((this.inputKeys??Object.keys(e)).reduce(((t,a)=>({...t,[a]:e[a]})),{})).join(" ");await this.vectorStoreRetriever.addDocuments([new r.Document({pageContent:t,metadata:e})])}async selectExamples(e){const t=i((this.inputKeys??Object.keys(e)).reduce(((t,a)=>({...t,[a]:e[a]})),{})).join(" "),a=(await this.vectorStoreRetriever.invoke(t)).map((e=>e.metadata));return this.exampleKeys?a.map((e=>this.exampleKeys.reduce(((t,a)=>({...t,[a]:e[a]})),{}))):a}static async fromExamples(e,t,a,r={}){const n=r.inputKeys??null,o=e.map((e=>i(n?n.reduce(((t,a)=>({...t,[a]:e[a]})),{}):e).join(" "))),l=await a.fromTexts(o,e,t,r);return new s({vectorStore:l,k:r.k??4,exampleKeys:r.exampleKeys,inputKeys:r.inputKeys})}}t.SemanticSimilarityExampleSelector=s},37738:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseLanguageModel=t.BaseLangChain=t.calculateMaxTokens=t.isOpenAITool=t.getModelContextSize=t.getEmbeddingContextSize=t.getModelNameForTiktoken=void 0;const r=a(26110),n=a(5118),i=a(68081),s=a(61583),o=a(10454),l=a(10969);t.getModelNameForTiktoken=e=>e.startsWith("gpt-3.5-turbo-16k")?"gpt-3.5-turbo-16k":e.startsWith("gpt-3.5-turbo-")?"gpt-3.5-turbo":e.startsWith("gpt-4-32k")?"gpt-4-32k":e.startsWith("gpt-4-")?"gpt-4":e.startsWith("gpt-4o")?"gpt-4o":e,t.getEmbeddingContextSize=e=>"text-embedding-ada-002"===e?8191:2046,t.getModelContextSize=e=>{switch((0,t.getModelNameForTiktoken)(e)){case"gpt-3.5-turbo-16k":return 16384;case"gpt-3.5-turbo":return 4096;case"gpt-4-32k":return 32768;case"gpt-4":return 8192;case"text-davinci-003":default:return 4097;case"text-curie-001":case"text-babbage-001":case"text-ada-001":case"code-cushman-001":return 2048;case"code-davinci-002":return 8e3}},t.isOpenAITool=function(e){return!("object"!=typeof e||!e||!("type"in e&&"function"===e.type&&"function"in e&&"object"==typeof e.function&&e.function&&"name"in e.function&&"parameters"in e.function))},t.calculateMaxTokens=async({prompt:e,modelName:a})=>{let r;try{r=(await(0,o.encodingForModel)((0,t.getModelNameForTiktoken)(a))).encode(e).length}catch(t){console.warn("Failed to calculate number of tokens, falling back to approximate count"),r=Math.ceil(e.length/4)}return(0,t.getModelContextSize)(a)-r};class d extends l.Runnable{get lc_attributes(){return{callbacks:void 0,verbose:void 0}}constructor(e){super(e),Object.defineProperty(this,"verbose",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"callbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.verbose=e.verbose??!1,this.callbacks=e.callbacks,this.tags=e.tags??[],this.metadata=e.metadata??{}}}t.BaseLangChain=d,t.BaseLanguageModel=class extends d{get callKeys(){return["stop","timeout","signal","tags","metadata","callbacks"]}constructor({callbacks:e,callbackManager:t,...a}){super({callbacks:e??t,...a}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cache",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_encoding",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"object"==typeof a.cache?this.cache=a.cache:a.cache?this.cache=r.InMemoryCache.global():this.cache=void 0,this.caller=new s.AsyncCaller(a??{})}async getNumTokens(e){if("string"!=typeof e)return 0;let a=Math.ceil(e.length/4);if(!this._encoding)try{this._encoding=await(0,o.encodingForModel)("modelName"in this?(0,t.getModelNameForTiktoken)(this.modelName):"gpt2")}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}if(this._encoding)try{a=this._encoding.encode(e).length}catch(e){console.warn("Failed to calculate number of tokens, falling back to approximate count",e)}return a}static _convertInputToPromptValue(e){return"string"==typeof e?new n.StringPromptValue(e):Array.isArray(e)?new n.ChatPromptValue(e.map(i.coerceMessageLikeToMessage)):e}_identifyingParams(){return{}}_getSerializedCacheKeyParametersForCall({config:e,...t}){const a={...this._identifyingParams(),...t,_type:this._llmType(),_model:this._modelType()};return Object.entries(a).filter((([e,t])=>void 0!==t)).map((([e,t])=>`${e}:${JSON.stringify(t)}`)).sort().join(",")}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}static async deserialize(e){throw new Error("Use .toJSON() instead")}}},83296:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleChatModel=t.BaseChatModel=t.createChatMessageChunkEncoderStream=void 0;const r=a(39340),n=a(14190),i=a(50383),s=a(37738),o=a(31413),l=a(10969),d=a(2821),p=a(403),u=a(28033),c=a(36516),m=a(50681);t.createChatMessageChunkEncoderStream=function(){const e=new TextEncoder;return new TransformStream({transform(t,a){a.enqueue(e.encode("string"==typeof t.content?t.content:JSON.stringify(t.content)))}})};class h extends s.BaseLanguageModel{constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","chat_models",this._llmType()]})}_separateRunnableConfigFromCallOptions(e){const[t,a]=super._separateRunnableConfigFromCallOptions(e);return a?.timeout&&!a.signal&&(a.signal=AbortSignal.timeout(a.timeout)),[t,a]}async invoke(e,t){const a=h._convertInputToPromptValue(e);return(await this.generatePrompt([a],t,t?.callbacks)).generations[0][0].message}async*_streamResponseChunks(e,t,a){throw new Error("Not implemented.")}async*_streamIterator(e,t){if(this._streamResponseChunks===h.prototype._streamResponseChunks)yield this.invoke(e,t);else{const a=h._convertInputToPromptValue(e).toChatMessages(),[r,n]=this._separateRunnableConfigFromCallOptions(t),i={...r.metadata,...this.getLsParams(n)},s=await o.CallbackManager.configure(r.callbacks,this.callbacks,r.tags,this.tags,i,this.metadata,{verbose:this.verbose}),l={options:n,invocation_params:this?.invocationParams(n),batch_size:1},d=await(s?.handleChatModelStart(this.toJSON(),[a],r.runId,void 0,l,void 0,void 0,r.runName));let p;try{for await(const e of this._streamResponseChunks(a,n,d?.[0]))e.message.response_metadata={...e.generationInfo,...e.message.response_metadata},yield e.message,p=p?p.concat(e):e}catch(e){throw await Promise.all((d??[]).map((t=>t?.handleLLMError(e)))),e}await Promise.all((d??[]).map((e=>e?.handleLLMEnd({generations:[[p]]}))))}}getLsParams(e){return{ls_model_type:"chat",ls_stop:e.stop}}async _generateUncached(e,t,a){const r=e.map((e=>e.map(n.coerceMessageLikeToMessage))),s={...a.metadata,...this.getLsParams(t)},l=await o.CallbackManager.configure(a.callbacks,this.callbacks,a.tags,this.tags,s,this.metadata,{verbose:this.verbose}),c={options:t,invocation_params:this?.invocationParams(t),batch_size:1},m=await(l?.handleChatModelStart(this.toJSON(),r,a.runId,void 0,c,void 0,void 0,a.runName)),f=[],b=[];if(m?.[0].handlers.find((e=>(0,d.isStreamEventsHandler)(e)||(0,p.isLogStreamHandler)(e)))&&1===r.length&&this._streamResponseChunks!==h.prototype._streamResponseChunks)try{const e=await this._streamResponseChunks(r[0],t,m?.[0]);let a;for await(const t of e)a=void 0===a?t:(0,u.concat)(a,t);if(void 0===a)throw new Error("Received empty response from chat model call.");f.push([a]),await(m?.[0].handleLLMEnd({generations:f,llmOutput:{}}))}catch(e){throw await(m?.[0].handleLLMError(e)),e}else{const e=await Promise.allSettled(r.map(((e,a)=>this._generate(e,{...t,promptIndex:a},m?.[a]))));await Promise.all(e.map((async(e,t)=>{if("fulfilled"===e.status){const a=e.value;for(const e of a.generations)e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};return 1===a.generations.length&&(a.generations[0].message.response_metadata={...a.llmOutput,...a.generations[0].message.response_metadata}),f[t]=a.generations,b[t]=a.llmOutput,m?.[t]?.handleLLMEnd({generations:[a.generations],llmOutput:a.llmOutput})}return await(m?.[t]?.handleLLMError(e.reason)),Promise.reject(e.reason)})))}const g={generations:f,llmOutput:b.length?this._combineLLMOutput?.(...b):void 0};return Object.defineProperty(g,i.RUN_KEY,{value:m?{runIds:m?.map((e=>e.runId))}:void 0,configurable:!0}),g}async _generateCached({messages:e,cache:t,llmStringKey:a,parsedOptions:r,handledOptions:s}){const l=e.map((e=>e.map(n.coerceMessageLikeToMessage))),d={...s.metadata,...this.getLsParams(r)},p=await o.CallbackManager.configure(s.callbacks,this.callbacks,s.tags,this.tags,d,this.metadata,{verbose:this.verbose}),u={options:r,invocation_params:this?.invocationParams(r),batch_size:1,cached:!0},c=await(p?.handleChatModelStart(this.toJSON(),l,s.runId,void 0,u,void 0,void 0,s.runName)),m=[],f=(await Promise.allSettled(l.map((async(e,r)=>{const n=h._convertInputToPromptValue(e).toString(),i=await t.lookup(n,a);return null==i&&m.push(r),i})))).map(((e,t)=>({result:e,runManager:c?.[t]}))).filter((({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status)),b=[];await Promise.all(f.map((async({result:e,runManager:t},a)=>{if("fulfilled"===e.status){const r=e.value;return b[a]=r,r.length&&await(t?.handleLLMNewToken(r[0].text)),t?.handleLLMEnd({generations:[r]})}return await(t?.handleLLMError(e.reason)),Promise.reject(e.reason)})));const g={generations:b,missingPromptIndices:m};return Object.defineProperty(g,i.RUN_KEY,{value:c?{runIds:c?.map((e=>e.runId))}:void 0,configurable:!0}),g}async generate(e,t,a){let r;r=Array.isArray(t)?{stop:t}:t;const i=e.map((e=>e.map(n.coerceMessageLikeToMessage))),[s,o]=this._separateRunnableConfigFromCallOptions(r);if(s.callbacks=s.callbacks??a,!this.cache)return this._generateUncached(i,o,s);const{cache:l}=this,d=this._getSerializedCacheKeyParametersForCall(o),{generations:p,missingPromptIndices:u}=await this._generateCached({messages:i,cache:l,llmStringKey:d,parsedOptions:o,handledOptions:s});let c={};if(u.length>0){const e=await this._generateUncached(u.map((e=>i[e])),o,s);await Promise.all(e.generations.map((async(e,t)=>{const a=u[t];p[a]=e;const r=h._convertInputToPromptValue(i[a]).toString();return l.update(r,d,e)}))),c=e.llmOutput??{}}return{generations:p,llmOutput:c}}invocationParams(e){return{}}_modelType(){return"base_chat_model"}serialize(){return{...this.invocationParams(),_type:this._llmType(),_model:this._modelType()}}async generatePrompt(e,t,a){const r=e.map((e=>e.toChatMessages()));return this.generate(r,t,a)}async call(e,t,a){return(await this.generate([e.map(n.coerceMessageLikeToMessage)],t,a)).generations[0][0].message}async callPrompt(e,t,a){const r=e.toChatMessages();return this.call(r,t,a)}async predictMessages(e,t,a){return this.call(e,t,a)}async predict(e,t,a){const r=new n.HumanMessage(e),i=await this.call([r],t,a);if("string"!=typeof i.content)throw new Error("Cannot use predict when output is not a string.");return i.content}withStructuredOutput(e,t){if("function"!=typeof this.bindTools)throw new Error('Chat model must implement ".bindTools()" to use withStructuredOutput.');const a=e,n=t?.name,i=a.description??"A function available to call.",s=t?.method,o=t?.includeRaw;if("jsonMode"===s)throw new Error('Base withStructuredOutput implementation only supports "functionCalling" as a method.');let d,p=n??"extract";(0,m.isZodSchema)(a)?d=[{type:"function",function:{name:p,description:i,parameters:(0,r.zodToJsonSchema)(a)}}]:("name"in a&&(p=a.name),d=[{type:"function",function:{name:p,description:i,parameters:a}}]);const u=this.bindTools(d),h=l.RunnableLambda.from((e=>{if(!e.tool_calls||0===e.tool_calls.length)throw new Error("No tool calls found in the response.");const t=e.tool_calls.find((e=>e.name===p));if(!t)throw new Error(`No tool call found with name ${p}.`);return t.args}));if(!o)return u.pipe(h).withConfig({runName:"StructuredOutput"});const f=c.RunnablePassthrough.assign({parsed:(e,t)=>h.invoke(e.raw,t)}),b=c.RunnablePassthrough.assign({parsed:()=>null}),g=f.withFallbacks({fallbacks:[b]});return l.RunnableSequence.from([{raw:u},g]).withConfig({runName:"StructuredOutputRunnable"})}}t.BaseChatModel=h,t.SimpleChatModel=class extends h{async _generate(e,t,a){const r=await this._call(e,t,a),i=new n.AIMessage(r);if("string"!=typeof i.content)throw new Error("Cannot generate with a simple chat model when output is not a string.");return{generations:[{text:i.content,message:i}]}}}},85953:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LLM=t.BaseLLM=void 0;const r=a(14190),n=a(50383),i=a(31413),s=a(37738),o=a(2821),l=a(403),d=a(28033);class p extends s.BaseLanguageModel{constructor({concurrency:e,...t}){super(e?{maxConcurrency:e,...t}:t),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","llms",this._llmType()]})}async invoke(e,t){const a=p._convertInputToPromptValue(e);return(await this.generatePrompt([a],t,t?.callbacks)).generations[0][0].text}async*_streamResponseChunks(e,t,a){throw new Error("Not implemented.")}_separateRunnableConfigFromCallOptions(e){const[t,a]=super._separateRunnableConfigFromCallOptions(e);return a?.timeout&&!a.signal&&(a.signal=AbortSignal.timeout(a.timeout)),[t,a]}async*_streamIterator(e,t){if(this._streamResponseChunks===p.prototype._streamResponseChunks)yield this.invoke(e,t);else{const a=p._convertInputToPromptValue(e),[r,s]=this._separateRunnableConfigFromCallOptions(t),o=await i.CallbackManager.configure(r.callbacks,this.callbacks,r.tags,this.tags,r.metadata,this.metadata,{verbose:this.verbose}),l={options:s,invocation_params:this?.invocationParams(s),batch_size:1},d=await(o?.handleLLMStart(this.toJSON(),[a.toString()],r.runId,void 0,l,void 0,void 0,r.runName));let u=new n.GenerationChunk({text:""});try{for await(const e of this._streamResponseChunks(a.toString(),s,d?.[0]))u=u?u.concat(e):e,"string"==typeof e.text&&(yield e.text)}catch(e){throw await Promise.all((d??[]).map((t=>t?.handleLLMError(e)))),e}await Promise.all((d??[]).map((e=>e?.handleLLMEnd({generations:[[u]]}))))}}async generatePrompt(e,t,a){const r=e.map((e=>e.toString()));return this.generate(r,t,a)}invocationParams(e){return{}}_flattenLLMResult(e){const t=[];for(let a=0;a<e.generations.length;a+=1){const r=e.generations[a];if(0===a)t.push({generations:[r],llmOutput:e.llmOutput});else{const a=e.llmOutput?{...e.llmOutput,tokenUsage:{}}:void 0;t.push({generations:[r],llmOutput:a})}}return t}async _generateUncached(e,t,a){const r=await i.CallbackManager.configure(a.callbacks,this.callbacks,a.tags,this.tags,a.metadata,this.metadata,{verbose:this.verbose}),s={options:t,invocation_params:this?.invocationParams(t),batch_size:e.length},u=await(r?.handleLLMStart(this.toJSON(),e,a.runId,void 0,s,void 0,void 0,a?.runName));let c;if(u?.[0].handlers.find((e=>(0,o.isStreamEventsHandler)(e)||(0,l.isLogStreamHandler)(e)))&&1===e.length&&this._streamResponseChunks!==p.prototype._streamResponseChunks)try{const a=await this._streamResponseChunks(e[0],t,u?.[0]);let r;for await(const e of a)r=void 0===r?e:(0,d.concat)(r,e);if(void 0===r)throw new Error("Received empty response from chat model call.");c={generations:[[r]],llmOutput:{}},await(u?.[0].handleLLMEnd(c))}catch(e){throw await(u?.[0].handleLLMError(e)),e}else{try{c=await this._generate(e,t,u?.[0])}catch(e){throw await Promise.all((u??[]).map((t=>t?.handleLLMError(e)))),e}const a=this._flattenLLMResult(c);await Promise.all((u??[]).map(((e,t)=>e?.handleLLMEnd(a[t]))))}const m=u?.map((e=>e.runId))||void 0;return Object.defineProperty(c,n.RUN_KEY,{value:m?{runIds:m}:void 0,configurable:!0}),c}async _generateCached({prompts:e,cache:t,llmStringKey:a,parsedOptions:r,handledOptions:s,runId:o}){const l=await i.CallbackManager.configure(s.callbacks,this.callbacks,s.tags,this.tags,s.metadata,this.metadata,{verbose:this.verbose}),d={options:r,invocation_params:this?.invocationParams(r),batch_size:e.length,cached:!0},p=await(l?.handleLLMStart(this.toJSON(),e,o,void 0,d,void 0,void 0,s?.runName)),u=[],c=(await Promise.allSettled(e.map((async(e,r)=>{const n=await t.lookup(e,a);return null==n&&u.push(r),n})))).map(((e,t)=>({result:e,runManager:p?.[t]}))).filter((({result:e})=>"fulfilled"===e.status&&null!=e.value||"rejected"===e.status)),m=[];await Promise.all(c.map((async({result:e,runManager:t},a)=>{if("fulfilled"===e.status){const r=e.value;return m[a]=r,r.length&&await(t?.handleLLMNewToken(r[0].text)),t?.handleLLMEnd({generations:[r]})}return await(t?.handleLLMError(e.reason)),Promise.reject(e.reason)})));const h={generations:m,missingPromptIndices:u};return Object.defineProperty(h,n.RUN_KEY,{value:p?{runIds:p?.map((e=>e.runId))}:void 0,configurable:!0}),h}async generate(e,t,a){if(!Array.isArray(e))throw new Error("Argument 'prompts' is expected to be a string[]");let r;r=Array.isArray(t)?{stop:t}:t;const[n,i]=this._separateRunnableConfigFromCallOptions(r);if(n.callbacks=n.callbacks??a,!this.cache)return this._generateUncached(e,i,n);const{cache:s}=this,o=this._getSerializedCacheKeyParametersForCall(i),{generations:l,missingPromptIndices:d}=await this._generateCached({prompts:e,cache:s,llmStringKey:o,parsedOptions:i,handledOptions:n,runId:n.runId});let p={};if(d.length>0){const t=await this._generateUncached(d.map((t=>e[t])),i,n);await Promise.all(t.generations.map((async(t,a)=>{const r=d[a];return l[r]=t,s.update(e[r],o,t)}))),p=t.llmOutput??{}}return{generations:l,llmOutput:p}}async call(e,t,a){const{generations:r}=await this.generate([e],t,a);return r[0][0].text}async predict(e,t,a){return this.call(e,t,a)}async predictMessages(e,t,a){const n=(0,r.getBufferString)(e),i=await this.call(n,t,a);return new r.AIMessage(i)}_identifyingParams(){return{}}serialize(){return{...this._identifyingParams(),_type:this._llmType(),_model:this._modelType()}}_modelType(){return"base_llm"}}t.BaseLLM=p,t.LLM=class extends p{async _generate(e,t,a){return{generations:await Promise.all(e.map(((e,r)=>this._call(e,{...t,promptIndex:r},a).then((e=>[{text:e}])))))}}}},34371:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.mapKeys=t.keyFromJson=t.keyToJson=void 0;const n=r(a(79478)),i=r(a(12729));t.keyToJson=function(e,t){return t?.[e]||(0,n.default)(e)},t.keyFromJson=function(e,t){return t?.[e]||(0,i.default)(e)},t.mapKeys=function(e,t,a){const r={};for(const n in e)Object.hasOwn(e,n)&&(r[t(n,a)]=e[n]);return r}},367:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Serializable=t.get_lc_unique_name=void 0;const r=a(34371);function n(e){return Array.isArray(e)?[...e]:{...e}}function i(e,t){const a=n(e);for(const[e,r]of Object.entries(t)){const[t,...i]=e.split(".").reverse();let s=a;for(const e of i.reverse()){if(void 0===s[e])break;s[e]=n(s[e]),s=s[e]}void 0!==s[t]&&(s[t]={lc:1,type:"secret",id:[r]})}return a}function s(e){const t=Object.getPrototypeOf(e);return"function"!=typeof e.lc_name||"function"==typeof t.lc_name&&e.lc_name()===t.lc_name()?e.name:e.lc_name()}t.get_lc_unique_name=s;class o{static lc_name(){return this.name}get lc_id(){return[...this.lc_namespace,s(this.constructor)]}get lc_secrets(){}get lc_attributes(){}get lc_aliases(){}constructor(e,...t){Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lc_kwargs=e||{}}toJSON(){if(!this.lc_serializable)return this.toJSONNotImplemented();if(this.lc_kwargs instanceof o||"object"!=typeof this.lc_kwargs||Array.isArray(this.lc_kwargs))return this.toJSONNotImplemented();const e={},t={},a=Object.keys(this.lc_kwargs).reduce(((e,t)=>(e[t]=t in this?this[t]:this.lc_kwargs[t],e)),{});for(let r=Object.getPrototypeOf(this);r;r=Object.getPrototypeOf(r))Object.assign(e,Reflect.get(r,"lc_aliases",this)),Object.assign(t,Reflect.get(r,"lc_secrets",this)),Object.assign(a,Reflect.get(r,"lc_attributes",this));return Object.keys(t).forEach((e=>{let t=this,r=a;const[n,...i]=e.split(".").reverse();for(const e of i.reverse()){if(!(e in t)||void 0===t[e])return;e in r&&void 0!==r[e]||("object"==typeof t[e]&&null!=t[e]?r[e]={}:Array.isArray(t[e])&&(r[e]=[])),t=t[e],r=r[e]}n in t&&void 0!==t[n]&&(r[n]=r[n]||t[n])})),{lc:1,type:"constructor",id:this.lc_id,kwargs:(0,r.mapKeys)(Object.keys(t).length?i(a,t):a,r.keyToJson,e)}}toJSONNotImplemented(){return{lc:1,type:"not_implemented",id:this.lc_id}}}t.Serializable=o},61834:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPromptInputKey=t.getOutputValue=t.getInputValue=t.BaseMemory=void 0,t.BaseMemory=class{};const a=(e,t)=>{if(void 0!==t)return e[t];const a=Object.keys(e);return 1===a.length?e[a[0]]:void 0};t.getInputValue=(e,t)=>{const r=a(e,t);if(!r){const t=Object.keys(e);throw new Error(`input values have ${t.length} keys, you must specify an input key or pass only 1 key as input`)}return r},t.getOutputValue=(e,t)=>{const r=a(e,t);if(!r){const t=Object.keys(e);throw new Error(`output values have ${t.length} keys, you must specify an output key or pass only 1 key as output`)}return r},t.getPromptInputKey=function(e,t){const a=Object.keys(e).filter((e=>!t.includes(e)&&"stop"!==e));if(1!==a.length)throw new Error(`One input key expected, but got ${a.length}`);return a[0]}},6796:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AIMessageChunk=t.isAIMessage=t.AIMessage=void 0;const r=a(39803),n=a(15785),i=a(53752);class s extends n.BaseMessage{get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls"}}constructor(e,t){let a;if("string"==typeof e)a={content:e,tool_calls:[],invalid_tool_calls:[],additional_kwargs:t??{}};else{a=e;const t=a.additional_kwargs?.tool_calls,r=a.tool_calls;null!=t&&t.length>0&&(void 0===r||0===r.length)&&console.warn(["New LangChain packages are available that more efficiently handle","tool calling.\n\nPlease upgrade your packages to versions that set","message tool calls. e.g., `yarn add @langchain/anthropic`,","yarn add @langchain/openai`, etc."].join(" "));try{if(null!=t&&void 0===r){const[e,r]=(0,i.defaultToolCallParser)(t);a.tool_calls=e??[],a.invalid_tool_calls=r??[]}else a.tool_calls=a.tool_calls??[],a.invalid_tool_calls=a.invalid_tool_calls??[]}catch(e){a.tool_calls=[],a.invalid_tool_calls=[]}}super(a),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),"string"!=typeof a&&(this.tool_calls=a.tool_calls??this.tool_calls,this.invalid_tool_calls=a.invalid_tool_calls??this.invalid_tool_calls),this.usage_metadata=a.usage_metadata}static lc_name(){return"AIMessage"}_getType(){return"ai"}}t.AIMessage=s,t.isAIMessage=function(e){return"ai"===e._getType()};class o extends n.BaseMessageChunk{constructor(e){let t;if("string"==typeof e)t={content:e,tool_calls:[],invalid_tool_calls:[],tool_call_chunks:[]};else if(void 0===e.tool_call_chunks)t={...e,tool_calls:e.tool_calls??[],invalid_tool_calls:[],tool_call_chunks:[]};else{const a=[],n=[];for(const t of e.tool_call_chunks){let e={};try{if(e=(0,r.parsePartialJson)(t.args??"{}")??{},"object"!=typeof e||Array.isArray(e))throw new Error("Malformed tool call chunk args.");a.push({name:t.name??"",args:e,id:t.id})}catch(e){n.push({name:t.name,args:t.args,id:t.id,error:"Malformed args."})}}t={...e,tool_calls:a,invalid_tool_calls:n}}super(t),Object.defineProperty(this,"tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"invalid_tool_calls",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"tool_call_chunks",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"usage_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_chunks=t.tool_call_chunks??this.tool_call_chunks,this.tool_calls=t.tool_calls??this.tool_calls,this.invalid_tool_calls=t.invalid_tool_calls??this.invalid_tool_calls,this.usage_metadata=t.usage_metadata}get lc_aliases(){return{...super.lc_aliases,tool_calls:"tool_calls",invalid_tool_calls:"invalid_tool_calls",tool_call_chunks:"tool_call_chunks"}}static lc_name(){return"AIMessageChunk"}_getType(){return"ai"}concat(e){const t={content:(0,n.mergeContent)(this.content,e.content),additional_kwargs:(0,n._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,n._mergeDicts)(this.response_metadata,e.response_metadata),tool_call_chunks:[],id:this.id??e.id};if(void 0!==this.tool_call_chunks||void 0!==e.tool_call_chunks){const a=(0,n._mergeLists)(this.tool_call_chunks,e.tool_call_chunks);void 0!==a&&a.length>0&&(t.tool_call_chunks=a)}if(void 0!==this.usage_metadata||void 0!==e.usage_metadata){const a=this.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},r=e.usage_metadata??{input_tokens:0,output_tokens:0,total_tokens:0},n={input_tokens:a.input_tokens+r.input_tokens,output_tokens:a.output_tokens+r.output_tokens,total_tokens:a.total_tokens+r.total_tokens};t.usage_metadata=n}return new o(t)}}t.AIMessageChunk=o},15785:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBaseMessageChunk=t.isBaseMessage=t.BaseMessageChunk=t._mergeLists=t._mergeDicts=t.isOpenAIToolCallArray=t.BaseMessage=t.mergeContent=void 0;const r=a(367);t.mergeContent=function(e,t){return"string"==typeof e?"string"==typeof t?e+t:[{type:"text",text:e},...t]:Array.isArray(t)?[...e,...t]:[...e,{type:"text",text:t}]};class n extends r.Serializable{get lc_aliases(){return{additional_kwargs:"additional_kwargs",response_metadata:"response_metadata"}}get text(){return"string"==typeof this.content?this.content:""}constructor(e,t){"string"==typeof e&&(e={content:e,additional_kwargs:t,response_metadata:{}}),e.additional_kwargs||(e.additional_kwargs={}),e.response_metadata||(e.response_metadata={}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","messages"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"additional_kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"response_metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.content=e.content,this.additional_kwargs=e.additional_kwargs,this.response_metadata=e.response_metadata,this.id=e.id}toDict(){return{type:this._getType(),data:this.toJSON().kwargs}}}function i(e,t){const a={...e};for(const[e,r]of Object.entries(t))if(null==a[e])a[e]=r;else{if(null==r)continue;if(typeof a[e]!=typeof r||Array.isArray(a[e])!==Array.isArray(r))throw new Error(`field[${e}] already exists in the message chunk, but with a different type.`);if("string"==typeof a[e])a[e]=a[e]+r;else if(Array.isArray(a[e])||"object"!=typeof a[e])if(Array.isArray(a[e]))a[e]=s(a[e],r);else{if(a[e]===r)continue;console.warn(`field[${e}] already exists in this message chunk and value has unsupported type.`)}else a[e]=i(a[e],r)}return a}function s(e,t){if(void 0!==e||void 0!==t){if(void 0===e||void 0===t)return e||t;{const a=[...e];for(const e of t)if("object"==typeof e&&"index"in e&&"number"==typeof e.index){const t=a.findIndex((t=>t.index===e.index));-1!==t?a[t]=i(a[t],e):a.push(e)}else a.push(e);return a}}}function o(e){return"function"==typeof e?._getType}t.BaseMessage=n,t.isOpenAIToolCallArray=function(e){return Array.isArray(e)&&e.every((e=>"number"==typeof e.index))},t._mergeDicts=i,t._mergeLists=s,t.BaseMessageChunk=class extends n{},t.isBaseMessage=o,t.isBaseMessageChunk=function(e){return o(e)&&"function"==typeof e.concat}},26064:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMessageChunk=t.ChatMessage=void 0;const r=a(15785);class n extends r.BaseMessage{static lc_name(){return"ChatMessage"}static _chatMessageClass(){return n}constructor(e,t){"string"==typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}static isInstance(e){return"generic"===e._getType()}}t.ChatMessage=n;class i extends r.BaseMessageChunk{static lc_name(){return"ChatMessageChunk"}constructor(e,t){"string"==typeof e&&(e={content:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}_getType(){return"generic"}concat(e){return new i({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),role:this.role,id:this.id??e.id})}}t.ChatMessageChunk=i},79102:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FunctionMessageChunk=t.FunctionMessage=void 0;const r=a(15785);class n extends r.BaseMessage{static lc_name(){return"FunctionMessage"}constructor(e,t){"string"==typeof e&&(e={content:e,name:t}),super(e)}_getType(){return"function"}}t.FunctionMessage=n;class i extends r.BaseMessageChunk{static lc_name(){return"FunctionMessageChunk"}_getType(){return"function"}concat(e){return new i({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),name:this.name??"",id:this.id??e.id})}}t.FunctionMessageChunk=i},57669:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HumanMessageChunk=t.HumanMessage=void 0;const r=a(15785);class n extends r.BaseMessage{static lc_name(){return"HumanMessage"}_getType(){return"human"}}t.HumanMessage=n;class i extends r.BaseMessageChunk{static lc_name(){return"HumanMessageChunk"}_getType(){return"human"}concat(e){return new i({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}}t.HumanMessageChunk=i},14190:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.ToolMessageChunk=t.ToolMessage=void 0,n(a(6796),t),n(a(15785),t),n(a(26064),t),n(a(79102),t),n(a(57669),t),n(a(52133),t),n(a(68081),t),n(a(34546),t);var i=a(53752);Object.defineProperty(t,"ToolMessage",{enumerable:!0,get:function(){return i.ToolMessage}}),Object.defineProperty(t,"ToolMessageChunk",{enumerable:!0,get:function(){return i.ToolMessageChunk}})},52133:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemMessageChunk=t.SystemMessage=void 0;const r=a(15785);class n extends r.BaseMessage{static lc_name(){return"SystemMessage"}_getType(){return"system"}}t.SystemMessage=n;class i extends r.BaseMessageChunk{static lc_name(){return"SystemMessageChunk"}_getType(){return"system"}concat(e){return new i({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),id:this.id??e.id})}}t.SystemMessageChunk=i},53752:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultToolCallParser=t.ToolMessageChunk=t.ToolMessage=void 0;const r=a(15785);class n extends r.BaseMessage{static lc_name(){return"ToolMessage"}get lc_aliases(){return{tool_call_id:"tool_call_id"}}constructor(e,t,a){"string"==typeof e&&(e={content:e,name:a,tool_call_id:t}),super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}_getType(){return"tool"}static isInstance(e){return"tool"===e._getType()}}t.ToolMessage=n;class i extends r.BaseMessageChunk{constructor(e){super(e),Object.defineProperty(this,"tool_call_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.tool_call_id=e.tool_call_id}static lc_name(){return"ToolMessageChunk"}_getType(){return"tool"}concat(e){return new i({content:(0,r.mergeContent)(this.content,e.content),additional_kwargs:(0,r._mergeDicts)(this.additional_kwargs,e.additional_kwargs),response_metadata:(0,r._mergeDicts)(this.response_metadata,e.response_metadata),tool_call_id:this.tool_call_id,id:this.id??e.id})}}t.ToolMessageChunk=i,t.defaultToolCallParser=function(e){const t=[],a=[];for(const r of e)if(r.function){const e=r.function.name;try{const a={name:e||"",args:JSON.parse(r.function.arguments)||{},id:r.id};t.push(a)}catch(t){a.push({name:e,args:r.function.arguments,id:r.id,error:"Malformed args."})}}return[t,a]}},34546:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultTextSplitter=t.trimMessages=t.mergeMessageRuns=t.filterMessages=void 0;const r=a(10969),n=a(6796),i=a(26064),s=a(79102),o=a(57669),l=a(52133),d=a(53752),p=a(68081),u=(e,t)=>{const a=[...new Set(t?.map((e=>{if("string"==typeof e)return e;const t=new e({});if(!("_getType"in t)||"function"!=typeof t._getType)throw new Error("Invalid type provided.");return t._getType()})))],r=e._getType();return a.some((e=>e===r))};function c(e,t={}){const{includeNames:a,excludeNames:r,includeTypes:n,excludeTypes:i,includeIds:s,excludeIds:o}=t,l=[];for(const t of e)r&&t.name&&r.includes(t.name)||i&&u(t,i)||o&&t.id&&o.includes(t.id)||(n||s||a?(a&&t.name&&a.some((e=>e===t.name))||n&&u(t,n)||s&&t.id&&s.some((e=>e===t.id)))&&l.push(t):l.push(t));return l}function m(e){if(!e.length)return[];const t=[];for(const a of e){const e=a,r=t.pop();if(r)if("tool"===e._getType()||e._getType()!==r._getType())t.push(r,e);else{const a=(0,p.convertToChunk)(r),n=(0,p.convertToChunk)(e),i=a.concat(n);"string"==typeof a.content&&"string"==typeof n.content&&(i.content=`${a.content}\n${n.content}`),t.push(v(i))}else t.push(e)}return t}async function h(e,t){const{maxTokens:a,tokenCounter:r,strategy:n="last",allowPartial:i=!1,endOn:s,startOn:o,includeSystem:l=!1,textSplitter:d}=t;if(o&&"first"===n)throw new Error("`startOn` should only be specified if `strategy` is 'last'.");if(l&&"first"===n)throw new Error("`includeSystem` should only be specified if `strategy` is 'last'.");let p;p="getNumTokens"in r?async e=>(await Promise.all(e.map((e=>r.getNumTokens(e.content))))).reduce(((e,t)=>e+t),0):async e=>r(e);let c=y;if(d&&(c="splitText"in d?d.splitText:async e=>d(e)),"first"===n)return f(e,{maxTokens:a,tokenCounter:p,textSplitter:c,partialStrategy:i?"first":void 0,endOn:s});if("last"===n)return async function(e,t){const{allowPartial:a=!1,includeSystem:r=!1,endOn:n,startOn:i,...s}=t;if(n){const t=Array.isArray(n)?n:[n];for(;e&&!u(e[e.length-1],t);)e.pop()}const o=r&&"system"===e[0]._getType();let l=o?e.slice(0,1).concat(e.slice(1).reverse()):e.reverse();return l=await f(l,{...s,partialStrategy:a?"last":void 0,endOn:i}),o?[l[0],...l.slice(1).reverse()]:l.reverse()}(e,{maxTokens:a,tokenCounter:p,textSplitter:c,allowPartial:i,includeSystem:l,startOn:o,endOn:s});throw new Error(`Unrecognized strategy: '${n}'. Must be one of 'first' or 'last'.`)}async function f(e,t){const{maxTokens:a,tokenCounter:r,textSplitter:n,partialStrategy:i,endOn:s}=t;let o=[...e],l=0;for(let e=0;e<o.length;e+=1){const t=e>0?o.slice(0,-e):o;if(await r(t)<=a){l=o.length-e;break}}if(l<o.length-1&&i){let e=!1;if(Array.isArray(o[l].content)){const t=o[l];if("string"==typeof t.content)throw new Error("Expected content to be an array.");const n=t.content.length,s="last"===i?[...t.content].reverse():t.content;for(let d=1;d<=n;d+=1){const n="first"===i?s.slice(0,d):s.slice(-d),p=Object.fromEntries(Object.entries(t).filter((([e])=>"type"!==e&&!e.startsWith("lc_")))),u=g(t._getType(),{...p,content:n}),c=[...o.slice(0,l),u];if(!(await r(c)<=a))break;o=c,l+=1,e=!0}e&&"last"===i&&(t.content=[...s].reverse())}if(!e){const e=o[l];let t;if(Array.isArray(e.content)&&e.content.some((e=>"string"==typeof e||"text"===e.type))){const a=e.content.find((e=>"text"===e.type&&e.text));t=a?.text}else"string"==typeof e.content&&(t=e.content);if(t){const s=await n(t),d=s.length;"last"===i&&s.reverse();for(let t=0;t<d-1;t+=1)if(s.pop(),e.content=s.join(""),await r([...o.slice(0,l),e])<=a){"last"===i&&(e.content=[...s].reverse().join("")),o=[...o.slice(0,l),e],l+=1;break}}}}if(s){const e=Array.isArray(s)?s:[s];for(;l>0&&!u(o[l-1],e);)l-=1}return o.slice(0,l)}t.filterMessages=function(e,t){return Array.isArray(e)?c(e,t):r.RunnableLambda.from((t=>c(t,e)))},t.mergeMessageRuns=function(e){return Array.isArray(e)?m(e):r.RunnableLambda.from(m)},t.trimMessages=function(e,t){if(Array.isArray(e)){const a=e;if(!t)throw new Error("Options parameter is required when providing messages.");return h(a,t)}{const t=e;return r.RunnableLambda.from((e=>h(e,t)))}};const b={human:{message:o.HumanMessage,messageChunk:o.HumanMessageChunk},ai:{message:n.AIMessage,messageChunk:n.AIMessageChunk},system:{message:l.SystemMessage,messageChunk:l.SystemMessageChunk},tool:{message:d.ToolMessage,messageChunk:d.ToolMessageChunk},function:{message:s.FunctionMessage,messageChunk:s.FunctionMessageChunk},generic:{message:i.ChatMessage,messageChunk:i.ChatMessageChunk}};function g(e,t,a){let r,p;switch(e){case"human":a?r=new o.HumanMessageChunk(t):p=new o.HumanMessage(t);break;case"ai":if(a){let e={...t};"tool_calls"in e&&(e={...e,tool_call_chunks:e.tool_calls?.map((e=>({...e,index:void 0,args:JSON.stringify(e.args)})))}),r=new n.AIMessageChunk(e)}else p=new n.AIMessage(t);break;case"system":a?r=new l.SystemMessageChunk(t):p=new l.SystemMessage(t);break;case"tool":if(!("tool_call_id"in t))throw new Error("Can not convert ToolMessage to ToolMessageChunk if 'tool_call_id' field is not defined.");a?r=new d.ToolMessageChunk(t):p=new d.ToolMessage(t);break;case"function":if(a)r=new s.FunctionMessageChunk(t);else{if(!t.name)throw new Error("FunctionMessage must have a 'name' field");p=new s.FunctionMessage(t)}break;case"generic":if(!("role"in t))throw new Error("Can not convert ChatMessage to ChatMessageChunk if 'role' field is not defined.");a?r=new i.ChatMessageChunk(t):p=new i.ChatMessage(t);break;default:throw new Error(`Unrecognized message type ${e}`)}if(a&&r)return r;if(p)return p;throw new Error(`Unrecognized message type ${e}`)}function v(e){const t=e._getType();let a;const r=Object.fromEntries(Object.entries(e).filter((([e])=>!["type","tool_call_chunks"].includes(e)&&!e.startsWith("lc_"))));if(t in b&&(a=g(t,r)),!a)throw new Error(`Unrecognized message chunk class ${t}. Supported classes are ${Object.keys(b)}`);return a}function y(e){const t=e.split("\n");return Promise.resolve([...t.slice(0,-1).map((e=>`${e}\n`)),t[t.length-1]])}t.defaultTextSplitter=y},68081:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToChunk=t.mapChatMessagesToStoredMessages=t.mapStoredMessagesToChatMessages=t.mapStoredMessageToChatMessage=t.getBufferString=t.coerceMessageLikeToMessage=void 0;const r=a(6796),n=a(15785),i=a(26064),s=a(79102),o=a(57669),l=a(52133),d=a(53752);function p(e){const{type:t,...a}=e;if("human"===t||"user"===t)return new o.HumanMessage(a);if("ai"===t||"assistant"===t)return new r.AIMessage(a);if("system"===t)return new l.SystemMessage(a);throw new Error("Unable to coerce message from array: only human, AI, or system message coercion is currently supported.")}function u(e){const t=function(e){if(void 0!==e.data)return e;{const t=e;return{type:t.type,data:{content:t.text,role:t.role,name:void 0,tool_call_id:void 0}}}}(e);switch(t.type){case"human":return new o.HumanMessage(t.data);case"ai":return new r.AIMessage(t.data);case"system":return new l.SystemMessage(t.data);case"function":if(void 0===t.data.name)throw new Error("Name must be defined for function messages");return new s.FunctionMessage(t.data);case"tool":if(void 0===t.data.tool_call_id)throw new Error("Tool call ID must be defined for tool messages");return new d.ToolMessage(t.data);case"chat":if(void 0===t.data.role)throw new Error("Role must be defined for chat messages");return new i.ChatMessage(t.data);default:throw new Error(`Got unexpected type: ${t.type}`)}}t.coerceMessageLikeToMessage=function(e){if("string"==typeof e)return new o.HumanMessage(e);if((0,n.isBaseMessage)(e))return e;if(Array.isArray(e)){const[t,a]=e;return p({type:t,content:a})}return p(e)},t.getBufferString=function(e,t="Human",a="AI"){const r=[];for(const n of e){let e;if("human"===n._getType())e=t;else if("ai"===n._getType())e=a;else if("system"===n._getType())e="System";else if("function"===n._getType())e="Function";else if("tool"===n._getType())e="Tool";else{if("generic"!==n._getType())throw new Error(`Got unsupported message type: ${n._getType()}`);e=n.role}const i=n.name?`${n.name}, `:"";r.push(`${e}: ${i}${n.content}`)}return r.join("\n")},t.mapStoredMessageToChatMessage=u,t.mapStoredMessagesToChatMessages=function(e){return e.map(u)},t.mapChatMessagesToStoredMessages=function(e){return e.map((e=>e.toDict()))},t.convertToChunk=function(e){const t=e._getType();if("human"===t)return new o.HumanMessageChunk({...e});if("ai"===t){let t={...e};return"tool_calls"in t&&(t={...t,tool_call_chunks:t.tool_calls?.map((e=>({...e,index:void 0,args:JSON.stringify(e.args)})))}),new r.AIMessageChunk({...t})}if("system"===t)return new l.SystemMessageChunk({...e});if("function"===t)return new s.FunctionMessageChunk({...e});if(i.ChatMessage.isInstance(e))return new i.ChatMessageChunk({...e});throw new Error("Unknown message type.")}},37255:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputParserException=t.BaseOutputParser=t.BaseLLMOutputParser=void 0;const r=a(37534);class n extends r.Runnable{parseResultWithPrompt(e,t,a){return this.parseResult(e,a)}_baseMessageToString(e){return"string"==typeof e.content?e.content:this._baseMessageContentToString(e.content)}_baseMessageContentToString(e){return JSON.stringify(e)}async invoke(e,t){return"string"==typeof e?this._callWithConfig((async(e,t)=>this.parseResult([{text:e}],t?.callbacks)),e,{...t,runType:"parser"}):this._callWithConfig((async(e,t)=>this.parseResult([{message:e,text:this._baseMessageToString(e)}],t?.callbacks)),e,{...t,runType:"parser"})}}t.BaseLLMOutputParser=n,t.BaseOutputParser=class extends n{parseResult(e,t){return this.parse(e[0].text,t)}async parseWithPrompt(e,t,a){return this.parse(e,a)}_type(){throw new Error("_type not implemented")}};class i extends Error{constructor(e,t,a,r=!1){if(super(e),Object.defineProperty(this,"llmOutput",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observation",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sendToLLM",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmOutput=t,this.observation=a,this.sendToLLM=r,r&&(void 0===a||void 0===t))throw new Error("Arguments 'observation' & 'llmOutput' are required if 'sendToLlm' is true")}}t.OutputParserException=i},56825:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BytesOutputParser=void 0;const r=a(28580);class n extends r.BaseTransformOutputParser{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","bytes"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"textEncoder",{enumerable:!0,configurable:!0,writable:!0,value:new TextEncoder})}static lc_name(){return"BytesOutputParser"}parse(e){return Promise.resolve(this.textEncoder.encode(e))}getFormatInstructions(){return""}}t.BytesOutputParser=n},96404:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(37255),t),n(a(56825),t),n(a(62080),t),n(a(51227),t),n(a(28273),t),n(a(28580),t),n(a(29542),t),n(a(17819),t)},29542:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseJsonMarkdown=t.parsePartialJson=t.JsonOutputParser=void 0;const r=a(28580),n=a(96096),i=a(39803);Object.defineProperty(t,"parseJsonMarkdown",{enumerable:!0,get:function(){return i.parseJsonMarkdown}}),Object.defineProperty(t,"parsePartialJson",{enumerable:!0,get:function(){return i.parsePartialJson}});class s extends r.BaseCumulativeTransformOutputParser{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"JsonOutputParser"}_diff(e,t){if(t)return e?(0,n.compare)(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return(0,i.parseJsonMarkdown)(e[0].text)}async parse(e){return(0,i.parseJsonMarkdown)(e,JSON.parse)}getFormatInstructions(){return""}}t.JsonOutputParser=s},62080:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MarkdownListOutputParser=t.NumberedListOutputParser=t.CustomListOutputParser=t.CommaSeparatedListOutputParser=t.ListOutputParser=void 0;const r=a(37255),n=a(28580);class i extends n.BaseTransformOutputParser{constructor(){super(...arguments),Object.defineProperty(this,"re",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}async*_transform(e){let t="";for await(const a of e)if(t+="string"==typeof a?a:a.content,this.re){const e=[...t.matchAll(this.re)];if(e.length>1){let a=0;for(const t of e.slice(0,-1))yield[t[1]],a+=(t.index??0)+t[0].length;t=t.slice(a)}}else{const e=await this.parse(t);if(e.length>1){for(const t of e.slice(0,-1))yield[t];t=e[e.length-1]}}for(const e of await this.parse(t))yield[e]}}t.ListOutputParser=i,t.CommaSeparatedListOutputParser=class extends i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","list"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"CommaSeparatedListOutputParser"}async parse(e){try{return e.trim().split(",").map((e=>e.trim()))}catch(t){throw new r.OutputParserException(`Could not parse output: ${e}`,e)}}getFormatInstructions(){return"Your response should be a list of comma separated values, eg: `foo, bar, baz`"}},t.CustomListOutputParser=class extends i{constructor({length:e,separator:t}){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","list"]}),Object.defineProperty(this,"length",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"separator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.length=e,this.separator=t||","}async parse(e){try{const t=e.trim().split(this.separator).map((e=>e.trim()));if(void 0!==this.length&&t.length!==this.length)throw new r.OutputParserException(`Incorrect number of items. Expected ${this.length}, got ${t.length}.`);return t}catch(t){if(Object.getPrototypeOf(t)===r.OutputParserException.prototype)throw t;throw new r.OutputParserException(`Could not parse output: ${e}`)}}getFormatInstructions(){return`Your response should be a list of ${void 0===this.length?"":`${this.length} `}items separated by "${this.separator}" (eg: \`foo${this.separator} bar${this.separator} baz\`)`}},t.NumberedListOutputParser=class extends i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","list"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"re",{enumerable:!0,configurable:!0,writable:!0,value:/\d+\.\s([^\n]+)/g})}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return"Your response should be a numbered list with each item on a new line. For example: \n\n1. foo\n\n2. bar\n\n3. baz"}async parse(e){return[...e.matchAll(this.re)??[]].map((e=>e[1]))}},t.MarkdownListOutputParser=class extends i{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","list"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"re",{enumerable:!0,configurable:!0,writable:!0,value:/^\s*[-*]\s([^\n]+)$/gm})}static lc_name(){return"NumberedListOutputParser"}getFormatInstructions(){return"Your response should be a numbered list with each item on a new line. For example: \n\n1. foo\n\n2. bar\n\n3. baz"}async parse(e){return[...e.matchAll(this.re)??[]].map((e=>e[1]))}}},33359:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(60264),t)},60264:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonOutputKeyToolsParser=t.JsonOutputToolsParser=t.makeInvalidToolCall=t.convertLangChainToolCallToOpenAI=t.parseToolCall=void 0;const r=a(37255),n=a(29542);function i(e,t){if(void 0===e.function)return;let a;if(t?.partial)try{a=(0,n.parsePartialJson)(e.function.arguments??"{}")}catch(e){return}else try{a=JSON.parse(e.function.arguments)}catch(t){throw new r.OutputParserException([`Function "${e.function.name}" arguments:`,"",e.function.arguments,"","are not valid JSON.",`Error: ${t.message}`].join("\n"))}const i={name:e.function.name,args:a};return t?.returnId&&(i.id=e.id),i}t.parseToolCall=i,t.convertLangChainToolCallToOpenAI=function(e){if(void 0===e.id)throw new Error('All OpenAI tool calls must have an "id" field.');return{id:e.id,type:"function",function:{name:e.name,arguments:JSON.stringify(e.args)}}},t.makeInvalidToolCall=function(e,t){return{name:e.function?.name,args:e.function?.arguments,id:e.id,error:t}};class s extends r.BaseLLMOutputParser{static lc_name(){return"JsonOutputToolsParser"}constructor(e){super(e),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.returnId=e?.returnId??this.returnId}async parseResult(e){const t=e[0].message.additional_kwargs.tool_calls;if(!t)throw new Error(`No tools_call in message ${JSON.stringify(e)}`);const a=JSON.parse(JSON.stringify(t)),r=[];for(const e of a){const t=i(e,{partial:!0});if(void 0!==t){const e={type:t.name,args:t.args,id:t.id};Object.defineProperty(e,"name",{get(){return this.type}}),Object.defineProperty(e,"arguments",{get(){return this.args}}),r.push(e)}}return r}}t.JsonOutputToolsParser=s;class o extends r.BaseLLMOutputParser{static lc_name(){return"JsonOutputKeyToolsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_tools"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"returnId",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"keyName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSingle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"initialParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"zodSchema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keyName=e.keyName,this.returnSingle=e.returnSingle??this.returnSingle,this.initialParser=new s(e),this.zodSchema=e.zodSchema}async _validateResult(e){if(void 0===this.zodSchema)return e;const t=await this.zodSchema.safeParseAsync(e);if(t.success)return t.data;throw new r.OutputParserException(`Failed to parse. Text: "${JSON.stringify(e,null,2)}". Error: ${JSON.stringify(t.error.errors)}`,JSON.stringify(e,null,2))}async parseResult(e){const t=(await this.initialParser.parseResult(e)).filter((e=>e.type===this.keyName));let a=t;return this.returnId||(a=t.map((e=>e.args))),this.returnSingle?this._validateResult(a[0]):await Promise.all(a.map((e=>this._validateResult(e))))}}t.JsonOutputKeyToolsParser=o},51227:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringOutputParser=void 0;const r=a(28580);class n extends r.BaseTransformOutputParser{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers","string"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"StrOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}_textContentToString(e){return e.text}_imageUrlContentToString(e){throw new Error('Cannot coerce a multimodal "image_url" message part into a string.')}_messageContentComplexToString(e){switch(e.type){case"text":if("text"in e)return this._textContentToString(e);break;case"image_url":if("image_url"in e)return this._imageUrlContentToString(e);break;default:throw new Error(`Cannot coerce "${e.type}" message part into a string.`)}throw new Error(`Invalid content type: ${e.type}`)}_baseMessageContentToString(e){return e.reduce(((e,t)=>e+this._messageContentComplexToString(t)),"")}}t.StringOutputParser=n},28273:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsymmetricStructuredOutputParser=t.JsonMarkdownStructuredOutputParser=t.StructuredOutputParser=void 0;const r=a(21614),n=a(39340),i=a(37255);class s extends i.BaseOutputParser{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(r.z.object(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,r.z.string().describe(t)])))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.\n\n"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}\nwould match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.\nThus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\`\`\`json\n${JSON.stringify((0,n.zodToJsonSchema)(this.schema))}\n\`\`\`\n`}async parse(e){try{const t=(e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim()).replace(/"([^"\\]*(\\.[^"\\]*)*)"/g,((e,t)=>`"${t.replace(/\n/g,"\\n")}"`)).replace(/\n/g,"");return await this.schema.parseAsync(JSON.parse(t))}catch(t){throw new i.OutputParserException(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}}t.StructuredOutputParser=s;class o extends s{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const t=e?.interpolationDepth??1;if(t<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:\n\`\`\`json\n${this._schemaToInstruction((0,n.zodToJsonSchema)(this.schema)).replaceAll("{","{".repeat(t)).replaceAll("}","}".repeat(t))}\n\`\`\``}_schemaToInstruction(e,t=2){const a=e;if("type"in a){let e,r=!1;if(Array.isArray(a.type)){const t=a.type.findIndex((e=>"null"===e));-1!==t&&(r=!0,a.type.splice(t,1)),e=a.type.join(" | ")}else e=a.type;if("object"===a.type&&a.properties){const e=a.description?` // ${a.description}`:"";return`{\n${Object.entries(a.properties).map((([e,r])=>{const n=a.required?.includes(e)?"":" (optional)";return`${" ".repeat(t)}"${e}": ${this._schemaToInstruction(r,t+2)}${n}`})).join("\n")}\n${" ".repeat(t-2)}}${e}`}if("array"===a.type&&a.items){const e=a.description?` // ${a.description}`:"";return`array[\n${" ".repeat(t)}${this._schemaToInstruction(a.items,t+2)}\n${" ".repeat(t-2)}] ${e}`}const n=r?" (nullable)":"";return`${e}${a.description?` // ${a.description}`:""}${n}`}if("anyOf"in a)return a.anyOf.map((e=>this._schemaToInstruction(e,t))).join(`\n${" ".repeat(t-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(r.z.object(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,r.z.string().describe(t)])))))}}t.JsonMarkdownStructuredOutputParser=o;class l extends i.BaseOutputParser{constructor({inputSchema:e}){super(...arguments),Object.defineProperty(this,"structuredInputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.structuredInputParser=new o(e)}async parse(e){let t;try{t=await this.structuredInputParser.parse(e)}catch(t){throw new i.OutputParserException(`Failed to parse. Text: "${e}". Error: ${t}`,e)}return this.outputProcessor(t)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}}t.AsymmetricStructuredOutputParser=l},28580:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseCumulativeTransformOutputParser=t.BaseTransformOutputParser=void 0;const r=a(37255),n=a(15785),i=a(68081),s=a(50383),o=a(57236);class l extends r.BaseOutputParser{async*_transform(e){for await(const t of e)"string"==typeof t?yield this.parseResult([{text:t}]):yield this.parseResult([{message:t,text:this._baseMessageToString(t)}])}async*transform(e,t){yield*this._transformStreamWithConfig(e,this._transform.bind(this),{...t,runType:"parser"})}}t.BaseTransformOutputParser=l,t.BaseCumulativeTransformOutputParser=class extends l{constructor(e){super(e),Object.defineProperty(this,"diff",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.diff=e?.diff??this.diff}async*_transform(e){let t,a;for await(const r of e){if("string"!=typeof r&&"string"!=typeof r.content)throw new Error("Cannot handle non-string output.");let e;if((0,n.isBaseMessageChunk)(r)){if("string"!=typeof r.content)throw new Error("Cannot handle non-string message output.");e=new s.ChatGenerationChunk({message:r,text:r.content})}else if((0,n.isBaseMessage)(r)){if("string"!=typeof r.content)throw new Error("Cannot handle non-string message output.");e=new s.ChatGenerationChunk({message:(0,i.convertToChunk)(r),text:r.content})}else e=new s.GenerationChunk({text:r});a=void 0===a?e:a.concat(e);const l=await this.parsePartialResult([a]);null==l||(0,o.deepCompareStrict)(l,t)||(this.diff?yield this._diff(t,l):yield l,t=l)}}}},17819:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseXMLMarkdown=t.XMLOutputParser=t.XML_FORMAT_INSTRUCTIONS=void 0;const r=a(28580),n=a(96096),i=a(26548);t.XML_FORMAT_INSTRUCTIONS='The output should be formatted as a XML file.\n1. Output should conform to the tags below. \n2. If tags are not given, make them on your own.\n3. Remember to always open and close all the tags.\n\nAs an example, for the tags ["foo", "bar", "baz"]:\n1. String "<foo>\n   <bar>\n      <baz></baz>\n   </bar>\n</foo>" is a well-formatted instance of the schema. \n2. String "<foo>\n   <bar>\n   </foo>" is a badly-formatted instance.\n3. String "<foo>\n   <tag>\n   </tag>\n</foo>" is a badly-formatted instance.\n\nHere are the output tags:\n```\n{tags}\n```';class s extends r.BaseCumulativeTransformOutputParser{constructor(e){super(e),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","output_parsers"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.tags=e?.tags}static lc_name(){return"XMLOutputParser"}_diff(e,t){if(t)return e?(0,n.compare)(e,t):[{op:"replace",path:"",value:t}]}async parsePartialResult(e){return d(e[0].text)}async parse(e){return d(e)}getFormatInstructions(){return this.tags&&this.tags.length>0?t.XML_FORMAT_INSTRUCTIONS.replace("{tags}",this.tags?.join(", ")??""):t.XML_FORMAT_INSTRUCTIONS}}t.XMLOutputParser=s;const o=e=>e.split("\n").map((e=>e.replace(/^\s+/,""))).join("\n").trim(),l=e=>{if(0===Object.keys(e).length)return{};const t={};return e.children.length>0?(t[e.name]=e.children.map(l),t):(t[e.name]=e.text??void 0,t)};function d(e){const t=o(e),a=i.sax.parser(!0);let r={};const n=[];a.onopentag=e=>{const t={name:e.name,attributes:e.attributes,children:[],text:"",isSelfClosing:e.isSelfClosing};n.length>0?n[n.length-1].children.push(t):r=t,e.isSelfClosing||n.push(t)},a.onclosetag=()=>{if(n.length>0){const e=n.pop();0===n.length&&e&&(r=e)}},a.ontext=e=>{n.length>0&&(n[n.length-1].text+=e)},a.onattribute=e=>{n.length>0&&(n[n.length-1].attributes[e.name]=e.value)};const s=/```(xml)?(.*)```/s.exec(t),d=s?s[2]:t;return a.write(d).close(),r&&"?xml"===r.name&&(r=r.children[0]),l(r)}t.parseXMLMarkdown=d},50383:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatGenerationChunk=t.GenerationChunk=t.RUN_KEY=void 0,t.RUN_KEY="__run";class a{constructor(e){Object.defineProperty(this,"text",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"generationInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.text=e.text,this.generationInfo=e.generationInfo}concat(e){return new a({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo}})}}t.GenerationChunk=a;class r extends a{constructor(e){super(e),Object.defineProperty(this,"message",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.message=e.message}concat(e){return new r({text:this.text+e.text,generationInfo:{...this.generationInfo,...e.generationInfo},message:this.message.concat(e.message)})}}t.ChatGenerationChunk=r},5118:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePromptValue=t.ChatPromptValue=t.StringPromptValue=t.BasePromptValue=void 0;const r=a(367),n=a(57669),i=a(68081);class s extends r.Serializable{}t.BasePromptValue=s,t.StringPromptValue=class extends s{static lc_name(){return"StringPromptValue"}constructor(e){super({value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.value=e}toString(){return this.value}toChatMessages(){return[new n.HumanMessage(this.value)]}},t.ChatPromptValue=class extends s{static lc_name(){return"ChatPromptValue"}constructor(e){Array.isArray(e)&&(e={messages:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"messages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.messages=e.messages}toString(){return(0,i.getBufferString)(this.messages)}toChatMessages(){return this.messages}},t.ImagePromptValue=class extends s{static lc_name(){return"ImagePromptValue"}constructor(e){"imageUrl"in e||(e={imageUrl:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompt_values"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"imageUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.imageUrl=e.imageUrl}toString(){return this.imageUrl.url}toChatMessages(){return[new n.HumanMessage({content:[{type:"image_url",image_url:{detail:this.imageUrl.detail,url:this.imageUrl.url}}]})]}}},61528:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BasePromptTemplate=void 0;const r=a(10969);class n extends r.Runnable{get lc_attributes(){return{partialVariables:void 0}}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts",this._getPromptType()]}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"partialVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{inputVariables:t}=e;if(t.includes("stop"))throw new Error("Cannot have an input variable named 'stop', as it is used internally, please rename.");Object.assign(this,e)}async mergePartialAndUserVariables(e){const t=this.partialVariables??{},a={};for(const[e,r]of Object.entries(t))a[e]="string"==typeof r?r:await r();return{...a,...e}}async invoke(e,t){return this._callWithConfig((e=>this.formatPromptValue(e)),e,{...t,runType:"prompt"})}serialize(){throw new Error("Use .toJSON() instead")}static async deserialize(e){switch(e._type){case"prompt":{const{PromptTemplate:t}=await Promise.all([a.e(364),a.e(612)]).then(a.bind(a,23650));return t.deserialize(e)}case void 0:{const{PromptTemplate:t}=await Promise.all([a.e(364),a.e(612)]).then(a.bind(a,23650));return t.deserialize({...e,_type:"prompt"})}case"few_shot":{const{FewShotPromptTemplate:t}=await Promise.all([a.e(771),a.e(364),a.e(612),a.e(289)]).then(a.bind(a,62771));return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}t.BasePromptTemplate=n},32353:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatPromptTemplate=t.SystemMessagePromptTemplate=t.AIMessagePromptTemplate=t.HumanMessagePromptTemplate=t.ChatMessagePromptTemplate=t.BaseChatPromptTemplate=t.BaseMessageStringPromptTemplate=t.MessagesPlaceholder=t.BaseMessagePromptTemplate=void 0;const r=a(14190),n=a(5118),i=a(10969),s=a(36760),o=a(61528),l=a(71889),d=a(10934),p=a(4993);class u extends i.Runnable{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}async invoke(e,t){return this._callWithConfig((e=>this.formatMessages(e)),e,{...t,runType:"prompt"})}}t.BaseMessagePromptTemplate=u;class c extends u{static lc_name(){return"MessagesPlaceholder"}constructor(e){"string"==typeof e&&(e={variableName:e}),super(e),Object.defineProperty(this,"variableName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"optional",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.variableName=e.variableName,this.optional=e.optional??!1}get inputVariables(){return[this.variableName]}async formatMessages(e){const t=e[this.variableName];if(this.optional&&!t)return[];if(!t){const e=new Error(`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages as an input value. Received: undefined`);throw e.name="InputFormatError",e}let a;try{a=Array.isArray(t)?t.map(r.coerceMessageLikeToMessage):[(0,r.coerceMessageLikeToMessage)(t)]}catch(e){const a="string"==typeof t?t:JSON.stringify(t,null,2),r=new Error([`Field "${this.variableName}" in prompt uses a MessagesPlaceholder, which expects an array of BaseMessages or coerceable values as input.`,`Received value: ${a}`,`Additional message: ${e.message}`].join("\n\n"));throw r.name="InputFormatError",r}return a}}t.MessagesPlaceholder=c;class m extends u{constructor(e){"prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt}get inputVariables(){return this.prompt.inputVariables}async formatMessages(e){return[await this.format(e)]}}t.BaseMessageStringPromptTemplate=m;class h extends o.BasePromptTemplate{constructor(e){super(e)}async format(e){return(await this.formatPromptValue(e)).toString()}async formatPromptValue(e){const t=await this.formatMessages(e);return new n.ChatPromptValue(t)}}t.BaseChatPromptTemplate=h;class f extends m{static lc_name(){return"ChatMessagePromptTemplate"}constructor(e,t){"prompt"in e||(e={prompt:e,role:t}),super(e),Object.defineProperty(this,"role",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.role=e.role}async format(e){return new r.ChatMessage(await this.prompt.format(e),this.role)}static fromTemplate(e,t,a){return new this(l.PromptTemplate.fromTemplate(e,{templateFormat:a?.templateFormat}),t)}}t.ChatMessagePromptTemplate=f;class b extends u{static _messageClass(){throw new Error("Can not invoke _messageClass from inside _StringImageMessagePromptTemplate")}constructor(e,t){if("prompt"in e||(e={prompt:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","chat"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"additionalOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"messageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"chatMessageClass",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,Array.isArray(this.prompt)){let e=[];this.prompt.forEach((t=>{"inputVariables"in t&&(e=e.concat(t.inputVariables))})),this.inputVariables=e}else this.inputVariables=this.prompt.inputVariables;this.additionalOptions=t??this.additionalOptions}createMessage(e){const t=this.constructor;if(t._messageClass())return new(t._messageClass())({content:e});if(t.chatMessageClass){const a=t.chatMessageClass();return new a({content:e,role:this.getRoleFromMessageClass(a.lc_name())})}throw new Error("No message class defined")}getRoleFromMessageClass(e){switch(e){case"HumanMessage":return"human";case"AIMessage":return"ai";case"SystemMessage":return"system";case"ChatMessage":return"chat";default:throw new Error("Invalid message class name")}}static fromTemplate(e,t){if("string"==typeof e)return new this(l.PromptTemplate.fromTemplate(e,t));const a=[];for(const r of e)if("string"==typeof r||"object"==typeof r&&"text"in r){let e="";"string"==typeof r?e=r:"string"==typeof r.text&&(e=r.text??""),a.push(l.PromptTemplate.fromTemplate(e,t))}else if("object"==typeof r&&"image_url"in r){let e,n=r.image_url??"",i=[];if("string"==typeof n){let a;a="mustache"===t?.templateFormat?(0,p.parseMustache)(n):(0,p.parseFString)(n);const r=a.flatMap((e=>"variable"===e.type?[e.name]:[]));if((r?.length??0)>0){if(r.length>1)throw new Error(`Only one format variable allowed per image template.\nGot: ${r}\nFrom: ${n}`);i=[r[0]]}else i=[];n={url:n},e=new d.ImagePromptTemplate({template:n,inputVariables:i,templateFormat:t?.templateFormat})}else{if("object"!=typeof n)throw new Error("Invalid image template");if("url"in n){let e;e="mustache"===t?.templateFormat?(0,p.parseMustache)(n.url):(0,p.parseFString)(n.url),i=e.flatMap((e=>"variable"===e.type?[e.name]:[]))}else i=[];e=new d.ImagePromptTemplate({template:n,inputVariables:i,templateFormat:t?.templateFormat})}a.push(e)}return new this({prompt:a,additionalOptions:t})}async format(e){if(this.prompt instanceof s.BaseStringPromptTemplate){const t=await this.prompt.format(e);return this.createMessage(t)}{const t=[];for(const a of this.prompt){let r={};if(!("inputVariables"in a))throw new Error(`Prompt ${a} does not have inputVariables defined.`);for(const t of a.inputVariables)r||(r={[t]:e[t]}),r={...r,[t]:e[t]};if(a instanceof s.BaseStringPromptTemplate){const e=await a.format(r);t.push({type:"text",text:e})}else if(a instanceof d.ImagePromptTemplate){const e=await a.format(r);t.push({type:"image_url",image_url:e})}}return this.createMessage(t)}}async formatMessages(e){return[await this.format(e)]}}class g extends b{static _messageClass(){return r.HumanMessage}static lc_name(){return"HumanMessagePromptTemplate"}}t.HumanMessagePromptTemplate=g;class v extends b{static _messageClass(){return r.AIMessage}static lc_name(){return"AIMessagePromptTemplate"}}t.AIMessagePromptTemplate=v;class y extends b{static _messageClass(){return r.SystemMessage}static lc_name(){return"SystemMessagePromptTemplate"}}function _(e,t){if("function"==typeof e.formatMessages||(0,r.isBaseMessage)(e))return e;if(Array.isArray(e)&&"placeholder"===e[0]){const t=e[1];if("string"!=typeof t||"{"!==t[0]||"}"!==t[t.length-1])throw new Error(`Invalid placeholder template: "${e[1]}". Expected a variable name surrounded by curly braces.`);const a=t.slice(1,-1);return new c({variableName:a,optional:!0})}const a=(0,r.coerceMessageLikeToMessage)(e);let n;if(n="string"==typeof a.content?a.content:a.content.map((e=>"text"in e?{text:e.text}:"image_url"in e?{image_url:e.image_url}:e)),"human"===a._getType())return g.fromTemplate(n,t);if("ai"===a._getType())return v.fromTemplate(n,t);if("system"===a._getType())return y.fromTemplate(n,t);if(r.ChatMessage.isInstance(a))return f.fromTemplate(a.content,a.role,t);throw new Error(`Could not coerce message prompt template from input. Received message type: "${a._getType()}".`)}t.SystemMessagePromptTemplate=y;class w extends h{static lc_name(){return"ChatPromptTemplate"}get lc_aliases(){return{promptMessages:"messages"}}constructor(e){if(super(e),Object.defineProperty(this,"promptMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),"mustache"===e.templateFormat&&void 0===e.validateTemplate&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){const e=new Set;for(const t of this.promptMessages)if(!(t instanceof r.BaseMessage))for(const a of t.inputVariables)e.add(a);const t=this.inputVariables,a=new Set(this.partialVariables?t.concat(Object.keys(this.partialVariables)):t),n=new Set([...a].filter((t=>!e.has(t))));if(n.size>0)throw new Error(`Input variables \`${[...n]}\` are not used in any of the prompt messages.`);const i=new Set([...e].filter((e=>!a.has(e))));if(i.size>0)throw new Error(`Input variables \`${[...i]}\` are used in prompt messages but not in the prompt template.`)}}_getPromptType(){return"chat"}async _parseImagePrompts(e,t){if("string"==typeof e.content)return e;const a=await Promise.all(e.content.map((async e=>{if("image_url"!==e.type)return e;let a="";a="string"==typeof e.image_url?e.image_url:e.image_url.url;const r=l.PromptTemplate.fromTemplate(a,{templateFormat:this.templateFormat}),n=await r.format(t);return"string"!=typeof e.image_url&&"url"in e.image_url?e.image_url.url=n:e.image_url=n,e})));return e.content=a,e}async formatMessages(e){const t=await this.mergePartialAndUserVariables(e);let a=[];for(const e of this.promptMessages)if(e instanceof r.BaseMessage)a.push(await this._parseImagePrompts(e,t));else{const r=e.inputVariables.reduce(((a,r)=>{if(!(r in t||"MessagesPlaceholder"===e.constructor.lc_name()&&e.optional))throw new Error(`Missing value for input variable \`${r.toString()}\``);return a[r]=t[r],a}),{}),n=await e.formatMessages(r);a=a.concat(n)}return a}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),a={...this.partialVariables??{},...e},r={...this,inputVariables:t,partialVariables:a};return new w(r)}static fromTemplate(e,t){const a=l.PromptTemplate.fromTemplate(e,t),r=new g({prompt:a});return this.fromMessages([r])}static fromMessages(e,t){const a=e.reduce(((e,a)=>e.concat(a instanceof w?a.promptMessages:[_(a,t)])),[]),n=e.reduce(((e,t)=>t instanceof w?Object.assign(e,t.partialVariables):e),Object.create(null)),i=new Set;for(const e of a)if(!(e instanceof r.BaseMessage))for(const t of e.inputVariables)t in n||i.add(t);return new this({...t,inputVariables:[...i],promptMessages:a,partialVariables:n,templateFormat:t?.templateFormat})}static fromPromptMessages(e){return this.fromMessages(e)}}t.ChatPromptTemplate=w},32406:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FewShotChatMessagePromptTemplate=t.FewShotPromptTemplate=void 0;const r=a(36760),n=a(4993),i=a(71889),s=a(32353);class o extends r.BaseStringPromptTemplate{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.assign(this,e),void 0!==this.examples&&void 0!==this.exampleSelector)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(void 0===this.examples&&void 0===this.exampleSelector)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,n.checkValidTemplate)(this.prefix+this.suffix,this.templateFormat,e)}}_getPromptType(){return"few_shot"}static lc_name(){return"FewShotPromptTemplate"}async getExamples(e){if(void 0!==this.examples)return this.examples;if(void 0!==this.exampleSelector)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),a={...this.partialVariables??{},...e},r={...this,inputVariables:t,partialVariables:a};return new o(r)}async format(e){const t=await this.mergePartialAndUserVariables(e),a=await this.getExamples(t),r=await Promise.all(a.map((e=>this.examplePrompt.format(e)))),i=[this.prefix,...r,this.suffix].join(this.exampleSeparator);return(0,n.renderTemplate)(i,this.templateFormat,t)}serialize(){if(this.exampleSelector||!this.examples)throw new Error("Serializing an example selector is not currently supported");if(void 0!==this.outputParser)throw new Error("Serializing an output parser is not currently supported");return{_type:this._getPromptType(),input_variables:this.inputVariables,example_prompt:this.examplePrompt.serialize(),example_separator:this.exampleSeparator,suffix:this.suffix,prefix:this.prefix,template_format:this.templateFormat,examples:this.examples}}static async deserialize(e){const{example_prompt:t}=e;if(!t)throw new Error("Missing example prompt");const a=await i.PromptTemplate.deserialize(t);let r;if(!Array.isArray(e.examples))throw new Error("Invalid examples format. Only list or string are supported.");return r=e.examples,new o({inputVariables:e.input_variables,examplePrompt:a,examples:r,exampleSeparator:e.example_separator,prefix:e.prefix,suffix:e.suffix,templateFormat:e.template_format})}}t.FewShotPromptTemplate=o;class l extends s.BaseChatPromptTemplate{_getPromptType(){return"few_shot_chat"}static lc_name(){return"FewShotChatMessagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"examples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleSelector",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"examplePrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"suffix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"exampleSeparator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),Object.defineProperty(this,"prefix",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.examples=e.examples,this.examplePrompt=e.examplePrompt,this.exampleSeparator=e.exampleSeparator??"\n\n",this.exampleSelector=e.exampleSelector,this.prefix=e.prefix??"",this.suffix=e.suffix??"",this.templateFormat=e.templateFormat??"f-string",this.validateTemplate=e.validateTemplate??!0,void 0!==this.examples&&void 0!==this.exampleSelector)throw new Error("Only one of 'examples' and 'example_selector' should be provided");if(void 0===this.examples&&void 0===this.exampleSelector)throw new Error("One of 'examples' and 'example_selector' should be provided");if(this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,n.checkValidTemplate)(this.prefix+this.suffix,this.templateFormat,e)}}async getExamples(e){if(void 0!==this.examples)return this.examples;if(void 0!==this.exampleSelector)return this.exampleSelector.selectExamples(e);throw new Error("One of 'examples' and 'example_selector' should be provided")}async formatMessages(e){const t=await this.mergePartialAndUserVariables(e);let a=await this.getExamples(t);a=a.map((e=>{const t={};return this.examplePrompt.inputVariables.forEach((a=>{t[a]=e[a]})),t}));const r=[];for(const e of a){const t=await this.examplePrompt.formatMessages(e);r.push(...t)}return r}async format(e){const t=await this.mergePartialAndUserVariables(e),a=await this.getExamples(t),r=(await Promise.all(a.map((e=>this.examplePrompt.formatMessages(e))))).flat().map((e=>e.content)),i=[this.prefix,...r,this.suffix].join(this.exampleSeparator);return(0,n.renderTemplate)(i,this.templateFormat,t)}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),a={...this.partialVariables??{},...e},r={...this,inputVariables:t,partialVariables:a};return new l(r)}}t.FewShotChatMessagePromptTemplate=l},10934:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImagePromptTemplate=void 0;const r=a(5118),n=a(61528),i=a(4993);class s extends n.BasePromptTemplate{static lc_name(){return"ImagePromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","image"]}),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.template=e.template,this.templateFormat=e.templateFormat??this.templateFormat,this.validateTemplate=e.validateTemplate??this.validateTemplate,this.validateTemplate){let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,i.checkValidTemplate)([{type:"image_url",image_url:this.template}],this.templateFormat,e)}}_getPromptType(){return"prompt"}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),a={...this.partialVariables??{},...e},r={...this,inputVariables:t,partialVariables:a};return new s(r)}async format(e){const t={};for(const[a,r]of Object.entries(this.template))t[a]="string"==typeof r?(0,i.renderTemplate)(r,this.templateFormat,e):r;const a=e.url||t.url,r=e.detail||t.detail;if(!a)throw new Error("Must provide either an image URL.");if("string"!=typeof a)throw new Error("url must be a string.");const n={url:a};return r&&(n.detail=r),n}async formatPromptValue(e){const t=await this.format(e);return new r.ImagePromptValue(t)}}t.ImagePromptTemplate=s},96193:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(61528),t),n(a(32353),t),n(a(32406),t),n(a(70697),t),n(a(71889),t),n(a(97470),t),n(a(36760),t),n(a(4993),t),n(a(10934),t),n(a(83810),t)},70697:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PipelinePromptTemplate=void 0;const r=a(61528),n=a(32353);class i extends r.BasePromptTemplate{static lc_name(){return"PipelinePromptTemplate"}constructor(e){super({...e,inputVariables:[]}),Object.defineProperty(this,"pipelinePrompts",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"finalPrompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.pipelinePrompts=e.pipelinePrompts,this.finalPrompt=e.finalPrompt,this.inputVariables=this.computeInputValues()}computeInputValues(){const e=this.pipelinePrompts.map((e=>e.name)),t=this.pipelinePrompts.map((t=>t.prompt.inputVariables.filter((t=>!e.includes(t))))).flat();return[...new Set(t)]}static extractRequiredInputValues(e,t){return t.reduce(((t,a)=>(t[a]=e[a],t)),{})}async formatPipelinePrompts(e){const t=await this.mergePartialAndUserVariables(e);for(const{name:e,prompt:a}of this.pipelinePrompts){const r=i.extractRequiredInputValues(t,a.inputVariables);a instanceof n.ChatPromptTemplate?t[e]=await a.formatMessages(r):t[e]=await a.format(r)}return i.extractRequiredInputValues(t,this.finalPrompt.inputVariables)}async formatPromptValue(e){return this.finalPrompt.formatPromptValue(await this.formatPipelinePrompts(e))}async format(e){return this.finalPrompt.format(await this.formatPipelinePrompts(e))}async partial(e){const t={...this};return t.inputVariables=this.inputVariables.filter((t=>!(t in e))),t.partialVariables={...this.partialVariables??{},...e},new i(t)}serialize(){throw new Error("Not implemented.")}_getPromptType(){return"pipeline"}}t.PipelinePromptTemplate=i},71889:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PromptTemplate=void 0;const r=a(36760),n=a(4993);class i extends r.BaseStringPromptTemplate{static lc_name(){return"PromptTemplate"}constructor(e){if(super(e),Object.defineProperty(this,"template",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"templateFormat",{enumerable:!0,configurable:!0,writable:!0,value:"f-string"}),Object.defineProperty(this,"validateTemplate",{enumerable:!0,configurable:!0,writable:!0,value:!0}),"mustache"===e.templateFormat&&void 0===e.validateTemplate&&(this.validateTemplate=!1),Object.assign(this,e),this.validateTemplate){if("mustache"===this.templateFormat)throw new Error("Mustache templates cannot be validated.");let e=this.inputVariables;this.partialVariables&&(e=e.concat(Object.keys(this.partialVariables))),(0,n.checkValidTemplate)(this.template,this.templateFormat,e)}}_getPromptType(){return"prompt"}async format(e){const t=await this.mergePartialAndUserVariables(e);return(0,n.renderTemplate)(this.template,this.templateFormat,t)}static fromExamples(e,t,a,r="\n\n",n=""){const s=[n,...e,t].join(r);return new i({inputVariables:a,template:s})}static fromTemplate(e,t){const{templateFormat:a="f-string",...r}=t??{},s=new Set;return(0,n.parseTemplate)(e,a).forEach((e=>{"variable"===e.type&&s.add(e.name)})),new i({inputVariables:[...s],templateFormat:a,template:e,...r})}async partial(e){const t=this.inputVariables.filter((t=>!(t in e))),a={...this.partialVariables??{},...e},r={...this,inputVariables:t,partialVariables:a};return new i(r)}serialize(){if(void 0!==this.outputParser)throw new Error("Cannot serialize a prompt template with an output parser");return{_type:this._getPromptType(),input_variables:this.inputVariables,template:this.template,template_format:this.templateFormat}}static async deserialize(e){if(!e.template)throw new Error("Prompt template must have a template");return new i({inputVariables:e.input_variables,template:e.template,templateFormat:e.template_format})}}t.PromptTemplate=i},97470:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},36760:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseStringPromptTemplate=void 0;const r=a(5118),n=a(61528);class i extends n.BasePromptTemplate{async formatPromptValue(e){const t=await this.format(e);return new r.StringPromptValue(t)}}t.BaseStringPromptTemplate=i},83810:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StructuredPrompt=void 0;const r=a(32353);function n(e){return"object"==typeof e&&null!=e&&"withStructuredOutput"in e&&"function"==typeof e.withStructuredOutput}class i extends r.ChatPromptTemplate{get lc_aliases(){return{...super.lc_aliases,schema:"schema_"}}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","prompts","structured"]}),this.schema=e.schema}pipe(e){if(n(e))return super.pipe(e.withStructuredOutput(this.schema));if("object"==typeof(t=e)&&null!=t&&"lc_id"in t&&Array.isArray(t.lc_id)&&"langchain_core/runnables/RunnableBinding"===t.lc_id.join("/")&&n(e.bound))return super.pipe(e.bound.withStructuredOutput(this.schema).bind(e.kwargs??{}).withConfig(e.config));var t;throw new Error('Structured prompts need to be piped to a language model that supports the "withStructuredOutput()" method.')}static fromMessagesAndSchema(e,t){return i.fromMessages(e,{schema:t})}}t.StructuredPrompt=i},4993:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.checkValidTemplate=t.parseTemplate=t.renderTemplate=t.DEFAULT_PARSER_MAPPING=t.DEFAULT_FORMATTER_MAPPING=t.interpolateMustache=t.interpolateFString=t.parseMustache=t.parseFString=void 0;const n=r(a(57965));function i(){n.default.escape=e=>e}t.parseFString=e=>{const t=e.split(""),a=[],r=(e,a)=>{for(let r=a;r<t.length;r+=1)if(e.includes(t[r]))return r;return-1};let n=0;for(;n<t.length;)if("{"===t[n]&&n+1<t.length&&"{"===t[n+1])a.push({type:"literal",text:"{"}),n+=2;else if("}"===t[n]&&n+1<t.length&&"}"===t[n+1])a.push({type:"literal",text:"}"}),n+=2;else if("{"===t[n]){const e=r("}",n);if(e<0)throw new Error("Unclosed '{' in template.");a.push({type:"variable",name:t.slice(n+1,e).join("")}),n=e+1}else{if("}"===t[n])throw new Error("Single '}' in template.");{const e=r("{}",n),i=(e<0?t.slice(n):t.slice(n,e)).join("");a.push({type:"literal",text:i}),n=e<0?t.length:e}}return a},t.parseMustache=e=>(i(),(e=>e.map((e=>"name"===e[0]?{type:"variable",name:e[1].includes(".")?e[1].split(".")[0]:e[1]}:["#","&","^",">"].includes(e[0])?{type:"variable",name:e[1]}:{type:"literal",text:e[1]})))(n.default.parse(e))),t.interpolateFString=(e,a)=>(0,t.parseFString)(e).reduce(((e,t)=>{if("variable"===t.type){if(t.name in a)return e+a[t.name];throw new Error(`(f-string) Missing value for input ${t.name}`)}return e+t.text}),""),t.interpolateMustache=(e,t)=>(i(),n.default.render(e,t)),t.DEFAULT_FORMATTER_MAPPING={"f-string":t.interpolateFString,mustache:t.interpolateMustache},t.DEFAULT_PARSER_MAPPING={"f-string":t.parseFString,mustache:t.parseMustache},t.renderTemplate=(e,a,r)=>t.DEFAULT_FORMATTER_MAPPING[a](e,r),t.parseTemplate=(e,a)=>t.DEFAULT_PARSER_MAPPING[a](e),t.checkValidTemplate=(e,a,r)=>{if(!(a in t.DEFAULT_FORMATTER_MAPPING)){const e=Object.keys(t.DEFAULT_FORMATTER_MAPPING);throw new Error(`Invalid template format. Got \`${a}\`;\n                         should be one of ${e}`)}try{const n=r.reduce(((e,t)=>(e[t]="foo",e)),{});Array.isArray(e)?e.forEach((e=>{if("text"===e.type)(0,t.renderTemplate)(e.text,a,n);else{if("image_url"!==e.type)throw new Error(`Invalid message template received. ${JSON.stringify(e,null,2)}`);if("string"==typeof e.image_url)(0,t.renderTemplate)(e.image_url,a,n);else{const r=e.image_url.url;(0,t.renderTemplate)(r,a,n)}}})):(0,t.renderTemplate)(e,a,n)}catch(e){throw new Error(`Invalid prompt schema: ${e.message}`)}}},10969:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RunnablePick=t.RunnableAssign=t._coerceToRunnable=t.RunnableWithFallbacks=t.RunnableParallel=t.RunnableLambda=t.RunnableTraceable=t.RunnableMap=t.RunnableSequence=t.RunnableRetry=t.RunnableEach=t.RunnableBinding=t.Runnable=t._coerceToDict=void 0;const n=a(21614),i=r(a(24116)),s=a(49060),o=a(27262),l=a(403),d=a(2821),p=a(367),u=a(28033),c=a(5272),m=a(61583),h=a(82133),f=a(36161),b=a(84960),g=a(43250),v=a(80106),y=a(27504);function _(e,t){return!e||Array.isArray(e)||e instanceof Date||"object"!=typeof e?{[t]:e}:e}t._coerceToDict=_;class w extends p.Serializable{constructor(){super(...arguments),Object.defineProperty(this,"lc_runnable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}getName(e){const t=this.name??this.constructor.lc_name()??this.constructor.name;return e?`${t}${e}`:t}bind(e){return new P({bound:this,kwargs:e,config:{}})}map(){return new O({bound:this})}withRetry(e){return new T({bound:this,kwargs:{},config:{},maxAttemptNumber:e?.stopAfterAttempt,...e})}withConfig(e){return new P({bound:this,config:e,kwargs:{}})}withFallbacks(e){return new I({runnable:this,fallbacks:e.fallbacks})}_getOptionsList(e,t=0){if(Array.isArray(e)&&e.length!==t)throw new Error(`Passed "options" must be an array with the same length as the inputs, but got ${e.length} options for ${t} inputs`);if(Array.isArray(e))return e.map(c.ensureConfig);if(t>1&&!Array.isArray(e)&&e.runId){console.warn("Provided runId will be used only for the first element of the batch.");const a=Object.fromEntries(Object.entries(e).filter((([e])=>"runId"!==e)));return Array.from({length:t},((t,r)=>(0,c.ensureConfig)(0===r?e:a)))}return Array.from({length:t},(()=>(0,c.ensureConfig)(e)))}async batch(e,t,a){const r=this._getOptionsList(t??{},e.length),n=r[0]?.maxConcurrency??a?.maxConcurrency,i=new m.AsyncCaller({maxConcurrency:n,onFailedAttempt:e=>{throw e}}),s=e.map(((e,t)=>i.call((async()=>{try{return await this.invoke(e,r[t])}catch(e){if(a?.returnExceptions)return e;throw e}}))));return Promise.all(s)}async*_streamIterator(e,t){yield this.invoke(e,t)}async stream(e,t){const a=(0,c.ensureConfig)(t),r=new u.AsyncGeneratorWithSetup({generator:this._streamIterator(e,a),config:a});return await r.setup,u.IterableReadableStream.fromAsyncGenerator(r)}_separateRunnableConfigFromCallOptions(e){let t;t=void 0===e?(0,c.ensureConfig)(e):(0,c.ensureConfig)({callbacks:e.callbacks,tags:e.tags,metadata:e.metadata,runName:e.runName,configurable:e.configurable,recursionLimit:e.recursionLimit,maxConcurrency:e.maxConcurrency,runId:e.runId});const a={...e};return delete a.callbacks,delete a.tags,delete a.metadata,delete a.runName,delete a.configurable,delete a.recursionLimit,delete a.maxConcurrency,delete a.runId,[t,a]}async _callWithConfig(e,t,a){const r=(0,c.ensureConfig)(a),n=await(0,c.getCallbackManagerForConfig)(r),i=await(n?.handleChainStart(this.toJSON(),_(t,"input"),r.runId,r?.runType,void 0,void 0,r?.runName??this.getName()));let s;delete r.runId;try{s=await e.call(this,t,r,i)}catch(e){throw await(i?.handleChainError(e)),e}return await(i?.handleChainEnd(_(s,"output"))),s}async _batchWithConfig(e,t,a,r){const n=this._getOptionsList(a??{},t.length),i=await Promise.all(n.map(c.getCallbackManagerForConfig)),s=await Promise.all(i.map((async(e,a)=>{const r=await(e?.handleChainStart(this.toJSON(),_(t[a],"input"),n[a].runId,n[a].runType,void 0,void 0,n[a].runName??this.getName()));return delete n[a].runId,r})));let o;try{o=await e.call(this,t,n,s,r)}catch(e){throw await Promise.all(s.map((t=>t?.handleChainError(e)))),e}return await Promise.all(s.map((e=>e?.handleChainEnd(_(o,"output"))))),o}async*_transformStreamWithConfig(e,t,a){let r,n,i=!0,s=!0;const o=(0,c.ensureConfig)(a),p=await(0,c.getCallbackManagerForConfig)(o);let m;try{const a=await(0,u.pipeGeneratorWithSetup)(t.bind(this),async function*(){for await(const t of e){if(i)if(void 0===r)r=t;else try{r=(0,u.concat)(r,t)}catch{r=void 0,i=!1}yield t}}(),(async()=>p?.handleChainStart(this.toJSON(),{input:""},o.runId,o.runType,void 0,void 0,o.runName??this.getName())),o);delete o.runId,m=a.setup;const c=m?.handlers.find(d.isStreamEventsHandler);let h=a.output;void 0!==c&&void 0!==m&&(h=c.tapOutputIterable(m.runId,h));const f=m?.handlers.find(l.isLogStreamHandler);void 0!==f&&void 0!==m&&(h=f.tapOutputIterable(m.runId,h));for await(const e of h)if(yield e,s)if(void 0===n)n=e;else try{n=(0,u.concat)(n,e)}catch{n=void 0,s=!1}}catch(e){throw await(m?.handleChainError(e,void 0,void 0,void 0,{inputs:_(r,"input")})),e}await(m?.handleChainEnd(n??{},void 0,void 0,void 0,{inputs:_(r,"input")}))}getGraph(e){const t=new g.Graph,a=t.addNode({name:`${this.getName()}Input`,schema:n.z.any()}),r=t.addNode(this),i=t.addNode({name:`${this.getName()}Output`,schema:n.z.any()});return t.addEdge(a,r),t.addEdge(r,i),t}pipe(e){return new A({first:this,last:k(e)})}pick(e){return this.pipe(new j(e))}assign(e){return this.pipe(new R(new S({steps:e})))}async*transform(e,t){let a;for await(const t of e)a=void 0===a?t:(0,u.concat)(a,t);yield*this._streamIterator(a,(0,c.ensureConfig)(t))}async*streamLog(e,t,a){const r=new l.LogStreamCallbackHandler({...a,autoClose:!1,_schemaFormat:"original"}),n=(0,c.ensureConfig)(t);yield*this._streamLog(e,r,n)}async*_streamLog(e,t,a){const{callbacks:r}=a;if(void 0===r)a.callbacks=[t];else if(Array.isArray(r))a.callbacks=r.concat([t]);else{const e=r.copy();e.inheritableHandlers.push(t),a.callbacks=e}const n=this.stream(e,a),i=async function(){try{const e=await n;for await(const a of e){const e=new l.RunLogPatch({ops:[{op:"add",path:"/streamed_output/-",value:a}]});await t.writer.write(e)}}finally{await t.writer.close()}}();try{for await(const e of t)yield e}finally{await i}}streamEvents(e,t,a){let r;if("v1"===t.version)r=this._streamEventsV1(e,t,a);else{if("v2"!==t.version)throw new Error('Only versions "v1" and "v2" of the schema are currently supported.');r=this._streamEventsV2(e,t,a)}return"text/event-stream"===t.encoding?(0,v.convertToHttpEventStream)(r):u.IterableReadableStream.fromAsyncGenerator(r)}async*_streamEventsV2(e,t,a){const r=new d.EventStreamCallbackHandler({...a,autoClose:!1}),n=(0,c.ensureConfig)(t),i=n.runId??(0,s.v4)();n.runId=i;const o=n.callbacks;if(void 0===o)n.callbacks=[r];else if(Array.isArray(o))n.callbacks=o.concat(r);else{const e=o.copy();e.inheritableHandlers.push(r),n.callbacks=e}const l=this,p=async function(){try{const t=await l.stream(e,n),a=r.tapOutputIterable(i,t);for await(const e of a);}finally{await r.finish()}}();let u,m=!1;try{for await(const t of r)m?(t.run_id===u&&t.event.endsWith("_end")&&t.data?.input&&delete t.data.input,yield t):(t.data.input=e,m=!0,u=t.run_id,yield t)}finally{await p}}async*_streamEventsV1(e,t,a){let r,n=!1;const i=(0,c.ensureConfig)(t),s=i.tags??[],o=i.metadata??{},d=i.runName??this.getName(),p=new l.LogStreamCallbackHandler({...a,autoClose:!1,_schemaFormat:"streaming_events"}),u=new f._RootEventFilter({...a}),m=this._streamLog(e,p,i);for await(const t of m){if(r=r?r.concat(t):l.RunLog.fromRunLogPatch(t),void 0===r.state)throw new Error('Internal error: "streamEvents" state is missing. Please open a bug report.');if(!n){n=!0;const t={...r.state},a={run_id:t.id,event:`on_${t.type}_start`,name:d,tags:s,metadata:o,data:{input:e}};u.includeEvent(a,t.type)&&(yield a)}const a=t.ops.filter((e=>e.path.startsWith("/logs/"))).map((e=>e.path.split("/")[2])),i=[...new Set(a)];for(const e of i){let t,a={};const n=r.state.logs[e];if(t=void 0===n.end_time?n.streamed_output.length>0?"stream":"start":"end","start"===t)void 0!==n.inputs&&(a.input=n.inputs);else if("end"===t)void 0!==n.inputs&&(a.input=n.inputs),a.output=n.final_output;else if("stream"===t){const e=n.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${n.name}"`);a={chunk:n.streamed_output[0]},n.streamed_output=[]}yield{event:`on_${n.type}_${t}`,name:n.name,run_id:n.id,tags:n.tags,metadata:n.metadata,data:a}}const{state:p}=r;if(p.streamed_output.length>0){const e=p.streamed_output.length;if(1!==e)throw new Error(`Expected exactly one chunk of streamed output, got ${e} instead. Encountered in: "${p.name}"`);const t={chunk:p.streamed_output[0]};p.streamed_output=[];const a={event:`on_${p.type}_stream`,run_id:p.id,tags:s,metadata:o,name:d,data:t};u.includeEvent(a,p.type)&&(yield a)}}const h=r?.state;if(void 0!==h){const e={event:`on_${h.type}_end`,name:d,run_id:h.id,tags:s,metadata:o,data:{output:h.final_output}};u.includeEvent(e,h.type)&&(yield e)}}static isRunnable(e){return(0,f.isRunnableInterface)(e)}withListeners({onStart:e,onEnd:t,onError:a}){return new P({bound:this,config:{},configFactories:[r=>({callbacks:[new h.RootListenersTracer({config:r,onStart:e,onEnd:t,onError:a})]})]})}}t.Runnable=w;class P extends w{static lc_name(){return"RunnableBinding"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"kwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"configFactories",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound,this.kwargs=e.kwargs,this.config=e.config,this.configFactories=e.configFactories}getName(e){return this.bound.getName(e)}async _mergeConfig(...e){const t=(0,c.mergeConfigs)(this.config,...e);return(0,c.mergeConfigs)(t,...this.configFactories?await Promise.all(this.configFactories.map((async e=>await e(t)))):[])}bind(e){return new this.constructor({bound:this.bound,kwargs:{...this.kwargs,...e},config:this.config})}withConfig(e){return new this.constructor({bound:this.bound,kwargs:this.kwargs,config:{...this.config,...e}})}withRetry(e){return new this.constructor({bound:this.bound.withRetry(e),kwargs:this.kwargs,config:this.config})}async invoke(e,t){return this.bound.invoke(e,await this._mergeConfig((0,c.ensureConfig)(t),this.kwargs))}async batch(e,t,a){const r=Array.isArray(t)?await Promise.all(t.map((async e=>this._mergeConfig((0,c.ensureConfig)(e),this.kwargs)))):await this._mergeConfig((0,c.ensureConfig)(t),this.kwargs);return this.bound.batch(e,r,a)}async*_streamIterator(e,t){yield*this.bound._streamIterator(e,await this._mergeConfig((0,c.ensureConfig)(t),this.kwargs))}async stream(e,t){return this.bound.stream(e,await this._mergeConfig((0,c.ensureConfig)(t),this.kwargs))}async*transform(e,t){yield*this.bound.transform(e,await this._mergeConfig((0,c.ensureConfig)(t),this.kwargs))}streamEvents(e,t,a){const r=this;return u.IterableReadableStream.fromAsyncGenerator(async function*(){yield*r.bound.streamEvents(e,{...await r._mergeConfig((0,c.ensureConfig)(t),r.kwargs),version:t.version},a)}())}static isRunnableBinding(e){return e.bound&&w.isRunnable(e.bound)}withListeners({onStart:e,onEnd:t,onError:a}){return new P({bound:this.bound,kwargs:this.kwargs,config:this.config,configFactories:[r=>({callbacks:[new h.RootListenersTracer({config:r,onStart:e,onEnd:t,onError:a})]})]})}}t.RunnableBinding=P;class O extends w{static lc_name(){return"RunnableEach"}constructor(e){super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"bound",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.bound=e.bound}bind(e){return new O({bound:this.bound.bind(e)})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _invoke(e,t,a){return this.bound.batch(e,(0,c.patchConfig)(t,{callbacks:a?.getChild()}))}withListeners({onStart:e,onEnd:t,onError:a}){return new O({bound:this.bound.withListeners({onStart:e,onEnd:t,onError:a})})}}t.RunnableEach=O;class T extends P{static lc_name(){return"RunnableRetry"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"maxAttemptNumber",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:()=>{}}),this.maxAttemptNumber=e.maxAttemptNumber??this.maxAttemptNumber,this.onFailedAttempt=e.onFailedAttempt??this.onFailedAttempt}_patchConfigForRetry(e,t,a){const r=e>1?`retry:attempt:${e}`:void 0;return(0,c.patchConfig)(t,{callbacks:a?.getChild(r)})}async _invoke(e,t,a){return(0,i.default)((r=>super.invoke(e,this._patchConfigForRetry(r,t,a))),{onFailedAttempt:t=>this.onFailedAttempt(t,e),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async _batch(e,t,a,r){const n={};try{await(0,i.default)((async i=>{const s=e.map(((e,t)=>t)).filter((e=>void 0===n[e.toString()]||n[e.toString()]instanceof Error)),o=s.map((t=>e[t])),l=s.map((e=>this._patchConfigForRetry(i,t?.[e],a?.[e]))),d=await super.batch(o,l,{...r,returnExceptions:!0});let p;for(let e=0;e<d.length;e+=1){const t=d[e],a=s[e];t instanceof Error&&void 0===p&&(p=t,p.input=o[e]),n[a.toString()]=t}if(p)throw p;return d}),{onFailedAttempt:e=>this.onFailedAttempt(e,e.input),retries:Math.max(this.maxAttemptNumber-1,0),randomize:!0})}catch(e){if(!0!==r?.returnExceptions)throw e}return Object.keys(n).sort(((e,t)=>parseInt(e,10)-parseInt(t,10))).map((e=>n[parseInt(e,10)]))}async batch(e,t,a){return this._batchWithConfig(this._batch.bind(this),e,t,a)}}t.RunnableRetry=T;class A extends w{static lc_name(){return"RunnableSequence"}constructor(e){super(e),Object.defineProperty(this,"first",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"middle",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"last",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),this.first=e.first,this.middle=e.middle??this.middle,this.last=e.last,this.name=e.name}get steps(){return[this.first,...this.middle,this.last]}async invoke(e,t){const a=(0,c.ensureConfig)(t),r=await(0,c.getCallbackManagerForConfig)(a),n=await(r?.handleChainStart(this.toJSON(),_(e,"input"),a.runId,void 0,void 0,void 0,a?.runName));delete a.runId;let i,s=e;try{const e=[this.first,...this.middle];for(let t=0;t<e.length;t+=1){const r=e[t];s=await r.invoke(s,(0,c.patchConfig)(a,{callbacks:n?.getChild(`seq:step:${t+1}`)}))}i=await this.last.invoke(s,(0,c.patchConfig)(a,{callbacks:n?.getChild(`seq:step:${this.steps.length}`)}))}catch(e){throw await(n?.handleChainError(e)),e}return await(n?.handleChainEnd(_(i,"output"))),i}async batch(e,t,a){const r=this._getOptionsList(t??{},e.length),n=await Promise.all(r.map(c.getCallbackManagerForConfig)),i=await Promise.all(n.map((async(t,a)=>{const n=await(t?.handleChainStart(this.toJSON(),_(e[a],"input"),r[a].runId,void 0,void 0,void 0,r[a].runName));return delete r[a].runId,n})));let s=e;try{for(let e=0;e<this.steps.length;e+=1){const t=this.steps[e];s=await t.batch(s,i.map(((t,a)=>{const n=t?.getChild(`seq:step:${e+1}`);return(0,c.patchConfig)(r[a],{callbacks:n})})),a)}}catch(e){throw await Promise.all(i.map((t=>t?.handleChainError(e)))),e}return await Promise.all(i.map((e=>e?.handleChainEnd(_(s,"output"))))),s}async*_streamIterator(e,t){const a=await(0,c.getCallbackManagerForConfig)(t),{runId:r,...n}=t??{},i=await(a?.handleChainStart(this.toJSON(),_(e,"input"),r,void 0,void 0,void 0,n?.runName)),s=[this.first,...this.middle,this.last];let o,l=!0;try{let t=s[0].transform(async function*(){yield e}(),(0,c.patchConfig)(n,{callbacks:i?.getChild("seq:step:1")}));for(let e=1;e<s.length;e+=1){const a=s[e];t=await a.transform(t,(0,c.patchConfig)(n,{callbacks:i?.getChild(`seq:step:${e+1}`)}))}for await(const e of t)if(yield e,l)if(void 0===o)o=e;else try{o=(0,u.concat)(o,e)}catch(e){o=void 0,l=!1}}catch(e){throw await(i?.handleChainError(e)),e}await(i?.handleChainEnd(_(o,"output")))}getGraph(e){const t=new g.Graph;let a=null;return this.steps.forEach(((r,n)=>{const i=r.getGraph(e);0!==n&&i.trimFirstNode(),n!==this.steps.length-1&&i.trimLastNode(),t.extend(i);const s=i.firstNode();if(!s)throw new Error(`Runnable ${r} has no first node`);a&&t.addEdge(a,s),a=i.lastNode()})),t}pipe(e){return A.isRunnableSequence(e)?new A({first:this.first,middle:this.middle.concat([this.last,e.first,...e.middle]),last:e.last,name:this.name??e.name}):new A({first:this.first,middle:[...this.middle,this.last],last:k(e),name:this.name})}static isRunnableSequence(e){return Array.isArray(e.middle)&&w.isRunnable(e)}static from([e,...t],a){return new A({first:k(e),middle:t.slice(0,-1).map(k),last:k(t[t.length-1]),name:a})}}t.RunnableSequence=A;class S extends w{static lc_name(){return"RunnableMap"}getStepsKeys(){return Object.keys(this.steps)}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"steps",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.steps={};for(const[t,a]of Object.entries(e.steps))this.steps[t]=k(a)}static from(e){return new S({steps:e})}async invoke(e,t){const a=(0,c.ensureConfig)(t),r=await(0,c.getCallbackManagerForConfig)(a),n=await(r?.handleChainStart(this.toJSON(),{input:e},a.runId,void 0,void 0,void 0,a?.runName));delete a.runId;const i={};try{await Promise.all(Object.entries(this.steps).map((async([t,r])=>{i[t]=await r.invoke(e,(0,c.patchConfig)(a,{callbacks:n?.getChild(`map:key:${t}`)}))})))}catch(e){throw await(n?.handleChainError(e)),e}return await(n?.handleChainEnd(i)),i}async*_transform(e,t,a){const r={...this.steps},n=(0,u.atee)(e,Object.keys(r).length),i=new Map(Object.entries(r).map((([e,r],i)=>{const s=r.transform(n[i],(0,c.patchConfig)(a,{callbacks:t?.getChild(`map:key:${e}`)}));return[e,s.next().then((t=>({key:e,gen:s,result:t})))]})));for(;i.size;){const{key:e,result:t,gen:a}=await Promise.race(i.values());i.delete(e),t.done||(yield{[e]:t.value},i.set(e,a.next().then((t=>({key:e,gen:a,result:t})))))}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const a=(0,c.ensureConfig)(t),r=new u.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),a),config:a});return await r.setup,u.IterableReadableStream.fromAsyncGenerator(r)}}t.RunnableMap=S;class C extends w{constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),!(0,o.isTraceableFunction)(e.func))throw new Error("RunnableTraceable requires a function that is wrapped in traceable higher-order function");this.func=e.func}async invoke(e,t){const[a]=this._getOptionsList(t??{},1),r=await(0,c.getCallbackManagerForConfig)(a);return await this.func((0,c.patchConfig)(a,{callbacks:r}),e)}async*_streamIterator(e,t){const a=await this.invoke(e,t);if((0,y.isAsyncIterable)(a))for await(const e of a)yield e;else if((0,y.isIterator)(a))for(;;){const e=a.next();if(e.done)break;yield e.value}else yield a}static from(e){return new C({func:e})}}t.RunnableTraceable=C;class E extends w{static lc_name(){return"RunnableLambda"}constructor(e){if((0,o.isTraceableFunction)(e.func))return C.from(e.func);super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),function(e){if((0,o.isTraceableFunction)(e))throw new Error("RunnableLambda requires a function that is not wrapped in traceable higher-order function. This shouldn't happen.")}(e.func),this.func=e.func}static from(e){return new E({func:e})}async _invoke(e,t,a){return new Promise(((r,n)=>{const i=(0,c.patchConfig)(t,{callbacks:a?.getChild(),recursionLimit:(t?.recursionLimit??c.DEFAULT_RECURSION_LIMIT)-1});b.AsyncLocalStorageProviderSingleton.getInstance().run(i,(async()=>{try{let a=await this.func(e,{...i,config:i});if(a&&w.isRunnable(a)){if(0===t?.recursionLimit)throw new Error("Recursion limit reached.");a=await a.invoke(e,{...i,recursionLimit:(i.recursionLimit??c.DEFAULT_RECURSION_LIMIT)-1})}else if((0,y.isAsyncIterable)(a)){let e;for await(const t of(0,y.consumeAsyncIterableInContext)(i,a))if(void 0===e)e=t;else try{e=(0,u.concat)(e,t)}catch(a){e=t}a=e}else if((0,y.isIterableIterator)(a)){let e;for(const t of(0,y.consumeIteratorInContext)(i,a))if(void 0===e)e=t;else try{e=(0,u.concat)(e,t)}catch(a){e=t}a=e}r(a)}catch(e){n(e)}}))}))}async invoke(e,t){return this._callWithConfig(this._invoke,e,t)}async*_transform(e,t,a){let r;for await(const t of e)if(void 0===r)r=t;else try{r=(0,u.concat)(r,t)}catch(e){r=t}const n=(0,c.patchConfig)(a,{callbacks:t?.getChild(),recursionLimit:(a?.recursionLimit??c.DEFAULT_RECURSION_LIMIT)-1}),i=await new Promise(((e,t)=>{b.AsyncLocalStorageProviderSingleton.getInstance().run(n,(async()=>{try{const t=await this.func(r,{...n,config:n});e(t)}catch(e){t(e)}}))}));if(i&&w.isRunnable(i)){if(0===a?.recursionLimit)throw new Error("Recursion limit reached.");const e=await i.stream(r,n);for await(const t of e)yield t}else if((0,y.isAsyncIterable)(i))for await(const e of(0,y.consumeAsyncIterableInContext)(n,i))yield e;else if((0,y.isIterableIterator)(i))for(const e of(0,y.consumeIteratorInContext)(n,i))yield e;else yield i}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const a=(0,c.ensureConfig)(t),r=new u.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),a),config:a});return await r.setup,u.IterableReadableStream.fromAsyncGenerator(r)}}t.RunnableLambda=E,t.RunnableParallel=class extends S{};class I extends w{static lc_name(){return"RunnableWithFallbacks"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fallbacks",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.fallbacks=e.fallbacks}*runnables(){yield this.runnable;for(const e of this.fallbacks)yield e}async invoke(e,t){const a=(0,c.ensureConfig)(t),r=await(0,c.getCallbackManagerForConfig)(t),{runId:n,...i}=a,s=await(r?.handleChainStart(this.toJSON(),_(e,"input"),n,void 0,void 0,void 0,i?.runName));let o;for(const t of this.runnables())try{const a=await t.invoke(e,(0,c.patchConfig)(i,{callbacks:s?.getChild()}));return await(s?.handleChainEnd(_(a,"output"))),a}catch(e){void 0===o&&(o=e)}if(void 0===o)throw new Error("No error stored at end of fallback.");throw await(s?.handleChainError(o)),o}async batch(e,t,a){if(a?.returnExceptions)throw new Error("Not implemented.");const r=this._getOptionsList(t??{},e.length),n=await Promise.all(r.map((e=>(0,c.getCallbackManagerForConfig)(e)))),i=await Promise.all(n.map((async(t,a)=>{const n=await(t?.handleChainStart(this.toJSON(),_(e[a],"input"),r[a].runId,void 0,void 0,void 0,r[a].runName));return delete r[a].runId,n})));let s;for(const t of this.runnables())try{const n=await t.batch(e,i.map(((e,t)=>(0,c.patchConfig)(r[t],{callbacks:e?.getChild()}))),a);return await Promise.all(i.map(((e,t)=>e?.handleChainEnd(_(n[t],"output"))))),n}catch(e){void 0===s&&(s=e)}if(!s)throw new Error("No error stored at end of fallbacks.");throw await Promise.all(i.map((e=>e?.handleChainError(s)))),s}}function k(e){if("function"==typeof e)return new E({func:e});if(w.isRunnable(e))return e;if(Array.isArray(e)||"object"!=typeof e)throw new Error("Expected a Runnable, function or object.\nInstead got an unsupported type.");{const t={};for(const[a,r]of Object.entries(e))t[a]=k(r);return new S({steps:t})}}t.RunnableWithFallbacks=I,t._coerceToRunnable=k;class R extends w{static lc_name(){return"RunnableAssign"}constructor(e){e instanceof S&&(e={mapper:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"mapper",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.mapper=e.mapper}async invoke(e,t){const a=await this.mapper.invoke(e,t);return{...e,...a}}async*_transform(e,t,a){const r=this.mapper.getStepsKeys(),[n,i]=(0,u.atee)(e),s=this.mapper.transform(i,(0,c.patchConfig)(a,{callbacks:t?.getChild()})),o=s.next();for await(const e of n){if("object"!=typeof e||Array.isArray(e))throw new Error("RunnableAssign can only be used with objects as input, got "+typeof e);const t=Object.fromEntries(Object.entries(e).filter((([e])=>!r.includes(e))));Object.keys(t).length>0&&(yield t)}yield(await o).value;for await(const e of s)yield e}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const a=(0,c.ensureConfig)(t),r=new u.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),a),config:a});return await r.setup,u.IterableReadableStream.fromAsyncGenerator(r)}}t.RunnableAssign=R;class j extends w{static lc_name(){return"RunnablePick"}constructor(e){("string"==typeof e||Array.isArray(e))&&(e={keys:e}),super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"keys",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.keys=e.keys}async _pick(e){if("string"==typeof this.keys)return e[this.keys];{const t=this.keys.map((t=>[t,e[t]])).filter((e=>void 0!==e[1]));return 0===t.length?void 0:Object.fromEntries(t)}}async invoke(e,t){return this._callWithConfig(this._pick.bind(this),e,t)}async*_transform(e){for await(const t of e){const e=await this._pick(t);void 0!==e&&(yield e)}}transform(e,t){return this._transformStreamWithConfig(e,this._transform.bind(this),t)}async stream(e,t){const a=(0,c.ensureConfig)(t),r=new u.AsyncGeneratorWithSetup({generator:this.transform(async function*(){yield e}(),a),config:a});return await r.setup,u.IterableReadableStream.fromAsyncGenerator(r)}}t.RunnablePick=j},45226:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnableBranch=void 0;const r=a(10969),n=a(5272),i=a(28033);class s extends r.Runnable{static lc_name(){return"RunnableBranch"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"default",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"branches",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.branches=e.branches,this.default=e.default}static from(e){if(e.length<1)throw new Error("RunnableBranch requires at least one branch");return new this({branches:e.slice(0,-1).map((([e,t])=>[(0,r._coerceToRunnable)(e),(0,r._coerceToRunnable)(t)])),default:(0,r._coerceToRunnable)(e[e.length-1])})}async _invoke(e,t,a){let r;for(let i=0;i<this.branches.length;i+=1){const[s,o]=this.branches[i];if(await s.invoke(e,(0,n.patchConfig)(t,{callbacks:a?.getChild(`condition:${i+1}`)}))){r=await o.invoke(e,(0,n.patchConfig)(t,{callbacks:a?.getChild(`branch:${i+1}`)}));break}}return r||(r=await this.default.invoke(e,(0,n.patchConfig)(t,{callbacks:a?.getChild("branch:default")}))),r}async invoke(e,t={}){return this._callWithConfig(this._invoke,e,t)}async*_streamIterator(e,t){const a=await(0,n.getCallbackManagerForConfig)(t),s=await(a?.handleChainStart(this.toJSON(),(0,r._coerceToDict)(e,"input"),t?.runId,void 0,void 0,void 0,t?.runName));let o,l,d=!0;try{for(let a=0;a<this.branches.length;a+=1){const[r,p]=this.branches[a];if(await r.invoke(e,(0,n.patchConfig)(t,{callbacks:s?.getChild(`condition:${a+1}`)}))){l=await p.stream(e,(0,n.patchConfig)(t,{callbacks:s?.getChild(`branch:${a+1}`)}));for await(const e of l)if(yield e,d)if(void 0===o)o=e;else try{o=(0,i.concat)(o,e)}catch(e){o=void 0,d=!1}break}}if(void 0===l){l=await this.default.stream(e,(0,n.patchConfig)(t,{callbacks:s?.getChild("branch:default")}));for await(const e of l)if(yield e,d)if(void 0===o)o=e;else try{o=(0,i.concat)(o,e)}catch(e){o=void 0,d=!1}}}catch(e){throw await(s?.handleChainError(e)),e}await(s?.handleChainEnd(o??{}))}}t.RunnableBranch=s},5272:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.patchConfig=t.ensureConfig=t.mergeConfigs=t.getCallbackManagerForConfig=t.DEFAULT_RECURSION_LIMIT=void 0;const r=a(31413),n=a(84960);t.DEFAULT_RECURSION_LIMIT=25,t.getCallbackManagerForConfig=async function(e){return r.CallbackManager.configure(e?.callbacks,void 0,e?.tags,void 0,e?.metadata)},t.mergeConfigs=function(...e){const t={};for(const a of e.filter((e=>!!e)))for(const e of Object.keys(a))if("metadata"===e)t[e]={...t[e],...a[e]};else if("tags"===e){const r=t[e]??[];t[e]=[...new Set(r.concat(a[e]??[]))]}else if("configurable"===e)t[e]={...t[e],...a[e]};else if("callbacks"===e){const e=t.callbacks,n=a.callbacks;if(Array.isArray(n))if(e)if(Array.isArray(e))t.callbacks=e.concat(n);else{const a=e.copy();for(const e of n)a.addHandler((0,r.ensureHandler)(e),!0);t.callbacks=a}else t.callbacks=n;else if(n)if(e)if(Array.isArray(e)){const a=n.copy();for(const t of e)a.addHandler((0,r.ensureHandler)(t),!0);t.callbacks=a}else t.callbacks=new r.CallbackManager(n._parentRunId,{handlers:e.handlers.concat(n.handlers),inheritableHandlers:e.inheritableHandlers.concat(n.inheritableHandlers),tags:Array.from(new Set(e.tags.concat(n.tags))),inheritableTags:Array.from(new Set(e.inheritableTags.concat(n.inheritableTags))),metadata:{...e.metadata,...n.metadata}});else t.callbacks=n}else{const r=e;t[r]=a[r]??t[r]}return t};const i=new Set(["string","number","boolean"]);function s(e){const t=n.AsyncLocalStorageProviderSingleton.getInstance().getStore();let a={tags:[],metadata:{},recursionLimit:25,runId:void 0};if(t){const{runId:e,...r}=t;a=Object.entries(r).reduce(((e,[t,a])=>(void 0!==a&&(e[t]=a),e)),a)}if(e&&(a=Object.entries(e).reduce(((e,[t,a])=>(void 0!==a&&(e[t]=a),e)),a)),a?.configurable)for(const e of Object.keys(a.configurable))i.has(typeof a.configurable[e])&&!a.metadata?.[e]&&(a.metadata||(a.metadata={}),a.metadata[e]=a.configurable[e]);return a}t.ensureConfig=s,t.patchConfig=function(e={},{callbacks:t,maxConcurrency:a,recursionLimit:r,runName:n,configurable:i,runId:o}={}){const l=s(e);return void 0!==t&&(delete l.runName,l.callbacks=t),void 0!==r&&(l.recursionLimit=r),void 0!==a&&(l.maxConcurrency=a),void 0!==n&&(l.runName=n),void 0!==i&&(l.configurable={...l.configurable,...i}),void 0!==o&&delete l.runId,l}},43250:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Graph=void 0;const r=a(39340),n=a(49060),i=a(36161),s=a(16370);function o(e){if(!(0,n.validate)(e.id))return e.id;if(!(0,i.isRunnableInterface)(e.data))return e.data.name??"UnknownSchema";try{let t=e.data.getName();return t=t.startsWith("Runnable")?t.slice(8):t,t.length>42&&(t=`${t.substring(0,42)}...`),t}catch(t){return e.data.getName()}}function l(e){return(0,i.isRunnableInterface)(e.data)?{type:"runnable",data:{id:e.data.lc_id,name:e.data.getName()}}:{type:"schema",data:{...(0,r.zodToJsonSchema)(e.data.schema),title:e.data.name}}}t.Graph=class{constructor(){Object.defineProperty(this,"nodes",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"edges",{enumerable:!0,configurable:!0,writable:!0,value:[]})}toJSON(){const e={};return Object.values(this.nodes).forEach(((t,a)=>{e[t.id]=(0,n.validate)(t.id)?a:t.id})),{nodes:Object.values(this.nodes).map((t=>({id:e[t.id],...l(t)}))),edges:this.edges.map((t=>t.data?{source:e[t.source],target:e[t.target],data:t.data}:{source:e[t.source],target:e[t.target]}))}}addNode(e,t){if(void 0!==t&&void 0!==this.nodes[t])throw new Error(`Node with id ${t} already exists`);const a=t||(0,n.v4)(),r={id:a,data:e};return this.nodes[a]=r,r}removeNode(e){delete this.nodes[e.id],this.edges=this.edges.filter((t=>t.source!==e.id&&t.target!==e.id))}addEdge(e,t,a,r){if(void 0===this.nodes[e.id])throw new Error(`Source node ${e.id} not in graph`);if(void 0===this.nodes[t.id])throw new Error(`Target node ${t.id} not in graph`);const n={source:e.id,target:t.id,data:a,conditional:r};return this.edges.push(n),n}firstNode(){const e=new Set(this.edges.map((e=>e.target))),t=[];return Object.values(this.nodes).forEach((a=>{e.has(a.id)||t.push(a)})),t[0]}lastNode(){const e=new Set(this.edges.map((e=>e.source))),t=[];return Object.values(this.nodes).forEach((a=>{e.has(a.id)||t.push(a)})),t[0]}extend(e,t=""){let a=t;Object.values(e.nodes).map((e=>e.id)).every(n.validate)&&(a="");const r=e=>a?`${a}:${e}`:e;Object.entries(e.nodes).forEach((([e,t])=>{this.nodes[r(e)]={...t,id:r(e)}}));const i=e.edges.map((e=>({...e,source:r(e.source),target:r(e.target)})));this.edges=[...this.edges,...i];const s=e.firstNode(),o=e.lastNode();return[s?{id:r(s.id),data:s.data}:void 0,o?{id:r(o.id),data:o.data}:void 0]}trimFirstNode(){const e=this.firstNode();if(e){const t=this.edges.filter((t=>t.source===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}trimLastNode(){const e=this.lastNode();if(e){const t=this.edges.filter((t=>t.target===e.id));1!==Object.keys(this.nodes).length&&1!==t.length||this.removeNode(e)}}drawMermaid(e){const{withStyles:t,curveStyle:a,nodeColors:r={start:"#ffdfba",end:"#baffc9",other:"#fad7de"},wrapLabelNWords:n}=e??{},i={};for(const e of Object.values(this.nodes))i[e.id]=o(e);const l=this.firstNode(),d=l?o(l):void 0,p=this.lastNode(),u=p?o(p):void 0;return(0,s.drawMermaid)(i,this.edges,{firstNodeLabel:d,lastNodeLabel:u,withStyles:t,curveStyle:a,nodeColors:r,wrapLabelNWords:n})}async drawMermaidPng(e){const t=this.drawMermaid(e);return(0,s.drawMermaidPng)(t,{backgroundColor:e?.backgroundColor})}}},16370:(e,t)=>{"use strict";function a(e){return e.replace(/[^a-zA-Z-_0-9]/g,"_")}function r(e,t){return[t[e.source]??e.source,t[e.target]??e.target]}Object.defineProperty(t,"__esModule",{value:!0}),t.drawMermaidPng=t.drawMermaid=void 0,t.drawMermaid=function(e,t,n){const{firstNodeLabel:i,lastNodeLabel:s,nodeColors:o,withStyles:l=!0,curveStyle:d="linear",wrapLabelNWords:p=9}=n??{};let u=l?`%%{init: {'flowchart': {'curve': '${d}'}}}%%\ngraph TD;\n`:"graph TD;\n";if(l){const t="default",r={[t]:"{0}([{1}]):::otherclass"};void 0!==i&&(r[i]="{0}[{0}]:::startclass"),void 0!==s&&(r[s]="{0}[{0}]:::endclass");for(const n of Object.values(e)){const e=r[n]??r[t],i=a(n),s=n.split(":"),o=s[s.length-1];u+=`\t${e.replace(/\{0\}/g,i).replace(/\{1\}/g,o)};\n`}}let c="";for(const n of t){const t=n.source.includes(":")?n.source.split(":")[0]:void 0,i=n.target.includes(":")?n.target.split(":")[0]:void 0;""===c||c===t&&c===i||(u+="\tend\n",c=""),""===c&&void 0!==t&&t===i&&(u=`\tsubgraph ${t}\n`,c=t);const[s,o]=r(n,e);let l="";if(void 0!==n.data){let e=n.data;const t=e.split(" ");t.length>p&&(e=t.reduce(((e,t,a)=>(a%p==0&&e.push(""),e[e.length-1]+=` ${t}`,e)),[]).join("<br>")),l=n.conditional?` -. ${e} .-> `:` -- ${e} --\x3e `}else l=n.conditional?" -.-> ":" --\x3e ";u+=`\t${a(s)}${l}${a(o)};\n`}return""!==c&&(u+="end\n"),l&&void 0!==o&&(u+=function(e){let t="";for(const[a,r]of Object.entries(e))t+=`\tclassDef ${a}class fill:${r};\n`;return t}(o)),u},t.drawMermaidPng=async function(e,t){let{backgroundColor:a="white"}=t??{};const r=btoa(e);void 0!==a&&(/^#(?:[0-9a-fA-F]{3}){1,2}$/.test(a)||(a=`!${a}`));const n=`https://mermaid.ink/img/${r}?bgColor=${a}`,i=await fetch(n);if(!i.ok)throw new Error(["Failed to render the graph using the Mermaid.INK API.",`Status code: ${i.status}`,`Status text: ${i.statusText}`].join("\n"));return await i.blob()}},93602:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnableWithMessageHistory=void 0;const r=a(14190),n=a(10969),i=a(36516);class s extends n.RunnableBinding{constructor(e){let t=new n.RunnableLambda({func:(e,t)=>this._enterHistory(e,t??{})}).withConfig({runName:"loadHistory"});const a=e.historyMessagesKey??e.inputMessagesKey;a&&(t=i.RunnablePassthrough.assign({[a]:t}).withConfig({runName:"insertHistory"}));const r=t.pipe(e.runnable.withListeners({onEnd:(e,t)=>this._exitHistory(e,t??{})})).withConfig({runName:"RunnableWithMessageHistory"}),s=e.config??{};super({...e,config:s,bound:r}),Object.defineProperty(this,"runnable",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"historyMessagesKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"getMessageHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnable=e.runnable,this.getMessageHistory=e.getMessageHistory,this.inputMessagesKey=e.inputMessagesKey,this.outputMessagesKey=e.outputMessagesKey,this.historyMessagesKey=e.historyMessagesKey}_getInputMessages(e){let t;if("object"!=typeof e||Array.isArray(e)||(0,r.isBaseMessage)(e))t=e;else{let a;a=this.inputMessagesKey?this.inputMessagesKey:1===Object.keys(e).length?Object.keys(e)[0]:"input",t=Array.isArray(e[a])&&Array.isArray(e[a][0])?e[a][0]:e[a]}if("string"==typeof t)return[new r.HumanMessage(t)];if(Array.isArray(t))return t;if((0,r.isBaseMessage)(t))return[t];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages.\nGot ${JSON.stringify(t,null,2)}`)}_getOutputMessages(e){let t;if(Array.isArray(e)||(0,r.isBaseMessage)(e)||"string"==typeof e)t=e;else{let a;a=void 0!==this.outputMessagesKey?this.outputMessagesKey:1===Object.keys(e).length?Object.keys(e)[0]:"output",t=void 0!==e.generations?e.generations[0][0].message:e[a]}if("string"==typeof t)return[new r.AIMessage(t)];if(Array.isArray(t))return t;if((0,r.isBaseMessage)(t))return[t];throw new Error(`Expected a string, BaseMessage, or array of BaseMessages. Received: ${JSON.stringify(t,null,2)}`)}async _enterHistory(e,t){const a=t?.configurable?.messageHistory,r=await a.getMessages();return void 0===this.historyMessagesKey?r.concat(this._getInputMessages(e)):r}async _exitHistory(e,t){const a=t.configurable?.messageHistory;let r;r=Array.isArray(e.inputs)&&Array.isArray(e.inputs[0])?e.inputs[0]:e.inputs;let n=this._getInputMessages(r);if(void 0===this.historyMessagesKey){const e=await a.getMessages();n=n.slice(e.length)}const i=e.outputs;if(!i)throw new Error(`Output values from 'Run' undefined. Run: ${JSON.stringify(e,null,2)}`);const s=this._getOutputMessages(i);await a.addMessages([...n,...s])}async _mergeConfig(...e){const t=await super._mergeConfig(...e);if(!t.configurable||!t.configurable.sessionId){const e={[this.inputMessagesKey??"input"]:"foo"},t={configurable:{sessionId:"123"}};throw new Error(`sessionId is required. Pass it in as part of the config argument to .invoke() or .stream()\neg. chain.invoke(${JSON.stringify(e)}, ${JSON.stringify(t)})`)}const{sessionId:a}=t.configurable;return t.configurable.messageHistory=await this.getMessageHistory(a),t}}t.RunnableWithMessageHistory=s},37534:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnableWithMessageHistory=t.RunnableBranch=t.RouterRunnable=t.RunnablePassthrough=t.mergeConfigs=t.ensureConfig=t.patchConfig=t.getCallbackManagerForConfig=t._coerceToRunnable=t.RunnablePick=t.RunnableAssign=t.RunnableWithFallbacks=t.RunnableLambda=t.RunnableParallel=t.RunnableMap=t.RunnableSequence=t.RunnableRetry=t.RunnableEach=t.RunnableBinding=t.Runnable=void 0;var r=a(10969);Object.defineProperty(t,"Runnable",{enumerable:!0,get:function(){return r.Runnable}}),Object.defineProperty(t,"RunnableBinding",{enumerable:!0,get:function(){return r.RunnableBinding}}),Object.defineProperty(t,"RunnableEach",{enumerable:!0,get:function(){return r.RunnableEach}}),Object.defineProperty(t,"RunnableRetry",{enumerable:!0,get:function(){return r.RunnableRetry}}),Object.defineProperty(t,"RunnableSequence",{enumerable:!0,get:function(){return r.RunnableSequence}}),Object.defineProperty(t,"RunnableMap",{enumerable:!0,get:function(){return r.RunnableMap}}),Object.defineProperty(t,"RunnableParallel",{enumerable:!0,get:function(){return r.RunnableParallel}}),Object.defineProperty(t,"RunnableLambda",{enumerable:!0,get:function(){return r.RunnableLambda}}),Object.defineProperty(t,"RunnableWithFallbacks",{enumerable:!0,get:function(){return r.RunnableWithFallbacks}}),Object.defineProperty(t,"RunnableAssign",{enumerable:!0,get:function(){return r.RunnableAssign}}),Object.defineProperty(t,"RunnablePick",{enumerable:!0,get:function(){return r.RunnablePick}}),Object.defineProperty(t,"_coerceToRunnable",{enumerable:!0,get:function(){return r._coerceToRunnable}});var n=a(5272);Object.defineProperty(t,"getCallbackManagerForConfig",{enumerable:!0,get:function(){return n.getCallbackManagerForConfig}}),Object.defineProperty(t,"patchConfig",{enumerable:!0,get:function(){return n.patchConfig}}),Object.defineProperty(t,"ensureConfig",{enumerable:!0,get:function(){return n.ensureConfig}}),Object.defineProperty(t,"mergeConfigs",{enumerable:!0,get:function(){return n.mergeConfigs}});var i=a(36516);Object.defineProperty(t,"RunnablePassthrough",{enumerable:!0,get:function(){return i.RunnablePassthrough}});var s=a(48949);Object.defineProperty(t,"RouterRunnable",{enumerable:!0,get:function(){return s.RouterRunnable}});var o=a(45226);Object.defineProperty(t,"RunnableBranch",{enumerable:!0,get:function(){return o.RunnableBranch}});var l=a(93602);Object.defineProperty(t,"RunnableWithMessageHistory",{enumerable:!0,get:function(){return l.RunnableWithMessageHistory}})},27504:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.consumeAsyncIterableInContext=t.consumeIteratorInContext=t.isAsyncIterable=t.isIterator=t.isIterableIterator=void 0;const r=a(84960);t.isIterableIterator=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.iterator]&&"function"==typeof e.next},t.isIterator=e=>null!=e&&"object"==typeof e&&"next"in e&&"function"==typeof e.next,t.isAsyncIterable=function(e){return"object"==typeof e&&null!==e&&"function"==typeof e[Symbol.asyncIterator]},t.consumeIteratorInContext=function*(e,t){const a=r.AsyncLocalStorageProviderSingleton.getInstance();for(;;){const{value:r,done:n}=a.run(e,t.next.bind(t));if(n)break;yield r}},t.consumeAsyncIterableInContext=async function*(e,t){const a=r.AsyncLocalStorageProviderSingleton.getInstance(),n=t[Symbol.asyncIterator]();for(;;){const{value:r,done:i}=await a.run(e,n.next.bind(t));if(i)break;yield r}}},36516:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RunnablePassthrough=void 0;const r=a(28033),n=a(10969),i=a(5272);class s extends n.Runnable{static lc_name(){return"RunnablePassthrough"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),e&&(this.func=e.func)}async invoke(e,t){const a=(0,i.ensureConfig)(t);return this.func&&await this.func(e,a),this._callWithConfig((e=>Promise.resolve(e)),e,a)}async*transform(e,t){const a=(0,i.ensureConfig)(t);let n,s=!0;for await(const t of this._transformStreamWithConfig(e,(e=>e),a))if(yield t,s)if(void 0===n)n=t;else try{n=(0,r.concat)(n,t)}catch{n=void 0,s=!1}this.func&&void 0!==n&&await this.func(n,a)}static assign(e){return new n.RunnableAssign(new n.RunnableMap({steps:e}))}}t.RunnablePassthrough=s},48949:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterRunnable=void 0;const r=a(10969),n=a(5272);class i extends r.Runnable{static lc_name(){return"RouterRunnable"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain_core","runnables"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"runnables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.runnables=e.runnables}async invoke(e,t){const{key:a,input:r}=e,i=this.runnables[a];if(void 0===i)throw new Error(`No runnable associated with key "${a}".`);return i.invoke(r,(0,n.ensureConfig)(t))}async batch(e,t,a){const r=e.map((e=>e.key)),n=e.map((e=>e.input));if(void 0!==r.find((e=>void 0===this.runnables[e])))throw new Error("One or more keys do not have a corresponding runnable.");const i=r.map((e=>this.runnables[e])),s=this._getOptionsList(t??{},e.length),o=s[0]?.maxConcurrency??a?.maxConcurrency,l=o&&o>0?o:e.length,d=[];for(let e=0;e<n.length;e+=l){const t=n.slice(e,e+l).map(((e,t)=>i[t].invoke(e,s[t]))),a=await Promise.all(t);d.push(a)}return d.flat()}async stream(e,t){const{key:a,input:r}=e,n=this.runnables[a];if(void 0===n)throw new Error(`No runnable associated with key "${a}".`);return n.stream(r,t)}}t.RouterRunnable=i},36161:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._RootEventFilter=t.isRunnableInterface=void 0,t.isRunnableInterface=function(e){return!!e&&e.lc_runnable},t._RootEventFilter=class{constructor(e){Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.includeNames=e.includeNames,this.includeTypes=e.includeTypes,this.includeTags=e.includeTags,this.excludeNames=e.excludeNames,this.excludeTypes=e.excludeTypes,this.excludeTags=e.excludeTags}includeEvent(e,t){let a=void 0===this.includeNames&&void 0===this.includeTypes&&void 0===this.includeTags;const r=e.tags??[];return void 0!==this.includeNames&&(a=a||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(a=a||this.includeTypes.includes(t)),void 0!==this.includeTags&&(a=a||r.some((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(a=a&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(a=a&&!this.excludeTypes.includes(t)),void 0!==this.excludeTags&&(a=a&&r.every((e=>!this.excludeTags?.includes(e)))),a}}},80106:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToHttpEventStream=void 0;const r=a(28033);t.convertToHttpEventStream=function(e){const t=new TextEncoder,a=new ReadableStream({async start(a){for await(const r of e)a.enqueue(t.encode(`event: data\ndata: ${JSON.stringify(r)}\n\n`));a.enqueue(t.encode("event: end\n\n")),a.close()}});return r.IterableReadableStream.fromReadableStream(a)}},84960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncLocalStorageProviderSingleton=t.MockAsyncLocalStorage=void 0;class a{getStore(){}run(e,t){return t()}}t.MockAsyncLocalStorage=a;const r=new a,n=new class{getInstance(){return globalThis.__lc_tracing_async_local_storage??r}initializeGlobalInstance(e){void 0===globalThis.__lc_tracing_async_local_storage&&(globalThis.__lc_tracing_async_local_storage=e)}};t.AsyncLocalStorageProviderSingleton=n},64844:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tool=t.BaseToolkit=t.DynamicStructuredTool=t.DynamicTool=t.Tool=t.StructuredTool=t.ToolInputParsingException=void 0;const r=a(21614),n=a(31413),i=a(37738),s=a(5272);class o extends Error{constructor(e,t){super(e),Object.defineProperty(this,"output",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.output=t}}t.ToolInputParsingException=o;class l extends i.BaseLangChain{get lc_namespace(){return["langchain","tools"]}constructor(e){super(e??{}),Object.defineProperty(this,"returnDirect",{enumerable:!0,configurable:!0,writable:!0,value:!1})}async invoke(e,t){return this.call(e,(0,s.ensureConfig)(t))}async call(e,t,a){let r;try{r=await this.schema.parseAsync(e)}catch(t){throw new o("Received tool input did not match expected schema",JSON.stringify(e))}const i=(0,n.parseCallbackConfigArg)(t),s=await n.CallbackManager.configure(i.callbacks,this.callbacks,i.tags||a,this.tags,i.metadata,this.metadata,{verbose:this.verbose}),l=await(s?.handleToolStart(this.toJSON(),"string"==typeof r?r:JSON.stringify(r),i.runId,void 0,void 0,void 0,i.runName));let d;delete i.runId;try{d=await this._call(r,l,i)}catch(e){throw await(l?.handleToolError(e)),e}return await(l?.handleToolEnd(d)),d}}t.StructuredTool=l;class d extends l{constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:r.z.object({input:r.z.string().optional()}).transform((e=>e.input))})}call(e,t){return super.call("string"!=typeof e&&e?e:{input:e},t)}}t.Tool=d,t.DynamicTool=class extends d{static lc_name(){return"DynamicTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect}async call(e,t){const a=(0,n.parseCallbackConfigArg)(t);return void 0===a.runName&&(a.runName=this.name),super.call(e,a)}async _call(e,t,a){return this.func(e,t,a)}};class p extends l{static lc_name(){return"DynamicStructuredTool"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"func",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=e.name,this.description=e.description,this.func=e.func,this.returnDirect=e.returnDirect??this.returnDirect,this.schema=e.schema}async call(e,t,a){const r=(0,n.parseCallbackConfigArg)(t);return void 0===r.runName&&(r.runName=this.name),super.call(e,r,a)}_call(e,t,a){return this.func(e,t,a)}}t.DynamicStructuredTool=p,t.BaseToolkit=class{getTools(){return this.tools}},t.tool=function(e,t){const a=t.schema??r.z.object({input:r.z.string().optional()}).transform((e=>e.input)),n=t.description??a.description??`${t.name} tool`;return new p({name:t.name,description:n,schema:a,func:async(t,a,r)=>e(t,r)})}},18233:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseTracer=void 0;const r=a(12031);function n(e,t){return e&&!Array.isArray(e)&&"object"==typeof e?e:{[t]:e}}class i extends r.BaseCallbackHandler{constructor(e){super(...arguments),Object.defineProperty(this,"runMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map})}copy(){return this}stringifyError(e){return e instanceof Error?e.message+(e?.stack?`\n\n${e.stack}`:""):"string"==typeof e?e:`${e}`}_addChildRun(e,t){e.child_runs.push(t)}async _startTrace(e){const t=function(e,t,a){const r=a.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`.replace(/[-:.]/g,"")+t}(e.start_time,e.id,e.execution_order),a={...e};if(void 0!==a.parent_run_id){const e=this.runMap.get(a.parent_run_id);e&&(this._addChildRun(e,a),e.child_execution_order=Math.max(e.child_execution_order,a.child_execution_order),a.trace_id=e.trace_id,void 0!==e.dotted_order&&(a.dotted_order=[e.dotted_order,t].join(".")))}else a.trace_id=a.id,a.dotted_order=t;this.runMap.set(a.id,a),await(this.onRunCreate?.(a))}async _endTrace(e){const t=void 0!==e.parent_run_id&&this.runMap.get(e.parent_run_id);t?t.child_execution_order=Math.max(t.child_execution_order,e.child_execution_order):await this.persistRun(e),this.runMap.delete(e.id),await(this.onRunUpdate?.(e))}_getExecutionOrder(e){const t=void 0!==e&&this.runMap.get(e);return t?t.child_execution_order+1:1}async handleLLMStart(e,t,a,r,n,i,s,o){const l=this._getExecutionOrder(r),d=Date.now(),p=s?{...n,metadata:s}:n,u={id:a,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{prompts:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:p??{},tags:i||[]};return await this._startTrace(u),await(this.onLLMStart?.(u)),u}async handleChatModelStart(e,t,a,r,n,i,s,o){const l=this._getExecutionOrder(r),d=Date.now(),p=s?{...n,metadata:s}:n,u={id:a,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:{messages:t},execution_order:l,child_runs:[],child_execution_order:l,run_type:"llm",extra:p??{},tags:i||[]};return await this._startTrace(u),await(this.onLLMStart?.(u)),u}async handleLLMEnd(e,t){const a=this.runMap.get(t);if(!a||"llm"!==a?.run_type)throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.outputs=e,a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),await(this.onLLMEnd?.(a)),await this._endTrace(a),a}async handleLLMError(e,t){const a=this.runMap.get(t);if(!a||"llm"!==a?.run_type)throw new Error("No LLM run to end.");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),await(this.onLLMError?.(a)),await this._endTrace(a),a}async handleChainStart(e,t,a,r,n,i,s,o){const l=this._getExecutionOrder(r),d=Date.now(),p={id:a,name:o??e.id[e.id.length-1],parent_run_id:r,start_time:d,serialized:e,events:[{name:"start",time:new Date(d).toISOString()}],inputs:t,execution_order:l,child_execution_order:l,run_type:s??"chain",child_runs:[],extra:i?{metadata:i}:{},tags:n||[]};return await this._startTrace(p),await(this.onChainStart?.(p)),p}async handleChainEnd(e,t,a,r,i){const s=this.runMap.get(t);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.outputs=n(e,"output"),s.events.push({name:"end",time:new Date(s.end_time).toISOString()}),void 0!==i?.inputs&&(s.inputs=n(i.inputs,"input")),await(this.onChainEnd?.(s)),await this._endTrace(s),s}async handleChainError(e,t,a,r,i){const s=this.runMap.get(t);if(!s)throw new Error("No chain run to end.");return s.end_time=Date.now(),s.error=this.stringifyError(e),s.events.push({name:"error",time:new Date(s.end_time).toISOString()}),void 0!==i?.inputs&&(s.inputs=n(i.inputs,"input")),await(this.onChainError?.(s)),await this._endTrace(s),s}async handleToolStart(e,t,a,r,n,i,s){const o=this._getExecutionOrder(r),l=Date.now(),d={id:a,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{input:t},execution_order:o,child_execution_order:o,run_type:"tool",child_runs:[],extra:i?{metadata:i}:{},tags:n||[]};return await this._startTrace(d),await(this.onToolStart?.(d)),d}async handleToolEnd(e,t){const a=this.runMap.get(t);if(!a||"tool"!==a?.run_type)throw new Error("No tool run to end");return a.end_time=Date.now(),a.outputs={output:e},a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),await(this.onToolEnd?.(a)),await this._endTrace(a),a}async handleToolError(e,t){const a=this.runMap.get(t);if(!a||"tool"!==a?.run_type)throw new Error("No tool run to end");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),await(this.onToolError?.(a)),await this._endTrace(a),a}async handleAgentAction(e,t){const a=this.runMap.get(t);if(!a||"chain"!==a?.run_type)return;const r=a;r.actions=r.actions||[],r.actions.push(e),r.events.push({name:"agent_action",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentAction?.(a))}async handleAgentEnd(e,t){const a=this.runMap.get(t);a&&"chain"===a?.run_type&&(a.events.push({name:"agent_end",time:(new Date).toISOString(),kwargs:{action:e}}),await(this.onAgentEnd?.(a)))}async handleRetrieverStart(e,t,a,r,n,i,s){const o=this._getExecutionOrder(r),l=Date.now(),d={id:a,name:s??e.id[e.id.length-1],parent_run_id:r,start_time:l,serialized:e,events:[{name:"start",time:new Date(l).toISOString()}],inputs:{query:t},execution_order:o,child_execution_order:o,run_type:"retriever",child_runs:[],extra:i?{metadata:i}:{},tags:n||[]};return await this._startTrace(d),await(this.onRetrieverStart?.(d)),d}async handleRetrieverEnd(e,t){const a=this.runMap.get(t);if(!a||"retriever"!==a?.run_type)throw new Error("No retriever run to end");return a.end_time=Date.now(),a.outputs={documents:e},a.events.push({name:"end",time:new Date(a.end_time).toISOString()}),await(this.onRetrieverEnd?.(a)),await this._endTrace(a),a}async handleRetrieverError(e,t){const a=this.runMap.get(t);if(!a||"retriever"!==a?.run_type)throw new Error("No retriever run to end");return a.end_time=Date.now(),a.error=this.stringifyError(e),a.events.push({name:"error",time:new Date(a.end_time).toISOString()}),await(this.onRetrieverError?.(a)),await this._endTrace(a),a}async handleText(e,t){const a=this.runMap.get(t);a&&"chain"===a?.run_type&&(a.events.push({name:"text",time:(new Date).toISOString(),kwargs:{text:e}}),await(this.onText?.(a)))}async handleLLMNewToken(e,t,a,r,n,i){const s=this.runMap.get(a);if(!s||"llm"!==s?.run_type)throw new Error('Invalid "runId" provided to "handleLLMNewToken" callback.');return s.events.push({name:"new_token",time:(new Date).toISOString(),kwargs:{token:e,idx:t,chunk:i?.chunk}}),await(this.onLLMNewToken?.(s,e,{chunk:i?.chunk})),s}}t.BaseTracer=i},88813:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleCallbackHandler=void 0;const n=r(a(94083)),i=a(18233);function s(e,t){return`${e.open}${t}${e.close}`}function o(e,t){try{return JSON.stringify(e,null,2)}catch(e){return t}}function l(e){if(!e.end_time)return"";const t=e.end_time-e.start_time;return t<1e3?`${t}ms`:`${(t/1e3).toFixed(2)}s`}const{color:d}=n.default;class p extends i.BaseTracer{constructor(){super(...arguments),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"console_callback_handler"})}persistRun(e){return Promise.resolve()}getParents(e){const t=[];let a=e;for(;a.parent_run_id;){const e=this.runMap.get(a.parent_run_id);if(!e)break;t.push(e),a=e}return t}getBreadcrumbs(e){const t=[...this.getParents(e).reverse(),e].map(((e,t,a)=>{const r=`${e.execution_order}:${e.run_type}:${e.name}`;return t===a.length-1?s(n.default.bold,r):r})).join(" > ");return s(d.grey,t)}onChainStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.green,"[chain/start]")} [${t}] Entering Chain run with input: ${o(e.inputs,"[inputs]")}`)}onChainEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.cyan,"[chain/end]")} [${t}] [${l(e)}] Exiting Chain run with output: ${o(e.outputs,"[outputs]")}`)}onChainError(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.red,"[chain/error]")} [${t}] [${l(e)}] Chain run errored with error: ${o(e.error,"[error]")}`)}onLLMStart(e){const t=this.getBreadcrumbs(e),a="prompts"in e.inputs?{prompts:e.inputs.prompts.map((e=>e.trim()))}:e.inputs;console.log(`${s(d.green,"[llm/start]")} [${t}] Entering LLM run with input: ${o(a,"[inputs]")}`)}onLLMEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.cyan,"[llm/end]")} [${t}] [${l(e)}] Exiting LLM run with output: ${o(e.outputs,"[response]")}`)}onLLMError(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.red,"[llm/error]")} [${t}] [${l(e)}] LLM run errored with error: ${o(e.error,"[error]")}`)}onToolStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.green,"[tool/start]")} [${t}] Entering Tool run with input: "${e.inputs.input?.trim()}"`)}onToolEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.cyan,"[tool/end]")} [${t}] [${l(e)}] Exiting Tool run with output: "${e.outputs?.output?.trim()}"`)}onToolError(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.red,"[tool/error]")} [${t}] [${l(e)}] Tool run errored with error: ${o(e.error,"[error]")}`)}onRetrieverStart(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.green,"[retriever/start]")} [${t}] Entering Retriever run with input: ${o(e.inputs,"[inputs]")}`)}onRetrieverEnd(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.cyan,"[retriever/end]")} [${t}] [${l(e)}] Exiting Retriever run with output: ${o(e.outputs,"[outputs]")}`)}onRetrieverError(e){const t=this.getBreadcrumbs(e);console.log(`${s(d.red,"[retriever/error]")} [${t}] [${l(e)}] Retriever run errored with error: ${o(e.error,"[error]")}`)}onAgentAction(e){const t=e,a=this.getBreadcrumbs(e);console.log(`${s(d.blue,"[agent/action]")} [${a}] Agent selected action: ${o(t.actions[t.actions.length-1],"[action]")}`)}}t.ConsoleCallbackHandler=p},2821:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventStreamCallbackHandler=t.isStreamEventsHandler=void 0;const r=a(18233),n=a(28033),i=a(6796),s=a(50383);function o({name:e,serialized:t}){return void 0!==e?e:void 0!==t?.name?t.name:void 0!==t?.id&&Array.isArray(t?.id)?t.id[t.id.length-1]:"Unnamed"}t.isStreamEventsHandler=e=>"event_stream_tracer"===e.name;class l extends r.BaseTracer{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"runInfoMap",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"tappedPromises",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"event_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=n.IterableReadableStream.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){const t=e.tags??[];let a=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(a=a||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(a=a||this.includeTypes.includes(e.runType)),void 0!==this.includeTags&&(a=a||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(a=a&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(a=a&&!this.excludeTypes.includes(e.runType)),void 0!==this.excludeTags&&(a=a&&t.every((e=>!this.excludeTags?.includes(e)))),a}async*tapOutputIterable(e,t){const a=await t.next();if(a.done)return;const r=this.runInfoMap.get(e);if(void 0===r)return void(yield a.value);let n=this.tappedPromises.get(e);if(void 0===n){let i;n=new Promise((e=>{i=e})),this.tappedPromises.set(e,n);try{const n={event:`on_${r.runType}_stream`,run_id:e,name:r.name,tags:r.tags,metadata:r.metadata,data:{}};await this.send({...n,data:{chunk:a.value}},r),yield a.value;for await(const e of t)"tool"!==r.runType&&"retriever"!==r.runType&&await this.send({...n,data:{chunk:e}},r),yield e}finally{i()}}else{yield a.value;for await(const e of t)yield e}}async send(e,t){this._includeRun(t)&&await this.writer.write(e)}async sendEndEvent(e,t){const a=this.tappedPromises.get(e.run_id);void 0!==a?a.then((()=>{this.send(e,t)})):await this.send(e,t)}async onLLMStart(e){const t=o(e),a=void 0!==e.inputs.messages?"chat_model":"llm",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:a,inputs:e.inputs};this.runInfoMap.set(e.id,r);const n=`on_${a}_start`;await this.send({event:n,data:{input:e.inputs},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onLLMNewToken(e,t,a){const r=this.runInfoMap.get(e.id);let n,o;if(void 0===r)throw new Error(`onLLMNewToken: Run ID ${e.id} not found in run map.`);if("chat_model"===r.runType)o="on_chat_model_stream",n=void 0===a?.chunk?new i.AIMessageChunk({content:t}):a.chunk.message;else{if("llm"!==r.runType)throw new Error(`Unexpected run type ${r.runType}`);o="on_llm_stream",n=void 0===a?.chunk?new s.GenerationChunk({text:t}):a.chunk}await this.send({event:o,data:{chunk:n},run_id:e.id,name:r.name,tags:r.tags,metadata:r.metadata},r)}async onLLMEnd(e){const t=this.runInfoMap.get(e.id);let a;if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onLLMEnd: Run ID ${e.id} not found in run map.`);const r=e.outputs?.generations;let n;if("chat_model"===t.runType){for(const e of r??[]){if(void 0!==n)break;n=e[0]?.message}a="on_chat_model_end"}else{if("llm"!==t.runType)throw new Error(`onLLMEnd: Unexpected run type: ${t.runType}`);n={generations:r?.map((e=>e.map((e=>({text:e.text,generationInfo:e.generationInfo}))))),llmOutput:e.outputs?.llmOutput??{}},a="on_llm_end"}await this.sendEndEvent({event:a,data:{output:n,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onChainStart(e){const t=o(e),a=e.run_type??"chain",r={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:e.run_type};let n={};""===e.inputs.input&&1===Object.keys(e.inputs).length?(n={},r.inputs={}):void 0!==e.inputs.input?(n.input=e.inputs.input,r.inputs=e.inputs.input):(n.input=e.inputs,r.inputs=e.inputs),this.runInfoMap.set(e.id,r),await this.send({event:`on_${a}_start`,data:n,name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},r)}async onChainEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onChainEnd: Run ID ${e.id} not found in run map.`);const a=`on_${e.run_type}_end`,r=e.inputs??t.inputs??{},n={output:e.outputs?.output??e.outputs,input:r};r.input&&1===Object.keys(r).length&&(n.input=r.input,t.inputs=r.input),await this.sendEndEvent({event:a,data:n,run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata??{}},t)}async onToolStart(e){const t=o(e),a={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"tool",inputs:e.inputs??{}};this.runInfoMap.set(e.id,a),await this.send({event:"on_tool_start",data:{input:e.inputs??{}},name:t,run_id:e.id,tags:e.tags??[],metadata:e.extra?.metadata??{}},a)}async onToolEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onToolEnd: Run ID ${e.id} not found in run map.`);if(void 0===t.inputs)throw new Error(`onToolEnd: Run ID ${e.id} is a tool call, and is expected to have traced inputs.`);const a=void 0===e.outputs?.output?e.outputs:e.outputs.output;await this.sendEndEvent({event:"on_tool_end",data:{output:a,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async onRetrieverStart(e){const t=o(e),a={tags:e.tags??[],metadata:e.extra?.metadata??{},name:t,runType:"retriever",inputs:{query:e.inputs.query}};this.runInfoMap.set(e.id,a),await this.send({event:"on_retriever_start",data:{input:{query:e.inputs.query}},name:t,tags:e.tags??[],run_id:e.id,metadata:e.extra?.metadata??{}},a)}async onRetrieverEnd(e){const t=this.runInfoMap.get(e.id);if(this.runInfoMap.delete(e.id),void 0===t)throw new Error(`onRetrieverEnd: Run ID ${e.id} not found in run map.`);await this.sendEndEvent({event:"on_retriever_end",data:{output:e.outputs?.documents??e.outputs,input:t.inputs},run_id:e.id,name:t.name,tags:t.tags,metadata:t.metadata},t)}async finish(){const e=[...this.tappedPromises.values()];Promise.all(e).finally((()=>{this.writer.close()}))}}t.EventStreamCallbackHandler=l},403:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogStreamCallbackHandler=t.isLogStreamHandler=t.RunLog=t.RunLogPatch=void 0;const r=a(78266),n=a(18233),i=a(28033),s=a(6796);class o{constructor(e){Object.defineProperty(this,"ops",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.ops=e.ops??[]}concat(e){const t=this.ops.concat(e.ops),a=(0,r.applyPatch)({},t);return new l({ops:t,state:a[a.length-1].newDocument})}}t.RunLogPatch=o;class l extends o{constructor(e){super(e),Object.defineProperty(this,"state",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.state=e.state}concat(e){const t=this.ops.concat(e.ops),a=(0,r.applyPatch)(this.state,e.ops);return new l({ops:t,state:a[a.length-1].newDocument})}static fromRunLogPatch(e){const t=(0,r.applyPatch)({},e.ops);return new l({ops:e.ops,state:t[t.length-1].newDocument})}}async function d(e,t){if("original"===t)throw new Error("Do not assign inputs with original schema drop the key for now. When inputs are added to streamLog they should be added with standardized schema for streaming events.");const{inputs:a}=e;return["retriever","llm","prompt"].includes(e.run_type)?a:1!==Object.keys(a).length||""!==a?.input?a.input:void 0}async function p(e,t){const{outputs:a}=e;return"original"===t||["retriever","llm","prompt"].includes(e.run_type)?a:void 0!==a&&1===Object.keys(a).length&&void 0!==a?.output?a.output:a}t.RunLog=l,t.isLogStreamHandler=e=>"log_stream_tracer"===e.name;class u extends n.BaseTracer{constructor(e){super({_awaitHandler:!0,...e}),Object.defineProperty(this,"autoClose",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"includeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"includeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeNames",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTypes",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"excludeTags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_schemaFormat",{enumerable:!0,configurable:!0,writable:!0,value:"original"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"keyMapByRunId",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"counterMapByRunName",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"transformStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"writer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"receiveStream",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"log_stream_tracer"}),this.autoClose=e?.autoClose??!0,this.includeNames=e?.includeNames,this.includeTypes=e?.includeTypes,this.includeTags=e?.includeTags,this.excludeNames=e?.excludeNames,this.excludeTypes=e?.excludeTypes,this.excludeTags=e?.excludeTags,this._schemaFormat=e?._schemaFormat??this._schemaFormat,this.transformStream=new TransformStream,this.writer=this.transformStream.writable.getWriter(),this.receiveStream=i.IterableReadableStream.fromReadableStream(this.transformStream.readable)}[Symbol.asyncIterator](){return this.receiveStream}async persistRun(e){}_includeRun(e){if(e.id===this.rootId)return!1;const t=e.tags??[];let a=void 0===this.includeNames&&void 0===this.includeTags&&void 0===this.includeTypes;return void 0!==this.includeNames&&(a=a||this.includeNames.includes(e.name)),void 0!==this.includeTypes&&(a=a||this.includeTypes.includes(e.run_type)),void 0!==this.includeTags&&(a=a||void 0!==t.find((e=>this.includeTags?.includes(e)))),void 0!==this.excludeNames&&(a=a&&!this.excludeNames.includes(e.name)),void 0!==this.excludeTypes&&(a=a&&!this.excludeTypes.includes(e.run_type)),void 0!==this.excludeTags&&(a=a&&t.every((e=>!this.excludeTags?.includes(e)))),a}async*tapOutputIterable(e,t){for await(const a of t){if(e!==this.rootId){const t=this.keyMapByRunId[e];t&&await this.writer.write(new o({ops:[{op:"add",path:`/logs/${t}/streamed_output/-`,value:a}]}))}yield a}}async onRunCreate(e){if(void 0===this.rootId&&(this.rootId=e.id,await this.writer.write(new o({ops:[{op:"replace",path:"",value:{id:e.id,name:e.name,type:e.run_type,streamed_output:[],final_output:void 0,logs:{}}}]}))),!this._includeRun(e))return;void 0===this.counterMapByRunName[e.name]&&(this.counterMapByRunName[e.name]=0),this.counterMapByRunName[e.name]+=1;const t=this.counterMapByRunName[e.name];this.keyMapByRunId[e.id]=1===t?e.name:`${e.name}:${t}`;const a={id:e.id,name:e.name,type:e.run_type,tags:e.tags??[],metadata:e.extra?.metadata??{},start_time:new Date(e.start_time).toISOString(),streamed_output:[],streamed_output_str:[],final_output:void 0,end_time:void 0};"streaming_events"===this._schemaFormat&&(a.inputs=await d(e,this._schemaFormat)),await this.writer.write(new o({ops:[{op:"add",path:`/logs/${this.keyMapByRunId[e.id]}`,value:a}]}))}async onRunUpdate(e){try{const t=this.keyMapByRunId[e.id];if(void 0===t)return;const a=[];"streaming_events"===this._schemaFormat&&a.push({op:"replace",path:`/logs/${t}/inputs`,value:await d(e,this._schemaFormat)}),a.push({op:"add",path:`/logs/${t}/final_output`,value:await p(e,this._schemaFormat)}),void 0!==e.end_time&&a.push({op:"add",path:`/logs/${t}/end_time`,value:new Date(e.end_time).toISOString()});const r=new o({ops:a});await this.writer.write(r)}finally{if(e.id===this.rootId){const t=new o({ops:[{op:"replace",path:"/final_output",value:await p(e,this._schemaFormat)}]});await this.writer.write(t),this.autoClose&&await this.writer.close()}}}async onLLMNewToken(e,t,a){const r=this.keyMapByRunId[e.id];if(void 0===r)return;let n;var i;void 0!==e.inputs.messages?(i=a?.chunk,n=void 0!==i&&void 0!==i.message?a?.chunk:new s.AIMessageChunk(t)):n=t;const l=new o({ops:[{op:"add",path:`/logs/${r}/streamed_output_str/-`,value:t},{op:"add",path:`/logs/${r}/streamed_output/-`,value:n}]});await this.writer.write(l)}}t.LogStreamCallbackHandler=u},82133:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RootListenersTracer=void 0;const r=a(18233);class n extends r.BaseTracer{constructor({config:e,onStart:t,onEnd:a,onError:r}){super({_awaitHandler:!0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RootListenersTracer"}),Object.defineProperty(this,"rootId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnStart",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnEnd",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argOnError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.config=e,this.argOnStart=t,this.argOnEnd=a,this.argOnError=r}persistRun(e){return Promise.resolve()}async onRunCreate(e){this.rootId||(this.rootId=e.id,this.argOnStart&&(1===this.argOnStart.length?await this.argOnStart(e):2===this.argOnStart.length&&await this.argOnStart(e,this.config)))}async onRunUpdate(e){e.id===this.rootId&&(e.error?this.argOnError&&(1===this.argOnError.length?await this.argOnError(e):2===this.argOnError.length&&await this.argOnError(e,this.config)):this.argOnEnd&&(1===this.argOnEnd.length?await this.argOnEnd(e):2===this.argOnEnd.length&&await this.argOnEnd(e,this.config)))}}t.RootListenersTracer=n},19979:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangChainTracer=void 0;const r=a(21210),n=a(27262),i=a(60418),s=a(18233);class o extends s.BaseTracer{constructor(e={}){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"langchain_tracer"}),Object.defineProperty(this,"projectName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"exampleId",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const{exampleId:t,projectName:a,client:n}=e;this.projectName=a??(0,i.getEnvironmentVariable)("LANGCHAIN_PROJECT")??(0,i.getEnvironmentVariable)("LANGCHAIN_SESSION"),this.exampleId=t,this.client=n??new r.Client({});const s=this.getTraceableRunTree();if(s){let e=s;const t=new Set;for(;e.parent_run&&!t.has(e.id)&&(t.add(e.id),e.parent_run);)e=e.parent_run;t.clear();const a=[e];for(;a.length>0;){const e=a.shift();e&&!t.has(e.id)&&(t.add(e.id),this.runMap.set(e.id,e),e.child_runs&&a.push(...e.child_runs))}this.client=s.client??this.client,this.projectName=s.project_name??this.projectName,this.exampleId=s.reference_example_id??this.exampleId}}async _convertToCreate(e,t=void 0){return{...e,extra:{...e.extra,runtime:await(0,i.getRuntimeEnvironment)()},child_runs:void 0,session_name:this.projectName,reference_example_id:e.parent_run_id?void 0:t}}async persistRun(e){}async onRunCreate(e){const t=await this._convertToCreate(e,this.exampleId);await this.client.createRun(t)}async onRunUpdate(e){const t={end_time:e.end_time,error:e.error,outputs:e.outputs,events:e.events,inputs:e.inputs,trace_id:e.trace_id,dotted_order:e.dotted_order,parent_run_id:e.parent_run_id};await this.client.updateRun(e.id,t)}getRun(e){return this.runMap.get(e)}getTraceableRunTree(){try{return(0,n.getCurrentRunTree)()}catch{return}}}t.LangChainTracer=o},57236:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(29843),t)},31325:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deepCompareStrict=void 0,t.deepCompareStrict=function e(t,a){const r=typeof t;if(r!==typeof a)return!1;if(Array.isArray(t)){if(!Array.isArray(a))return!1;const r=t.length;if(r!==a.length)return!1;for(let n=0;n<r;n++)if(!e(t[n],a[n]))return!1;return!0}if("object"===r){if(!t||!a)return t===a;const r=Object.keys(t),n=Object.keys(a);if(r.length!==n.length)return!1;for(const n of r)if(!e(t[n],a[n]))return!1;return!0}return t===a}},80375:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dereference=t.initialBaseURI=t.ignoredKeyword=t.schemaMapKeyword=t.schemaArrayKeyword=t.schemaKeyword=void 0;const r=a(52712);t.schemaKeyword={additionalItems:!0,unevaluatedItems:!0,items:!0,contains:!0,additionalProperties:!0,unevaluatedProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.schemaArrayKeyword={prefixItems:!0,items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.schemaMapKeyword={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependentSchemas:!0},t.ignoredKeyword={id:!0,$id:!0,$ref:!0,$schema:!0,$anchor:!0,$vocabulary:!0,$comment:!0,default:!0,enum:!0,const:!0,required:!0,type:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0},t.initialBaseURI="undefined"!=typeof self&&self.location&&"null"!==self.location.origin?new URL(self.location.origin+self.location.pathname+location.search):new URL("https://github.com/cfworker"),t.dereference=function e(a,n=Object.create(null),i=t.initialBaseURI,s=""){if(a&&"object"==typeof a&&!Array.isArray(a)){const t=a.$id||a.id;if(t){const r=new URL(t,i.href);r.hash.length>1?n[r.href]=a:(r.hash="",""===s?i=r:e(a,n,i))}}else if(!0!==a&&!1!==a)return n;const o=i.href+(s?"#"+s:"");if(void 0!==n[o])throw new Error(`Duplicate schema URI "${o}".`);if(n[o]=a,!0===a||!1===a)return n;if(void 0===a.__absolute_uri__&&Object.defineProperty(a,"__absolute_uri__",{enumerable:!1,value:o}),a.$ref&&void 0===a.__absolute_ref__){const e=new URL(a.$ref,i.href);e.hash=e.hash,Object.defineProperty(a,"__absolute_ref__",{enumerable:!1,value:e.href})}if(a.$recursiveRef&&void 0===a.__absolute_recursive_ref__){const e=new URL(a.$recursiveRef,i.href);e.hash=e.hash,Object.defineProperty(a,"__absolute_recursive_ref__",{enumerable:!1,value:e.href})}a.$anchor&&(n[new URL("#"+a.$anchor,i.href).href]=a);for(let o in a){if(t.ignoredKeyword[o])continue;const l=`${s}/${(0,r.encodePointer)(o)}`,d=a[o];if(Array.isArray(d)){if(t.schemaArrayKeyword[o]){const t=d.length;for(let a=0;a<t;a++)e(d[a],n,i,`${l}/${a}`)}}else if(t.schemaMapKeyword[o])for(let t in d)e(d[t],n,i,`${l}/${(0,r.encodePointer)(t)}`);else e(d,n,i,l)}return n}},85356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fastFormat=t.fullFormat=void 0;const a=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,r=[0,31,28,31,30,31,30,31,31,30,31,30,31],n=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,i=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,s=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,o=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,l=/^(?:(?:https?|ftp):\/\/)(?:\S+(?::\S*)?@)?(?:(?!10(?:\.\d{1,3}){3})(?!127(?:\.\d{1,3}){3})(?!169\.254(?:\.\d{1,3}){2})(?!192\.168(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)(?:\.(?:[a-z\u{00a1}-\u{ffff}0-9]+-?)*[a-z\u{00a1}-\u{ffff}0-9]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,p=/^(?:\/(?:[^~/]|~0|~1)*)*$/,u=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,c=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,m=/^\d\d\d\d-[0-1]\d-[0-3]\d$/,h=/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,f=/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,b=/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,g=/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,v=/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i;function y(e){return e.test.bind(e)}function _(e){const t=e.match(a);if(!t)return!1;const n=+t[1],i=+t[2],s=+t[3];return i>=1&&i<=12&&s>=1&&s<=(2==i&&function(e){return e%4==0&&(e%100!=0||e%400==0)}(n)?29:r[i])}function w(e,t){const a=t.match(n);if(!a)return!1;const r=+a[1],i=+a[2],s=+a[3],o=!!a[5];return(r<=23&&i<=59&&s<=59||23==r&&59==i&&60==s)&&(!e||o)}t.fullFormat={date:_,time:w.bind(void 0,!1),"date-time":function(e){const t=e.split(P);return 2==t.length&&_(t[0])&&w(!0,t[1])},duration:e=>e.length>1&&e.length<80&&(/^P\d+([.,]\d+)?W$/.test(e)||/^P[\dYMDTHS]*(\d[.,]\d+)?[YMDHS]$/.test(e)&&/^P([.,\d]+Y)?([.,\d]+M)?([.,\d]+D)?(T([.,\d]+H)?([.,\d]+M)?([.,\d]+S)?)?$/.test(e)),uri:function(e){return O.test(e)&&T.test(e)},"uri-reference":y(s),"uri-template":y(o),url:y(l),email:e=>{if('"'===e[0])return!1;const[t,a,...r]=e.split("@");return!(!t||!a||0!==r.length||t.length>64||a.length>253)&&"."!==t[0]&&!t.endsWith(".")&&!t.includes("..")&&!(!/^[a-z0-9.-]+$/i.test(a)||!/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+$/i.test(t))&&a.split(".").every((e=>/^[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?$/i.test(e)))},hostname:y(i),ipv4:y(g),ipv6:y(v),regex:function(e){if(A.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}},uuid:y(d),"json-pointer":y(p),"json-pointer-uri-fragment":y(u),"relative-json-pointer":y(c)},t.fastFormat={...t.fullFormat,date:y(m),time:y(h),"date-time":y(f),"uri-reference":y(b)};const P=/t|\s/i,O=/\/|:/,T=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,A=/[^\\]\\Z/},29843:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(31325),t),n(a(80375),t),n(a(85356),t),n(a(52712),t),n(a(8856),t),n(a(9875),t),n(a(1399),t),n(a(78285),t)},52712:(e,t)=>{"use strict";function a(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}Object.defineProperty(t,"__esModule",{value:!0}),t.escapePointer=t.encodePointer=void 0,t.encodePointer=function(e){return encodeURI(a(e))},t.escapePointer=a},8856:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9875:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ucs2length=void 0,t.ucs2length=function(e){let t,a=0,r=e.length,n=0;for(;n<r;)a++,t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<r&&(t=e.charCodeAt(n),56320==(64512&t)&&n++);return a}},1399:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validate=void 0;const r=a(31325),n=a(80375),i=a(85356),s=a(52712),o=a(9875);t.validate=function e(t,a,l="2019-09",d=(0,n.dereference)(a),p=!0,u=null,c="#",m="#",h=Object.create(null)){if(!0===a)return{valid:!0,errors:[]};if(!1===a)return{valid:!1,errors:[{instanceLocation:c,keyword:"false",keywordLocation:c,error:"False boolean schema."}]};const f=typeof t;let b;switch(f){case"boolean":case"number":case"string":b=f;break;case"object":b=null===t?"null":Array.isArray(t)?"array":"object";break;default:throw new Error(`Instances of "${f}" type are not supported.`)}const{$ref:g,$recursiveRef:v,$recursiveAnchor:y,type:_,const:w,enum:P,required:O,not:T,anyOf:A,allOf:S,oneOf:C,if:E,then:I,else:k,format:R,properties:j,patternProperties:x,additionalProperties:N,unevaluatedProperties:M,minProperties:D,maxProperties:L,propertyNames:$,dependentRequired:F,dependentSchemas:q,dependencies:V,prefixItems:B,items:z,additionalItems:U,unevaluatedItems:K,contains:Z,minContains:W,maxContains:H,minItems:G,maxItems:J,uniqueItems:Y,minimum:Q,maximum:X,exclusiveMinimum:ee,exclusiveMaximum:te,multipleOf:ae,minLength:re,maxLength:ne,pattern:ie,__absolute_ref__:se,__absolute_recursive_ref__:oe}=a,le=[];if(!0===y&&null===u&&(u=a),"#"===v){const r=null===u?d[oe]:u,n=`${m}/$recursiveRef`,i=e(t,null===u?a:u,l,d,p,r,c,n,h);i.valid||le.push({instanceLocation:c,keyword:"$recursiveRef",keywordLocation:n,error:"A subschema had errors."},...i.errors)}if(void 0!==g){const a=d[se||g];if(void 0===a){let e=`Unresolved $ref "${g}".`;throw se&&se!==g&&(e+=`  Absolute URI "${se}".`),e+=`\nKnown schemas:\n- ${Object.keys(d).join("\n- ")}`,new Error(e)}const r=`${m}/$ref`,n=e(t,a,l,d,p,u,c,r,h);if(n.valid||le.push({instanceLocation:c,keyword:"$ref",keywordLocation:r,error:"A subschema had errors."},...n.errors),"4"===l||"7"===l)return{valid:0===le.length,errors:le}}if(Array.isArray(_)){let e=_.length,a=!1;for(let r=0;r<e;r++)if(b===_[r]||"integer"===_[r]&&"number"===b&&t%1==0&&t==t){a=!0;break}a||le.push({instanceLocation:c,keyword:"type",keywordLocation:`${m}/type`,error:`Instance type "${b}" is invalid. Expected "${_.join('", "')}".`})}else"integer"===_?("number"!==b||t%1||t!=t)&&le.push({instanceLocation:c,keyword:"type",keywordLocation:`${m}/type`,error:`Instance type "${b}" is invalid. Expected "${_}".`}):void 0!==_&&b!==_&&le.push({instanceLocation:c,keyword:"type",keywordLocation:`${m}/type`,error:`Instance type "${b}" is invalid. Expected "${_}".`});if(void 0!==w&&("object"===b||"array"===b?(0,r.deepCompareStrict)(t,w)||le.push({instanceLocation:c,keyword:"const",keywordLocation:`${m}/const`,error:`Instance does not match ${JSON.stringify(w)}.`}):t!==w&&le.push({instanceLocation:c,keyword:"const",keywordLocation:`${m}/const`,error:`Instance does not match ${JSON.stringify(w)}.`})),void 0!==P&&("object"===b||"array"===b?P.some((e=>(0,r.deepCompareStrict)(t,e)))||le.push({instanceLocation:c,keyword:"enum",keywordLocation:`${m}/enum`,error:`Instance does not match any of ${JSON.stringify(P)}.`}):P.some((e=>t===e))||le.push({instanceLocation:c,keyword:"enum",keywordLocation:`${m}/enum`,error:`Instance does not match any of ${JSON.stringify(P)}.`})),void 0!==T){const a=`${m}/not`;e(t,T,l,d,p,u,c,a).valid&&le.push({instanceLocation:c,keyword:"not",keywordLocation:a,error:'Instance matched "not" schema.'})}let de=[];if(void 0!==A){const a=`${m}/anyOf`,r=le.length;let n=!1;for(let r=0;r<A.length;r++){const i=A[r],s=Object.create(h),o=e(t,i,l,d,p,!0===y?u:null,c,`${a}/${r}`,s);le.push(...o.errors),n=n||o.valid,o.valid&&de.push(s)}n?le.length=r:le.splice(r,0,{instanceLocation:c,keyword:"anyOf",keywordLocation:a,error:"Instance does not match any subschemas."})}if(void 0!==S){const a=`${m}/allOf`,r=le.length;let n=!0;for(let r=0;r<S.length;r++){const i=S[r],s=Object.create(h),o=e(t,i,l,d,p,!0===y?u:null,c,`${a}/${r}`,s);le.push(...o.errors),n=n&&o.valid,o.valid&&de.push(s)}n?le.length=r:le.splice(r,0,{instanceLocation:c,keyword:"allOf",keywordLocation:a,error:"Instance does not match every subschema."})}if(void 0!==C){const a=`${m}/oneOf`,r=le.length,n=C.filter(((r,n)=>{const i=Object.create(h),s=e(t,r,l,d,p,!0===y?u:null,c,`${a}/${n}`,i);return le.push(...s.errors),s.valid&&de.push(i),s.valid})).length;1===n?le.length=r:le.splice(r,0,{instanceLocation:c,keyword:"oneOf",keywordLocation:a,error:`Instance does not match exactly one subschema (${n} matches).`})}if("object"!==b&&"array"!==b||Object.assign(h,...de),void 0!==E){const a=`${m}/if`;if(e(t,E,l,d,p,u,c,a,h).valid){if(void 0!==I){const r=e(t,I,l,d,p,u,c,`${m}/then`,h);r.valid||le.push({instanceLocation:c,keyword:"if",keywordLocation:a,error:'Instance does not match "then" schema.'},...r.errors)}}else if(void 0!==k){const r=e(t,k,l,d,p,u,c,`${m}/else`,h);r.valid||le.push({instanceLocation:c,keyword:"if",keywordLocation:a,error:'Instance does not match "else" schema.'},...r.errors)}}if("object"===b){if(void 0!==O)for(const e of O)e in t||le.push({instanceLocation:c,keyword:"required",keywordLocation:`${m}/required`,error:`Instance does not have required property "${e}".`});const a=Object.keys(t);if(void 0!==D&&a.length<D&&le.push({instanceLocation:c,keyword:"minProperties",keywordLocation:`${m}/minProperties`,error:`Instance does not have at least ${D} properties.`}),void 0!==L&&a.length>L&&le.push({instanceLocation:c,keyword:"maxProperties",keywordLocation:`${m}/maxProperties`,error:`Instance does not have at least ${L} properties.`}),void 0!==$){const a=`${m}/propertyNames`;for(const r in t){const t=`${c}/${(0,s.encodePointer)(r)}`,n=e(r,$,l,d,p,u,t,a);n.valid||le.push({instanceLocation:c,keyword:"propertyNames",keywordLocation:a,error:`Property name "${r}" does not match schema.`},...n.errors)}}if(void 0!==F){const e=`${m}/dependantRequired`;for(const a in F)if(a in t){const r=F[a];for(const n of r)n in t||le.push({instanceLocation:c,keyword:"dependentRequired",keywordLocation:e,error:`Instance has "${a}" but does not have "${n}".`})}}if(void 0!==q)for(const a in q){const r=`${m}/dependentSchemas`;if(a in t){const n=e(t,q[a],l,d,p,u,c,`${r}/${(0,s.encodePointer)(a)}`,h);n.valid||le.push({instanceLocation:c,keyword:"dependentSchemas",keywordLocation:r,error:`Instance has "${a}" but does not match dependant schema.`},...n.errors)}}if(void 0!==V){const a=`${m}/dependencies`;for(const r in V)if(r in t){const n=V[r];if(Array.isArray(n))for(const e of n)e in t||le.push({instanceLocation:c,keyword:"dependencies",keywordLocation:a,error:`Instance has "${r}" but does not have "${e}".`});else{const i=e(t,n,l,d,p,u,c,`${a}/${(0,s.encodePointer)(r)}`);i.valid||le.push({instanceLocation:c,keyword:"dependencies",keywordLocation:a,error:`Instance has "${r}" but does not match dependant schema.`},...i.errors)}}}const r=Object.create(null);let n=!1;if(void 0!==j){const a=`${m}/properties`;for(const i in j){if(!(i in t))continue;const o=`${c}/${(0,s.encodePointer)(i)}`,m=e(t[i],j[i],l,d,p,u,o,`${a}/${(0,s.encodePointer)(i)}`);if(m.valid)h[i]=r[i]=!0;else if(n=p,le.push({instanceLocation:c,keyword:"properties",keywordLocation:a,error:`Property "${i}" does not match schema.`},...m.errors),n)break}}if(!n&&void 0!==x){const a=`${m}/patternProperties`;for(const i in x){const o=new RegExp(i),m=x[i];for(const f in t){if(!o.test(f))continue;const b=`${c}/${(0,s.encodePointer)(f)}`,g=e(t[f],m,l,d,p,u,b,`${a}/${(0,s.encodePointer)(i)}`);g.valid?h[f]=r[f]=!0:(n=p,le.push({instanceLocation:c,keyword:"patternProperties",keywordLocation:a,error:`Property "${f}" matches pattern "${i}" but does not match associated schema.`},...g.errors))}}}if(n||void 0===N){if(!n&&void 0!==M){const a=`${m}/unevaluatedProperties`;for(const r in t)if(!h[r]){const n=`${c}/${(0,s.encodePointer)(r)}`,i=e(t[r],M,l,d,p,u,n,a);i.valid?h[r]=!0:le.push({instanceLocation:c,keyword:"unevaluatedProperties",keywordLocation:a,error:`Property "${r}" does not match unevaluated properties schema.`},...i.errors)}}}else{const a=`${m}/additionalProperties`;for(const i in t){if(r[i])continue;const o=`${c}/${(0,s.encodePointer)(i)}`,m=e(t[i],N,l,d,p,u,o,a);m.valid?h[i]=!0:(n=p,le.push({instanceLocation:c,keyword:"additionalProperties",keywordLocation:a,error:`Property "${i}" does not match additional properties schema.`},...m.errors))}}}else if("array"===b){void 0!==J&&t.length>J&&le.push({instanceLocation:c,keyword:"maxItems",keywordLocation:`${m}/maxItems`,error:`Array has too many items (${t.length} > ${J}).`}),void 0!==G&&t.length<G&&le.push({instanceLocation:c,keyword:"minItems",keywordLocation:`${m}/minItems`,error:`Array has too few items (${t.length} < ${G}).`});const a=t.length;let n=0,i=!1;if(void 0!==B){const r=`${m}/prefixItems`,s=Math.min(B.length,a);for(;n<s;n++){const a=e(t[n],B[n],l,d,p,u,`${c}/${n}`,`${r}/${n}`);if(h[n]=!0,!a.valid&&(i=p,le.push({instanceLocation:c,keyword:"prefixItems",keywordLocation:r,error:"Items did not match schema."},...a.errors),i))break}}if(void 0!==z){const r=`${m}/items`;if(Array.isArray(z)){const s=Math.min(z.length,a);for(;n<s;n++){const a=e(t[n],z[n],l,d,p,u,`${c}/${n}`,`${r}/${n}`);if(h[n]=!0,!a.valid&&(i=p,le.push({instanceLocation:c,keyword:"items",keywordLocation:r,error:"Items did not match schema."},...a.errors),i))break}}else for(;n<a;n++){const a=e(t[n],z,l,d,p,u,`${c}/${n}`,r);if(h[n]=!0,!a.valid&&(i=p,le.push({instanceLocation:c,keyword:"items",keywordLocation:r,error:"Items did not match schema."},...a.errors),i))break}if(!i&&void 0!==U){const r=`${m}/additionalItems`;for(;n<a;n++){const a=e(t[n],U,l,d,p,u,`${c}/${n}`,r);h[n]=!0,a.valid||(i=p,le.push({instanceLocation:c,keyword:"additionalItems",keywordLocation:r,error:"Items did not match additional items schema."},...a.errors))}}}if(void 0!==Z)if(0===a&&void 0===W)le.push({instanceLocation:c,keyword:"contains",keywordLocation:`${m}/contains`,error:"Array is empty. It must contain at least one item matching the schema."});else if(void 0!==W&&a<W)le.push({instanceLocation:c,keyword:"minContains",keywordLocation:`${m}/minContains`,error:`Array has less items (${a}) than minContains (${W}).`});else{const r=`${m}/contains`,n=le.length;let i=0;for(let n=0;n<a;n++){const a=e(t[n],Z,l,d,p,u,`${c}/${n}`,r);a.valid?(h[n]=!0,i++):le.push(...a.errors)}i>=(W||0)&&(le.length=n),void 0===W&&void 0===H&&0===i?le.splice(n,0,{instanceLocation:c,keyword:"contains",keywordLocation:r,error:"Array does not contain item matching schema."}):void 0!==W&&i<W?le.push({instanceLocation:c,keyword:"minContains",keywordLocation:`${m}/minContains`,error:`Array must contain at least ${W} items matching schema. Only ${i} items were found.`}):void 0!==H&&i>H&&le.push({instanceLocation:c,keyword:"maxContains",keywordLocation:`${m}/maxContains`,error:`Array may contain at most ${H} items matching schema. ${i} items were found.`})}if(!i&&void 0!==K){const r=`${m}/unevaluatedItems`;for(;n<a;n++){if(h[n])continue;const a=e(t[n],K,l,d,p,u,`${c}/${n}`,r);h[n]=!0,a.valid||le.push({instanceLocation:c,keyword:"unevaluatedItems",keywordLocation:r,error:"Items did not match unevaluated items schema."},...a.errors)}}if(Y)for(let e=0;e<a;e++){const n=t[e],i="object"==typeof n&&null!==n;for(let s=0;s<a;s++){if(e===s)continue;const a=t[s];(n===a||i&&"object"==typeof a&&null!==a&&(0,r.deepCompareStrict)(n,a))&&(le.push({instanceLocation:c,keyword:"uniqueItems",keywordLocation:`${m}/uniqueItems`,error:`Duplicate items at indexes ${e} and ${s}.`}),e=Number.MAX_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER)}}}else if("number"===b){if("4"===l?(void 0!==Q&&(!0===ee&&t<=Q||t<Q)&&le.push({instanceLocation:c,keyword:"minimum",keywordLocation:`${m}/minimum`,error:`${t} is less than ${ee?"or equal to ":""} ${Q}.`}),void 0!==X&&(!0===te&&t>=X||t>X)&&le.push({instanceLocation:c,keyword:"maximum",keywordLocation:`${m}/maximum`,error:`${t} is greater than ${te?"or equal to ":""} ${X}.`})):(void 0!==Q&&t<Q&&le.push({instanceLocation:c,keyword:"minimum",keywordLocation:`${m}/minimum`,error:`${t} is less than ${Q}.`}),void 0!==X&&t>X&&le.push({instanceLocation:c,keyword:"maximum",keywordLocation:`${m}/maximum`,error:`${t} is greater than ${X}.`}),void 0!==ee&&t<=ee&&le.push({instanceLocation:c,keyword:"exclusiveMinimum",keywordLocation:`${m}/exclusiveMinimum`,error:`${t} is less than ${ee}.`}),void 0!==te&&t>=te&&le.push({instanceLocation:c,keyword:"exclusiveMaximum",keywordLocation:`${m}/exclusiveMaximum`,error:`${t} is greater than or equal to ${te}.`})),void 0!==ae){const e=t%ae;Math.abs(0-e)>=1.1920929e-7&&Math.abs(ae-e)>=1.1920929e-7&&le.push({instanceLocation:c,keyword:"multipleOf",keywordLocation:`${m}/multipleOf`,error:`${t} is not a multiple of ${ae}.`})}}else if("string"===b){const e=void 0===re&&void 0===ne?0:(0,o.ucs2length)(t);void 0!==re&&e<re&&le.push({instanceLocation:c,keyword:"minLength",keywordLocation:`${m}/minLength`,error:`String is too short (${e} < ${re}).`}),void 0!==ne&&e>ne&&le.push({instanceLocation:c,keyword:"maxLength",keywordLocation:`${m}/maxLength`,error:`String is too long (${e} > ${ne}).`}),void 0===ie||new RegExp(ie).test(t)||le.push({instanceLocation:c,keyword:"pattern",keywordLocation:`${m}/pattern`,error:"String does not match pattern."}),void 0!==R&&i.fastFormat[R]&&!i.fastFormat[R](t)&&le.push({instanceLocation:c,keyword:"format",keywordLocation:`${m}/format`,error:`String does not match format "${R}".`})}return{valid:0===le.length,errors:le}}},78285:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Validator=void 0;const r=a(80375),n=a(1399);t.Validator=class{constructor(e,t="2019-09",a=!0){Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"draft",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"shortCircuit",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"lookup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.lookup=(0,r.dereference)(e)}validate(e){return(0,n.validate)(e,this.schema,this.draft,this.lookup,this.shortCircuit)}addSchema(e,t){t&&(e={...e,$id:t}),(0,r.dereference)(e,this.lookup)}}},61583:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncCaller=void 0;const n=r(a(24116)),i=r(a(73290)),s=[400,401,402,403,404,405,406,407,409],o=e=>{if(e.message.startsWith("Cancel")||e.message.startsWith("AbortError")||"AbortError"===e.name)throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response?.status??e?.status;if(t&&s.includes(+t))throw e;if("insufficient_quota"===e?.error?.code){const t=new Error(e?.message);throw t.name="InsufficientQuotaError",t}};t.AsyncCaller=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedAttempt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,this.onFailedAttempt=e.onFailedAttempt??o;const t="default"in i.default?i.default.default:i.default;this.queue=new t({concurrency:this.maxConcurrency})}call(e,...t){return this.queue.add((()=>(0,n.default)((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{onFailedAttempt:this.onFailedAttempt,retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...a){return e.signal?Promise.race([this.call(t,...a),new Promise(((t,a)=>{e.signal?.addEventListener("abort",(()=>{a(new Error("AbortError"))}))}))]):this.call(t,...a)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}},12311:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingEnabled=void 0;const r=a(60418);t.isTracingEnabled=e=>void 0!==e?e:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((e=>"true"===(0,r.getEnvironmentVariable)(e)))},82922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.chunkArray=void 0,t.chunkArray=(e,t)=>e.reduce(((e,a,r)=>{const n=Math.floor(r/t),i=e[n]||[];return e[n]=i.concat([a]),e}),[])},60418:(e,t)=>{"use strict";let a;Object.defineProperty(t,"__esModule",{value:!0}),t.getEnvironmentVariable=t.getRuntimeEnvironment=t.getEnv=t.isNode=t.isDeno=t.isJsDom=t.isWebWorker=t.isBrowser=void 0,t.isBrowser=()=>"undefined"!=typeof window&&void 0!==window.document,t.isWebWorker=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,t.isJsDom=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),t.isDeno=()=>"undefined"!=typeof Deno,t.isNode=()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node&&!(0,t.isDeno)(),t.getEnv=()=>{let e;return e=(0,t.isBrowser)()?"browser":(0,t.isNode)()?"node":(0,t.isWebWorker)()?"webworker":(0,t.isJsDom)()?"jsdom":(0,t.isDeno)()?"deno":"other",e},t.getRuntimeEnvironment=async function(){if(void 0===a){const e=(0,t.getEnv)();a={library:"langchain-js",runtime:e}}return a},t.getEnvironmentVariable=function(e){try{return"undefined"!=typeof process?process.env?.[e]:void 0}catch(e){return}}},78266:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.unescapePathComponent=t.escapePathComponent=t.deepClone=t.JsonPatchError=void 0,i(a(37450),t),i(a(50609),t);var o=a(19350);Object.defineProperty(t,"JsonPatchError",{enumerable:!0,get:function(){return o.PatchError}}),Object.defineProperty(t,"deepClone",{enumerable:!0,get:function(){return o._deepClone}}),Object.defineProperty(t,"escapePathComponent",{enumerable:!0,get:function(){return o.escapePathComponent}}),Object.defineProperty(t,"unescapePathComponent",{enumerable:!0,get:function(){return o.unescapePathComponent}});const l=s(a(37450)),d=a(19350);t.default={...l,JsonPatchError:d.PatchError,deepClone:d._deepClone,escapePathComponent:d.escapePathComponent,unescapePathComponent:d.unescapePathComponent}},37450:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._areEquals=t.validate=t.validator=t.applyReducer=t.applyPatch=t.applyOperation=t.getValueByPointer=t.deepClone=t.JsonPatchError=void 0;const r=a(19350);t.JsonPatchError=r.PatchError,t.deepClone=r._deepClone;const n={add:function(e,t,a){return e[t]=this.value,{newDocument:a}},remove:function(e,t,a){var r=e[t];return delete e[t],{newDocument:a,removed:r}},replace:function(e,t,a){var r=e[t];return e[t]=this.value,{newDocument:a,removed:r}},move:function(e,t,a){let n=s(a,this.path);n&&(n=(0,r._deepClone)(n));const i=o(a,{op:"remove",path:this.from}).removed;return o(a,{op:"add",path:this.path,value:i}),{newDocument:a,removed:n}},copy:function(e,t,a){const n=s(a,this.from);return o(a,{op:"add",path:this.path,value:(0,r._deepClone)(n)}),{newDocument:a}},test:function(e,t,a){return{newDocument:a,test:u(e[t],this.value)}},_get:function(e,t,a){return this.value=e[t],{newDocument:a}}};var i={add:function(e,t,a){return(0,r.isInteger)(t)?e.splice(t,0,this.value):e[t]=this.value,{newDocument:a,index:t}},remove:function(e,t,a){return{newDocument:a,removed:e.splice(t,1)[0]}},replace:function(e,t,a){var r=e[t];return e[t]=this.value,{newDocument:a,removed:r}},move:n.move,copy:n.copy,test:n.test,_get:n._get};function s(e,t){if(""==t)return e;var a={op:"_get",path:t};return o(e,a),a.value}function o(e,a,o=!1,l=!0,p=!0,c=0){if(o&&("function"==typeof o?o(a,0,e,a.path):d(a,0)),""===a.path){let r={newDocument:e};if("add"===a.op)return r.newDocument=a.value,r;if("replace"===a.op)return r.newDocument=a.value,r.removed=e,r;if("move"===a.op||"copy"===a.op)return r.newDocument=s(e,a.from),"move"===a.op&&(r.removed=e),r;if("test"===a.op){if(r.test=u(e,a.value),!1===r.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,a,e);return r.newDocument=e,r}if("remove"===a.op)return r.removed=e,r.newDocument=null,r;if("_get"===a.op)return a.value=e,r;if(o)throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",c,a,e);return r}{l||(e=(0,r._deepClone)(e));const s=(a.path||"").split("/");let u,m,h,f=e,b=1,g=s.length;for(h="function"==typeof o?o:d;;){if(m=s[b],m&&-1!=m.indexOf("~")&&(m=(0,r.unescapePathComponent)(m)),p&&("__proto__"==m||"prototype"==m&&b>0&&"constructor"==s[b-1]))throw new TypeError("JSON-Patch: modifying `__proto__` or `constructor/prototype` prop is banned for security reasons, if this was on purpose, please set `banPrototypeModifications` flag false and pass it to this function. More info in fast-json-patch README");if(o&&void 0===u&&(void 0===f[m]?u=s.slice(0,b).join("/"):b==g-1&&(u=a.path),void 0!==u&&h(a,0,e,u)),b++,Array.isArray(f)){if("-"===m)m=f.length;else{if(o&&!(0,r.isInteger)(m))throw new t.JsonPatchError("Expected an unsigned base-10 integer value, making the new referenced value the array element with the zero-based index","OPERATION_PATH_ILLEGAL_ARRAY_INDEX",c,a,e);(0,r.isInteger)(m)&&(m=~~m)}if(b>=g){if(o&&"add"===a.op&&m>f.length)throw new t.JsonPatchError("The specified index MUST NOT be greater than the number of elements in the array","OPERATION_VALUE_OUT_OF_BOUNDS",c,a,e);const r=i[a.op].call(a,f,m,e);if(!1===r.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,a,e);return r}}else if(b>=g){const r=n[a.op].call(a,f,m,e);if(!1===r.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",c,a,e);return r}if(f=f[m],o&&b<g&&(!f||"object"!=typeof f))throw new t.JsonPatchError("Cannot perform operation at the desired path","OPERATION_PATH_UNRESOLVABLE",c,a,e)}}}function l(e,a,n,i=!0,s=!0){if(n&&!Array.isArray(a))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");i||(e=(0,r._deepClone)(e));const l=new Array(a.length);for(let t=0,r=a.length;t<r;t++)l[t]=o(e,a[t],n,!0,s,t),e=l[t].newDocument;return l.newDocument=e,l}function d(e,a,i,s){if("object"!=typeof e||null===e||Array.isArray(e))throw new t.JsonPatchError("Operation is not an object","OPERATION_NOT_AN_OBJECT",a,e,i);if(!n[e.op])throw new t.JsonPatchError("Operation `op` property is not one of operations defined in RFC-6902","OPERATION_OP_INVALID",a,e,i);if("string"!=typeof e.path)throw new t.JsonPatchError("Operation `path` property is not a string","OPERATION_PATH_INVALID",a,e,i);if(0!==e.path.indexOf("/")&&e.path.length>0)throw new t.JsonPatchError('Operation `path` property must start with "/"',"OPERATION_PATH_INVALID",a,e,i);if(("move"===e.op||"copy"===e.op)&&"string"!=typeof e.from)throw new t.JsonPatchError("Operation `from` property is not present (applicable in `move` and `copy` operations)","OPERATION_FROM_REQUIRED",a,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&void 0===e.value)throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_REQUIRED",a,e,i);if(("add"===e.op||"replace"===e.op||"test"===e.op)&&(0,r.hasUndefined)(e.value))throw new t.JsonPatchError("Operation `value` property is not present (applicable in `add`, `replace` and `test` operations)","OPERATION_VALUE_CANNOT_CONTAIN_UNDEFINED",a,e,i);if(i)if("add"==e.op){var o=e.path.split("/").length,l=s.split("/").length;if(o!==l+1&&o!==l)throw new t.JsonPatchError("Cannot perform an `add` operation at the desired path","OPERATION_PATH_CANNOT_ADD",a,e,i)}else if("replace"===e.op||"remove"===e.op||"_get"===e.op){if(e.path!==s)throw new t.JsonPatchError("Cannot perform the operation at a path that does not exist","OPERATION_PATH_UNRESOLVABLE",a,e,i)}else if("move"===e.op||"copy"===e.op){var d=p([{op:"_get",path:e.from,value:void 0}],i);if(d&&"OPERATION_PATH_UNRESOLVABLE"===d.name)throw new t.JsonPatchError("Cannot perform the operation from a path that does not exist","OPERATION_FROM_UNRESOLVABLE",a,e,i)}}function p(e,a,n){try{if(!Array.isArray(e))throw new t.JsonPatchError("Patch sequence must be an array","SEQUENCE_NOT_AN_ARRAY");if(a)l((0,r._deepClone)(a),(0,r._deepClone)(e),n||!0);else{n=n||d;for(var i=0;i<e.length;i++)n(e[i],i,a,void 0)}}catch(e){if(e instanceof t.JsonPatchError)return e;throw e}}function u(e,t){if(e===t)return!0;if(e&&t&&"object"==typeof e&&"object"==typeof t){var a,r,n,i=Array.isArray(e),s=Array.isArray(t);if(i&&s){if((r=e.length)!=t.length)return!1;for(a=r;0!=a--;)if(!u(e[a],t[a]))return!1;return!0}if(i!=s)return!1;var o=Object.keys(e);if((r=o.length)!==Object.keys(t).length)return!1;for(a=r;0!=a--;)if(!t.hasOwnProperty(o[a]))return!1;for(a=r;0!=a--;)if(!u(e[n=o[a]],t[n]))return!1;return!0}return e!=e&&t!=t}t.getValueByPointer=s,t.applyOperation=o,t.applyPatch=l,t.applyReducer=function(e,a,r){const n=o(e,a);if(!1===n.test)throw new t.JsonPatchError("Test operation failed","TEST_OPERATION_FAILED",r,a,e);return n.newDocument},t.validator=d,t.validate=p,t._areEquals=u},50609:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.compare=t.generate=t.observe=t.unobserve=void 0;const r=a(19350),n=a(37450);var i=new WeakMap;class s{constructor(e){Object.defineProperty(this,"obj",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observers",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.obj=e}}class o{constructor(e,t){Object.defineProperty(this,"callback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"observer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.callback=e,this.observer=t}}function l(e,t=!1){var a=i.get(e.object);d(a.value,e.object,e.patches,"",t),e.patches.length&&(0,n.applyPatch)(a.value,e.patches);var r=e.patches;return r.length>0&&(e.patches=[],e.callback&&e.callback(r)),r}function d(e,t,a,n,i){if(t!==e){"function"==typeof t.toJSON&&(t=t.toJSON());for(var s=(0,r._objectKeys)(t),o=(0,r._objectKeys)(e),l=!1,p=o.length-1;p>=0;p--){var u=e[m=o[p]];if(!(0,r.hasOwnProperty)(t,m)||void 0===t[m]&&void 0!==u&&!1===Array.isArray(t))Array.isArray(e)===Array.isArray(t)?(i&&a.push({op:"test",path:n+"/"+(0,r.escapePathComponent)(m),value:(0,r._deepClone)(u)}),a.push({op:"remove",path:n+"/"+(0,r.escapePathComponent)(m)}),l=!0):(i&&a.push({op:"test",path:n,value:e}),a.push({op:"replace",path:n,value:t}));else{var c=t[m];"object"==typeof u&&null!=u&&"object"==typeof c&&null!=c&&Array.isArray(u)===Array.isArray(c)?d(u,c,a,n+"/"+(0,r.escapePathComponent)(m),i):u!==c&&(i&&a.push({op:"test",path:n+"/"+(0,r.escapePathComponent)(m),value:(0,r._deepClone)(u)}),a.push({op:"replace",path:n+"/"+(0,r.escapePathComponent)(m),value:(0,r._deepClone)(c)}))}}if(l||s.length!=o.length)for(p=0;p<s.length;p++){var m=s[p];(0,r.hasOwnProperty)(e,m)||void 0===t[m]||a.push({op:"add",path:n+"/"+(0,r.escapePathComponent)(m),value:(0,r._deepClone)(t[m])})}}}t.unobserve=function(e,t){t.unobserve()},t.observe=function(e,t){var a,n=function(e){return i.get(e)}(e);if(n){const e=function(e,t){return e.observers.get(t)}(n,t);a=e&&e.observer}else n=new s(e),i.set(e,n);if(a)return a;if(a={},n.value=(0,r._deepClone)(e),t){a.callback=t,a.next=null;var d=()=>{l(a)},p=()=>{clearTimeout(a.next),a.next=setTimeout(d)};"undefined"!=typeof window&&(window.addEventListener("mouseup",p),window.addEventListener("keyup",p),window.addEventListener("mousedown",p),window.addEventListener("keydown",p),window.addEventListener("change",p))}return a.patches=[],a.object=e,a.unobserve=()=>{l(a),clearTimeout(a.next),function(e,t){e.observers.delete(t.callback)}(n,a),"undefined"!=typeof window&&(window.removeEventListener("mouseup",p),window.removeEventListener("keyup",p),window.removeEventListener("mousedown",p),window.removeEventListener("keydown",p),window.removeEventListener("change",p))},n.observers.set(t,new o(t,a)),a},t.generate=l,t.compare=function(e,t,a=!1){var r=[];return d(e,t,r,"",a),r}},19350:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PatchError=t.hasUndefined=t.getPath=t._getPathRecursive=t.unescapePathComponent=t.escapePathComponent=t.isInteger=t._deepClone=t._objectKeys=t.hasOwnProperty=void 0;const a=Object.prototype.hasOwnProperty;function r(e,t){return a.call(e,t)}function n(e){if(Array.isArray(e)){const t=new Array(e.length);for(let e=0;e<t.length;e++)t[e]=""+e;return t}if(Object.keys)return Object.keys(e);let t=[];for(let a in e)r(e,a)&&t.push(a);return t}function i(e){return-1===e.indexOf("/")&&-1===e.indexOf("~")?e:e.replace(/~/g,"~0").replace(/\//g,"~1")}function s(e,t){let a;for(let n in e)if(r(e,n)){if(e[n]===t)return i(n)+"/";if("object"==typeof e[n]&&(a=s(e[n],t),""!=a))return i(n)+"/"+a}return""}function o(e,t){const a=[e];for(const e in t){const r="object"==typeof t[e]?JSON.stringify(t[e],null,2):t[e];void 0!==r&&a.push(`${e}: ${r}`)}return a.join("\n")}t.hasOwnProperty=r,t._objectKeys=n,t._deepClone=function(e){switch(typeof e){case"object":return JSON.parse(JSON.stringify(e));case"undefined":return null;default:return e}},t.isInteger=function(e){let t=0;const a=e.length;let r;for(;t<a;){if(r=e.charCodeAt(t),!(r>=48&&r<=57))return!1;t++}return!0},t.escapePathComponent=i,t.unescapePathComponent=function(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")},t._getPathRecursive=s,t.getPath=function(e,t){if(e===t)return"/";const a=s(e,t);if(""===a)throw new Error("Object not found in root");return`/${a}`},t.hasUndefined=function e(t){if(void 0===t)return!0;if(t)if(Array.isArray(t)){for(let a=0,r=t.length;a<r;a++)if(e(t[a]))return!0}else if("object"==typeof t){const r=n(t),i=r.length;for(var a=0;a<i;a++)if(e(t[r[a]]))return!0}return!1};class l extends Error{constructor(e,t,a,r,n){super(o(e,{name:t,index:a,operation:r,tree:n})),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:t}),Object.defineProperty(this,"index",{enumerable:!0,configurable:!0,writable:!0,value:a}),Object.defineProperty(this,"operation",{enumerable:!0,configurable:!0,writable:!0,value:r}),Object.defineProperty(this,"tree",{enumerable:!0,configurable:!0,writable:!0,value:n}),Object.setPrototypeOf(this,new.target.prototype),this.message=o(e,{name:t,index:a,operation:r,tree:n})}}t.PatchError=l},28276:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isStructuredTool=t.convertToOpenAITool=t.convertToOpenAIFunction=void 0;const r=a(39340);function n(e){return{name:e.name,description:e.description,parameters:(0,r.zodToJsonSchema)(e.schema)}}function i(e){return void 0!==e&&Array.isArray(e.lc_namespace)}t.convertToOpenAIFunction=n,t.convertToOpenAITool=function(e){return i(e)?{type:"function",function:n(e)}:e},t.isStructuredTool=i},681:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insecureHash=void 0;var r=a(1685);Object.defineProperty(t,"insecureHash",{enumerable:!0,get:function(){return r.insecureHash}})},1685:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.insecureHash=void 0;var a="object"==typeof window?window:{},r="0123456789abcdef".split(""),n=[-2147483648,8388608,32768,128],i=[24,16,8,0],s=[];function o(e){e?(s[0]=s[16]=s[1]=s[2]=s[3]=s[4]=s[5]=s[6]=s[7]=s[8]=s[9]=s[10]=s[11]=s[12]=s[13]=s[14]=s[15]=0,this.blocks=s):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}o.prototype.update=function(e){if(!this.finalized){var t="string"!=typeof e;t&&e.constructor===a.ArrayBuffer&&(e=new Uint8Array(e));for(var r,n,s=0,o=e.length||0,l=this.blocks;s<o;){if(this.hashed&&(this.hashed=!1,l[0]=this.block,l[16]=l[1]=l[2]=l[3]=l[4]=l[5]=l[6]=l[7]=l[8]=l[9]=l[10]=l[11]=l[12]=l[13]=l[14]=l[15]=0),t)for(n=this.start;s<o&&n<64;++s)l[n>>2]|=e[s]<<i[3&n++];else for(n=this.start;s<o&&n<64;++s)(r=e.charCodeAt(s))<128?l[n>>2]|=r<<i[3&n++]:r<2048?(l[n>>2]|=(192|r>>6)<<i[3&n++],l[n>>2]|=(128|63&r)<<i[3&n++]):r<55296||r>=57344?(l[n>>2]|=(224|r>>12)<<i[3&n++],l[n>>2]|=(128|r>>6&63)<<i[3&n++],l[n>>2]|=(128|63&r)<<i[3&n++]):(r=65536+((1023&r)<<10|1023&e.charCodeAt(++s)),l[n>>2]|=(240|r>>18)<<i[3&n++],l[n>>2]|=(128|r>>12&63)<<i[3&n++],l[n>>2]|=(128|r>>6&63)<<i[3&n++],l[n>>2]|=(128|63&r)<<i[3&n++]);this.lastByteIndex=n,this.bytes+=n-this.start,n>=64?(this.block=l[16],this.start=n-64,this.hash(),this.hashed=!0):this.start=n}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},o.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var e=this.blocks,t=this.lastByteIndex;e[16]=this.block,e[t>>2]|=n[3&t],this.block=e[16],t>=56&&(this.hashed||this.hash(),e[0]=this.block,e[16]=e[1]=e[2]=e[3]=e[4]=e[5]=e[6]=e[7]=e[8]=e[9]=e[10]=e[11]=e[12]=e[13]=e[14]=e[15]=0),e[14]=this.hBytes<<3|this.bytes>>>29,e[15]=this.bytes<<3,this.hash()}},o.prototype.hash=function(){var e,t,a=this.h0,r=this.h1,n=this.h2,i=this.h3,s=this.h4,o=this.blocks;for(e=16;e<80;++e)t=o[e-3]^o[e-8]^o[e-14]^o[e-16],o[e]=t<<1|t>>>31;for(e=0;e<20;e+=5)a=(t=(r=(t=(n=(t=(i=(t=(s=(t=a<<5|a>>>27)+(r&n|~r&i)+s+1518500249+o[e]|0)<<5|s>>>27)+(a&(r=r<<30|r>>>2)|~a&n)+i+1518500249+o[e+1]|0)<<5|i>>>27)+(s&(a=a<<30|a>>>2)|~s&r)+n+1518500249+o[e+2]|0)<<5|n>>>27)+(i&(s=s<<30|s>>>2)|~i&a)+r+1518500249+o[e+3]|0)<<5|r>>>27)+(n&(i=i<<30|i>>>2)|~n&s)+a+1518500249+o[e+4]|0,n=n<<30|n>>>2;for(;e<40;e+=5)a=(t=(r=(t=(n=(t=(i=(t=(s=(t=a<<5|a>>>27)+(r^n^i)+s+1859775393+o[e]|0)<<5|s>>>27)+(a^(r=r<<30|r>>>2)^n)+i+1859775393+o[e+1]|0)<<5|i>>>27)+(s^(a=a<<30|a>>>2)^r)+n+1859775393+o[e+2]|0)<<5|n>>>27)+(i^(s=s<<30|s>>>2)^a)+r+1859775393+o[e+3]|0)<<5|r>>>27)+(n^(i=i<<30|i>>>2)^s)+a+1859775393+o[e+4]|0,n=n<<30|n>>>2;for(;e<60;e+=5)a=(t=(r=(t=(n=(t=(i=(t=(s=(t=a<<5|a>>>27)+(r&n|r&i|n&i)+s-1894007588+o[e]|0)<<5|s>>>27)+(a&(r=r<<30|r>>>2)|a&n|r&n)+i-1894007588+o[e+1]|0)<<5|i>>>27)+(s&(a=a<<30|a>>>2)|s&r|a&r)+n-1894007588+o[e+2]|0)<<5|n>>>27)+(i&(s=s<<30|s>>>2)|i&a|s&a)+r-1894007588+o[e+3]|0)<<5|r>>>27)+(n&(i=i<<30|i>>>2)|n&s|i&s)+a-1894007588+o[e+4]|0,n=n<<30|n>>>2;for(;e<80;e+=5)a=(t=(r=(t=(n=(t=(i=(t=(s=(t=a<<5|a>>>27)+(r^n^i)+s-899497514+o[e]|0)<<5|s>>>27)+(a^(r=r<<30|r>>>2)^n)+i-899497514+o[e+1]|0)<<5|i>>>27)+(s^(a=a<<30|a>>>2)^r)+n-899497514+o[e+2]|0)<<5|n>>>27)+(i^(s=s<<30|s>>>2)^a)+r-899497514+o[e+3]|0)<<5|r>>>27)+(n^(i=i<<30|i>>>2)^s)+a-899497514+o[e+4]|0,n=n<<30|n>>>2;this.h0=this.h0+a|0,this.h1=this.h1+r|0,this.h2=this.h2+n|0,this.h3=this.h3+i|0,this.h4=this.h4+s|0},o.prototype.hex=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,n=this.h3,i=this.h4;return r[e>>28&15]+r[e>>24&15]+r[e>>20&15]+r[e>>16&15]+r[e>>12&15]+r[e>>8&15]+r[e>>4&15]+r[15&e]+r[t>>28&15]+r[t>>24&15]+r[t>>20&15]+r[t>>16&15]+r[t>>12&15]+r[t>>8&15]+r[t>>4&15]+r[15&t]+r[a>>28&15]+r[a>>24&15]+r[a>>20&15]+r[a>>16&15]+r[a>>12&15]+r[a>>8&15]+r[a>>4&15]+r[15&a]+r[n>>28&15]+r[n>>24&15]+r[n>>20&15]+r[n>>16&15]+r[n>>12&15]+r[n>>8&15]+r[n>>4&15]+r[15&n]+r[i>>28&15]+r[i>>24&15]+r[i>>20&15]+r[i>>16&15]+r[i>>12&15]+r[i>>8&15]+r[i>>4&15]+r[15&i]},o.prototype.toString=o.prototype.hex,o.prototype.digest=function(){this.finalize();var e=this.h0,t=this.h1,a=this.h2,r=this.h3,n=this.h4;return[e>>24&255,e>>16&255,e>>8&255,255&e,t>>24&255,t>>16&255,t>>8&255,255&t,a>>24&255,a>>16&255,a>>8&255,255&a,r>>24&255,r>>16&255,r>>8&255,255&r,n>>24&255,n>>16&255,n>>8&255,255&n]},o.prototype.array=o.prototype.digest,o.prototype.arrayBuffer=function(){this.finalize();var e=new ArrayBuffer(20),t=new DataView(e);return t.setUint32(0,this.h0),t.setUint32(4,this.h1),t.setUint32(8,this.h2),t.setUint32(12,this.h3),t.setUint32(16,this.h4),e},t.insecureHash=e=>new o(!0).update(e).hex()},39803:(e,t)=>{"use strict";function a(e){if(void 0===e)return null;try{return JSON.parse(e)}catch(e){}let t="";const a=[];let r=!1,n=!1;for(let i of e){if(r)'"'!==i||n?"\n"!==i||n?n="\\"===i&&!n:i="\\n":r=!1;else if('"'===i)r=!0,n=!1;else if("{"===i)a.push("}");else if("["===i)a.push("]");else if("}"===i||"]"===i){if(!a||a[a.length-1]!==i)return null;a.pop()}t+=i}r&&(t+='"');for(let e=a.length-1;e>=0;e-=1)t+=a[e];try{return JSON.parse(t)}catch(e){return null}}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePartialJson=t.parseJsonMarkdown=void 0,t.parseJsonMarkdown=function(e,t=a){e=e.trim();const r=/```(json)?(.*)```/s.exec(e);return t(r?r[2]:e)},t.parsePartialJson=a},96096:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.applyPatch=t.compare=void 0;var r=a(78266);Object.defineProperty(t,"compare",{enumerable:!0,get:function(){return r.compare}}),Object.defineProperty(t,"applyPatch",{enumerable:!0,get:function(){return r.applyPatch}})},26548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sax=void 0;const a=function(){const e={parser:function(e,t){return new a(e,t)}};e.SAXParser=a,e.SAXStream=i,e.createStream=function(e,t){return new i(e,t)},e.MAX_BUFFER_LENGTH=65536;const t=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];function a(r,n){if(!(this instanceof a))return new a(r,n);var i=this;!function(e){for(var a=0,r=t.length;a<r;a++)e[t[a]]=""}(i),i.q=i.c="",i.bufferCheckPosition=e.MAX_BUFFER_LENGTH,i.opt=n||{},i.opt.lowercase=i.opt.lowercase||i.opt.lowercasetags,i.looseCase=i.opt.lowercase?"toLowerCase":"toUpperCase",i.tags=[],i.closed=i.closedRoot=i.sawRoot=!1,i.tag=i.error=null,i.strict=!!r,i.noscript=!(!r&&!i.opt.noscript),i.state=O.BEGIN,i.strictEntities=i.opt.strictEntities,i.ENTITIES=i.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),i.attribList=[],i.opt.xmlns&&(i.ns=Object.create(p)),i.trackPosition=!1!==i.opt.position,i.trackPosition&&(i.position=i.line=i.column=0),A(i,"onready")}e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"],Object.create||(Object.create=function(e){function t(){}return t.prototype=e,new t}),Object.keys||(Object.keys=function(e){var t=[];for(var a in e)e.hasOwnProperty(a)&&t.push(a);return t}),a.prototype={end:function(){k(this)},write:function(a){var r=this;if(this.error)throw this.error;if(r.closed)return I(r,"Cannot write after close. Assign an onready handler.");if(null===a)return k(r);"object"==typeof a&&(a=a.toString());for(var n=0,i="";i=F(a,n++),r.c=i,i;)switch(r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++),r.state){case O.BEGIN:if(r.state=O.BEGIN_WHITESPACE,"\ufeff"===i)continue;$(r,i);continue;case O.BEGIN_WHITESPACE:$(r,i);continue;case O.TEXT:if(r.sawRoot&&!r.closedRoot){for(var l=n-1;i&&"<"!==i&&"&"!==i;)(i=F(a,n++))&&r.trackPosition&&(r.position++,"\n"===i?(r.line++,r.column=0):r.column++);r.textNode+=a.substring(l,n-1)}"<"!==i||r.sawRoot&&r.closedRoot&&!r.strict?(f(i)||r.sawRoot&&!r.closedRoot||R(r,"Text data outside of root node."),"&"===i?r.state=O.TEXT_ENTITY:r.textNode+=i):(r.state=O.OPEN_WAKA,r.startTagPosition=r.position);continue;case O.SCRIPT:"<"===i?r.state=O.SCRIPT_ENDING:r.script+=i;continue;case O.SCRIPT_ENDING:"/"===i?r.state=O.CLOSE_TAG:(r.script+="<"+i,r.state=O.SCRIPT);continue;case O.OPEN_WAKA:if("!"===i)r.state=O.SGML_DECL,r.sgmlDecl="";else if(f(i));else if(v(u,i))r.state=O.OPEN_TAG,r.tagName=i;else if("/"===i)r.state=O.CLOSE_TAG,r.tagName="";else if("?"===i)r.state=O.PROC_INST,r.procInstName=r.procInstBody="";else{if(R(r,"Unencoded <"),r.startTagPosition+1<r.position){var d=r.position-r.startTagPosition;i=new Array(d).join(" ")+i}r.textNode+="<"+i,r.state=O.TEXT}continue;case O.SGML_DECL:(r.sgmlDecl+i).toUpperCase()===s?(S(r,"onopencdata"),r.state=O.CDATA,r.sgmlDecl="",r.cdata=""):r.sgmlDecl+i==="--"?(r.state=O.COMMENT,r.comment="",r.sgmlDecl=""):(r.sgmlDecl+i).toUpperCase()===o?(r.state=O.DOCTYPE,(r.doctype||r.sawRoot)&&R(r,"Inappropriately located doctype declaration"),r.doctype="",r.sgmlDecl=""):">"===i?(S(r,"onsgmldeclaration",r.sgmlDecl),r.sgmlDecl="",r.state=O.TEXT):b(i)?(r.state=O.SGML_DECL_QUOTED,r.sgmlDecl+=i):r.sgmlDecl+=i;continue;case O.SGML_DECL_QUOTED:i===r.q&&(r.state=O.SGML_DECL,r.q=""),r.sgmlDecl+=i;continue;case O.DOCTYPE:">"===i?(r.state=O.TEXT,S(r,"ondoctype",r.doctype),r.doctype=!0):(r.doctype+=i,"["===i?r.state=O.DOCTYPE_DTD:b(i)&&(r.state=O.DOCTYPE_QUOTED,r.q=i));continue;case O.DOCTYPE_QUOTED:r.doctype+=i,i===r.q&&(r.q="",r.state=O.DOCTYPE);continue;case O.DOCTYPE_DTD:r.doctype+=i,"]"===i?r.state=O.DOCTYPE:b(i)&&(r.state=O.DOCTYPE_DTD_QUOTED,r.q=i);continue;case O.DOCTYPE_DTD_QUOTED:r.doctype+=i,i===r.q&&(r.state=O.DOCTYPE_DTD,r.q="");continue;case O.COMMENT:"-"===i?r.state=O.COMMENT_ENDING:r.comment+=i;continue;case O.COMMENT_ENDING:"-"===i?(r.state=O.COMMENT_ENDED,r.comment=E(r.opt,r.comment),r.comment&&S(r,"oncomment",r.comment),r.comment=""):(r.comment+="-"+i,r.state=O.COMMENT);continue;case O.COMMENT_ENDED:">"!==i?(R(r,"Malformed comment"),r.comment+="--"+i,r.state=O.COMMENT):r.state=O.TEXT;continue;case O.CDATA:"]"===i?r.state=O.CDATA_ENDING:r.cdata+=i;continue;case O.CDATA_ENDING:"]"===i?r.state=O.CDATA_ENDING_2:(r.cdata+="]"+i,r.state=O.CDATA);continue;case O.CDATA_ENDING_2:">"===i?(r.cdata&&S(r,"oncdata",r.cdata),S(r,"onclosecdata"),r.cdata="",r.state=O.TEXT):"]"===i?r.cdata+="]":(r.cdata+="]]"+i,r.state=O.CDATA);continue;case O.PROC_INST:"?"===i?r.state=O.PROC_INST_ENDING:f(i)?r.state=O.PROC_INST_BODY:r.procInstName+=i;continue;case O.PROC_INST_BODY:if(!r.procInstBody&&f(i))continue;"?"===i?r.state=O.PROC_INST_ENDING:r.procInstBody+=i;continue;case O.PROC_INST_ENDING:">"===i?(S(r,"onprocessinginstruction",{name:r.procInstName,body:r.procInstBody}),r.procInstName=r.procInstBody="",r.state=O.TEXT):(r.procInstBody+="?"+i,r.state=O.PROC_INST_BODY);continue;case O.OPEN_TAG:v(c,i)?r.tagName+=i:(j(r),">"===i?M(r):"/"===i?r.state=O.OPEN_TAG_SLASH:(f(i)||R(r,"Invalid character in tag name"),r.state=O.ATTRIB));continue;case O.OPEN_TAG_SLASH:">"===i?(M(r,!0),D(r)):(R(r,"Forward-slash in opening tag not followed by >"),r.state=O.ATTRIB);continue;case O.ATTRIB:if(f(i))continue;">"===i?M(r):"/"===i?r.state=O.OPEN_TAG_SLASH:v(u,i)?(r.attribName=i,r.attribValue="",r.state=O.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case O.ATTRIB_NAME:"="===i?r.state=O.ATTRIB_VALUE:">"===i?(R(r,"Attribute without value"),r.attribValue=r.attribName,N(r),M(r)):f(i)?r.state=O.ATTRIB_NAME_SAW_WHITE:v(c,i)?r.attribName+=i:R(r,"Invalid attribute name");continue;case O.ATTRIB_NAME_SAW_WHITE:if("="===i)r.state=O.ATTRIB_VALUE;else{if(f(i))continue;R(r,"Attribute without value"),r.tag.attributes[r.attribName]="",r.attribValue="",S(r,"onattribute",{name:r.attribName,value:""}),r.attribName="",">"===i?M(r):v(u,i)?(r.attribName=i,r.state=O.ATTRIB_NAME):(R(r,"Invalid attribute name"),r.state=O.ATTRIB)}continue;case O.ATTRIB_VALUE:if(f(i))continue;b(i)?(r.q=i,r.state=O.ATTRIB_VALUE_QUOTED):(R(r,"Unquoted attribute value"),r.state=O.ATTRIB_VALUE_UNQUOTED,r.attribValue=i);continue;case O.ATTRIB_VALUE_QUOTED:if(i!==r.q){"&"===i?r.state=O.ATTRIB_VALUE_ENTITY_Q:r.attribValue+=i;continue}N(r),r.q="",r.state=O.ATTRIB_VALUE_CLOSED;continue;case O.ATTRIB_VALUE_CLOSED:f(i)?r.state=O.ATTRIB:">"===i?M(r):"/"===i?r.state=O.OPEN_TAG_SLASH:v(u,i)?(R(r,"No whitespace between attributes"),r.attribName=i,r.attribValue="",r.state=O.ATTRIB_NAME):R(r,"Invalid attribute name");continue;case O.ATTRIB_VALUE_UNQUOTED:if(!g(i)){"&"===i?r.state=O.ATTRIB_VALUE_ENTITY_U:r.attribValue+=i;continue}N(r),">"===i?M(r):r.state=O.ATTRIB;continue;case O.CLOSE_TAG:if(r.tagName)">"===i?D(r):v(c,i)?r.tagName+=i:r.script?(r.script+="</"+r.tagName,r.tagName="",r.state=O.SCRIPT):(f(i)||R(r,"Invalid tagname in closing tag"),r.state=O.CLOSE_TAG_SAW_WHITE);else{if(f(i))continue;y(u,i)?r.script?(r.script+="</"+i,r.state=O.SCRIPT):R(r,"Invalid tagname in closing tag."):r.tagName=i}continue;case O.CLOSE_TAG_SAW_WHITE:if(f(i))continue;">"===i?D(r):R(r,"Invalid characters in closing tag");continue;case O.TEXT_ENTITY:case O.ATTRIB_VALUE_ENTITY_Q:case O.ATTRIB_VALUE_ENTITY_U:var p,_;switch(r.state){case O.TEXT_ENTITY:p=O.TEXT,_="textNode";break;case O.ATTRIB_VALUE_ENTITY_Q:p=O.ATTRIB_VALUE_QUOTED,_="attribValue";break;case O.ATTRIB_VALUE_ENTITY_U:p=O.ATTRIB_VALUE_UNQUOTED,_="attribValue"}if(";"===i)if(r.opt.unparsedEntities){var w=L(r);r.entity="",r.state=p,r.write(w)}else r[_]+=L(r),r.entity="",r.state=p;else v(r.entity.length?h:m,i)?r.entity+=i:(R(r,"Invalid character in entity name"),r[_]+="&"+r.entity+i,r.entity="",r.state=p);continue;default:throw new Error(r,"Unknown state: "+r.state)}return r.position>=r.bufferCheckPosition&&function(a){for(var r=Math.max(e.MAX_BUFFER_LENGTH,10),n=0,i=0,s=t.length;i<s;i++){var o=a[t[i]].length;if(o>r)switch(t[i]){case"textNode":C(a);break;case"cdata":S(a,"oncdata",a.cdata),a.cdata="";break;case"script":S(a,"onscript",a.script),a.script="";break;default:I(a,"Max buffer length exceeded: "+t[i])}n=Math.max(n,o)}var l=e.MAX_BUFFER_LENGTH-n;a.bufferCheckPosition=l+a.position}(r),r},resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){var e;C(e=this),""!==e.cdata&&(S(e,"oncdata",e.cdata),e.cdata=""),""!==e.script&&(S(e,"onscript",e.script),e.script="")}};var r=ReadableStream;r||(r=function(){});var n=e.EVENTS.filter((function(e){return"error"!==e&&"end"!==e}));function i(e,t){if(!(this instanceof i))return new i(e,t);r.apply(this),this._parser=new a(e,t),this.writable=!0,this.readable=!0;var s=this;this._parser.onend=function(){s.emit("end")},this._parser.onerror=function(e){s.emit("error",e),s._parser.error=null},this._decoder=null,n.forEach((function(e){Object.defineProperty(s,"on"+e,{get:function(){return s._parser["on"+e]},set:function(t){if(!t)return s.removeAllListeners(e),s._parser["on"+e]=t,t;s.on(e,t)},enumerable:!0,configurable:!1})}))}i.prototype=Object.create(r.prototype,{constructor:{value:i}}),i.prototype.write=function(e){return this._parser.write(e.toString()),this.emit("data",e),!0},i.prototype.end=function(e){return e&&e.length&&this.write(e),this._parser.end(),!0},i.prototype.on=function(e,t){var a=this;return a._parser["on"+e]||-1===n.indexOf(e)||(a._parser["on"+e]=function(){var t=1===arguments.length?[arguments[0]]:Array.apply(null,arguments);t.splice(0,0,e),a.emit.apply(a,t)}),r.prototype.on.call(a,e,t)};var s="[CDATA[",o="DOCTYPE",l="http://www.w3.org/XML/1998/namespace",d="http://www.w3.org/2000/xmlns/",p={xml:l,xmlns:d},u=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,c=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,m=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,h=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function f(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function b(e){return'"'===e||"'"===e}function g(e){return">"===e||f(e)}function v(e,t){return e.test(t)}function y(e,t){return!v(e,t)}var _,w,P,O=0;for(var T in e.STATE={BEGIN:O++,BEGIN_WHITESPACE:O++,TEXT:O++,TEXT_ENTITY:O++,OPEN_WAKA:O++,SGML_DECL:O++,SGML_DECL_QUOTED:O++,DOCTYPE:O++,DOCTYPE_QUOTED:O++,DOCTYPE_DTD:O++,DOCTYPE_DTD_QUOTED:O++,COMMENT_STARTING:O++,COMMENT:O++,COMMENT_ENDING:O++,COMMENT_ENDED:O++,CDATA:O++,CDATA_ENDING:O++,CDATA_ENDING_2:O++,PROC_INST:O++,PROC_INST_BODY:O++,PROC_INST_ENDING:O++,OPEN_TAG:O++,OPEN_TAG_SLASH:O++,ATTRIB:O++,ATTRIB_NAME:O++,ATTRIB_NAME_SAW_WHITE:O++,ATTRIB_VALUE:O++,ATTRIB_VALUE_QUOTED:O++,ATTRIB_VALUE_CLOSED:O++,ATTRIB_VALUE_UNQUOTED:O++,ATTRIB_VALUE_ENTITY_Q:O++,ATTRIB_VALUE_ENTITY_U:O++,CLOSE_TAG:O++,CLOSE_TAG_SAW_WHITE:O++,SCRIPT:O++,SCRIPT_ENDING:O++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach((function(t){var a=e.ENTITIES[t],r="number"==typeof a?String.fromCharCode(a):a;e.ENTITIES[t]=r})),e.STATE)e.STATE[e.STATE[T]]=T;function A(e,t,a){e[t]&&e[t](a)}function S(e,t,a){e.textNode&&C(e),A(e,t,a)}function C(e){e.textNode=E(e.opt,e.textNode),e.textNode&&A(e,"ontext",e.textNode),e.textNode=""}function E(e,t){return e.trim&&(t=t.trim()),e.normalize&&(t=t.replace(/\s+/g," ")),t}function I(e,t){return C(e),e.trackPosition&&(t+="\nLine: "+e.line+"\nColumn: "+e.column+"\nChar: "+e.c),t=new Error(t),e.error=t,A(e,"onerror",t),e}function k(e){return e.sawRoot&&!e.closedRoot&&R(e,"Unclosed root tag"),e.state!==O.BEGIN&&e.state!==O.BEGIN_WHITESPACE&&e.state!==O.TEXT&&I(e,"Unexpected end"),C(e),e.c="",e.closed=!0,A(e,"onend"),a.call(e,e.strict,e.opt),e}function R(e,t){if("object"!=typeof e||!(e instanceof a))throw new Error("bad call to strictFail");e.strict&&I(e,t)}function j(e){e.strict||(e.tagName=e.tagName[e.looseCase]());var t=e.tags[e.tags.length-1]||e,a=e.tag={name:e.tagName,attributes:{}};e.opt.xmlns&&(a.ns=t.ns),e.attribList.length=0,S(e,"onopentagstart",a)}function x(e,t){var a=e.indexOf(":")<0?["",e]:e.split(":"),r=a[0],n=a[1];return t&&"xmlns"===e&&(r="xmlns",n=""),{prefix:r,local:n}}function N(e){if(e.strict||(e.attribName=e.attribName[e.looseCase]()),-1!==e.attribList.indexOf(e.attribName)||e.tag.attributes.hasOwnProperty(e.attribName))e.attribName=e.attribValue="";else{if(e.opt.xmlns){var t=x(e.attribName,!0),a=t.prefix,r=t.local;if("xmlns"===a)if("xml"===r&&e.attribValue!==l)R(e,"xml: prefix must be bound to "+l+"\nActual: "+e.attribValue);else if("xmlns"===r&&e.attribValue!==d)R(e,"xmlns: prefix must be bound to "+d+"\nActual: "+e.attribValue);else{var n=e.tag,i=e.tags[e.tags.length-1]||e;n.ns===i.ns&&(n.ns=Object.create(i.ns)),n.ns[r]=e.attribValue}e.attribList.push([e.attribName,e.attribValue])}else e.tag.attributes[e.attribName]=e.attribValue,S(e,"onattribute",{name:e.attribName,value:e.attribValue});e.attribName=e.attribValue=""}}function M(e,t){if(e.opt.xmlns){var a=e.tag,r=x(e.tagName);a.prefix=r.prefix,a.local=r.local,a.uri=a.ns[r.prefix]||"",a.prefix&&!a.uri&&(R(e,"Unbound namespace prefix: "+JSON.stringify(e.tagName)),a.uri=r.prefix);var n=e.tags[e.tags.length-1]||e;a.ns&&n.ns!==a.ns&&Object.keys(a.ns).forEach((function(t){S(e,"onopennamespace",{prefix:t,uri:a.ns[t]})}));for(var i=0,s=e.attribList.length;i<s;i++){var o=e.attribList[i],l=o[0],d=o[1],p=x(l,!0),u=p.prefix,c=p.local,m=""===u?"":a.ns[u]||"",h={name:l,value:d,prefix:u,local:c,uri:m};u&&"xmlns"!==u&&!m&&(R(e,"Unbound namespace prefix: "+JSON.stringify(u)),h.uri=u),e.tag.attributes[l]=h,S(e,"onattribute",h)}e.attribList.length=0}e.tag.isSelfClosing=!!t,e.sawRoot=!0,e.tags.push(e.tag),S(e,"onopentag",e.tag),t||(e.noscript||"script"!==e.tagName.toLowerCase()?e.state=O.TEXT:e.state=O.SCRIPT,e.tag=null,e.tagName=""),e.attribName=e.attribValue="",e.attribList.length=0}function D(e){if(!e.tagName)return R(e,"Weird empty close tag."),e.textNode+="</>",void(e.state=O.TEXT);if(e.script){if("script"!==e.tagName)return e.script+="</"+e.tagName+">",e.tagName="",void(e.state=O.SCRIPT);S(e,"onscript",e.script),e.script=""}var t=e.tags.length,a=e.tagName;e.strict||(a=a[e.looseCase]());for(var r=a;t--&&e.tags[t].name!==r;)R(e,"Unexpected close tag");if(t<0)return R(e,"Unmatched closing tag: "+e.tagName),e.textNode+="</"+e.tagName+">",void(e.state=O.TEXT);e.tagName=a;for(var n=e.tags.length;n-- >t;){var i=e.tag=e.tags.pop();e.tagName=e.tag.name,S(e,"onclosetag",e.tagName);var s={};for(var o in i.ns)s[o]=i.ns[o];var l=e.tags[e.tags.length-1]||e;e.opt.xmlns&&i.ns!==l.ns&&Object.keys(i.ns).forEach((function(t){var a=i.ns[t];S(e,"onclosenamespace",{prefix:t,uri:a})}))}0===t&&(e.closedRoot=!0),e.tagName=e.attribValue=e.attribName="",e.attribList.length=0,e.state=O.TEXT}function L(e){var t,a=e.entity,r=a.toLowerCase(),n="";return e.ENTITIES[a]?e.ENTITIES[a]:e.ENTITIES[r]?e.ENTITIES[r]:("#"===(a=r).charAt(0)&&("x"===a.charAt(1)?(a=a.slice(2),n=(t=parseInt(a,16)).toString(16)):(a=a.slice(1),n=(t=parseInt(a,10)).toString(10))),a=a.replace(/^0+/,""),isNaN(t)||n.toLowerCase()!==a?(R(e,"Invalid character entity"),"&"+e.entity+";"):String.fromCodePoint(t))}function $(e,t){"<"===t?(e.state=O.OPEN_WAKA,e.startTagPosition=e.position):f(t)||(R(e,"Non-whitespace before first tag."),e.textNode=t,e.state=O.TEXT)}function F(e,t){var a="";return t<e.length&&(a=e.charAt(t)),a}return O=e.STATE,String.fromCodePoint||(_=String.fromCharCode,w=Math.floor,P=function(){var e,t,a=[],r=-1,n=arguments.length;if(!n)return"";for(var i="";++r<n;){var s=Number(arguments[r]);if(!isFinite(s)||s<0||s>1114111||w(s)!==s)throw RangeError("Invalid code point: "+s);s<=65535?a.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,a.push(e,t)),(r+1===n||a.length>16384)&&(i+=_.apply(null,a),a.length=0)}return i},Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:P,configurable:!0,writable:!0}):String.fromCodePoint=P),e},r=a();t.sax=r},28033:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.pipeGeneratorWithSetup=t.AsyncGeneratorWithSetup=t.concat=t.atee=t.IterableReadableStream=void 0;const r=a(84960);class n extends ReadableStream{constructor(){super(...arguments),Object.defineProperty(this,"reader",{enumerable:!0,configurable:!0,writable:!0,value:void 0})}ensureReader(){this.reader||(this.reader=this.getReader())}async next(){this.ensureReader();try{const e=await this.reader.read();return e.done?(this.reader.releaseLock(),{done:!0,value:void 0}):{done:!1,value:e.value}}catch(e){throw this.reader.releaseLock(),e}}async return(){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}return{done:!0,value:void 0}}async throw(e){if(this.ensureReader(),this.locked){const e=this.reader.cancel();this.reader.releaseLock(),await e}throw e}[Symbol.asyncIterator](){return this}static fromReadableStream(e){const t=e.getReader();return new n({start:e=>function a(){return t.read().then((({done:t,value:r})=>{if(!t)return e.enqueue(r),a();e.close()}))}(),cancel(){t.releaseLock()}})}static fromAsyncGenerator(e){return new n({async pull(t){const{value:a,done:r}=await e.next();r&&t.close(),t.enqueue(a)},async cancel(t){await e.return(t)}})}}t.IterableReadableStream=n,t.atee=function(e,t=2){const a=Array.from({length:t},(()=>[]));return a.map((async function*(t){for(;;)if(0===t.length){const t=await e.next();for(const e of a)e.push(t)}else{if(t[0].done)return;yield t.shift().value}}))},t.concat=function e(t,a){if(Array.isArray(t)&&Array.isArray(a))return t.concat(a);if("string"==typeof t&&"string"==typeof a)return t+a;if("number"==typeof t&&"number"==typeof a)return t+a;if("concat"in t&&"function"==typeof t.concat)return t.concat(a);if("object"==typeof t&&"object"==typeof a){const r={...t};for(const[t,n]of Object.entries(a))t in r&&!Array.isArray(r[t])?r[t]=e(r[t],n):r[t]=n;return r}throw new Error(`Cannot concat ${typeof t} and ${typeof a}`)};class i{constructor(e){Object.defineProperty(this,"generator",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"setup",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"config",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResult",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"firstResultUsed",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.generator=e.generator,this.config=e.config,this.setup=new Promise(((t,a)=>{r.AsyncLocalStorageProviderSingleton.getInstance().run(e.config,(async()=>{this.firstResult=e.generator.next(),e.startSetup?this.firstResult.then(e.startSetup).then(t,a):this.firstResult.then((e=>t(void 0)),a)}))}))}async next(...e){return this.firstResultUsed?r.AsyncLocalStorageProviderSingleton.getInstance().run(this.config,(async()=>this.generator.next(...e))):(this.firstResultUsed=!0,this.firstResult)}async return(e){return this.generator.return(e)}async throw(e){return this.generator.throw(e)}[Symbol.asyncIterator](){return this}}t.AsyncGeneratorWithSetup=i,t.pipeGeneratorWithSetup=async function(e,t,a,...r){const n=new i({generator:t,startSetup:a}),s=await n.setup;return{output:e(n,s,...r),setup:s}}},10454:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encodingForModel=t.getEncoding=void 0;const r=a(34601),n=a(61583),i={},s=new n.AsyncCaller({});async function o(e){return e in i||(i[e]=s.fetch(`https://tiktoken.pages.dev/js/${e}.json`).then((e=>e.json())).then((e=>new r.Tiktoken(e))).catch((t=>{throw delete i[e],t}))),await i[e]}t.getEncoding=o,t.encodingForModel=async function(e){return o((0,r.getEncodingNameForModel)(e))}},50681:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isZodSchema=void 0,t.isZodSchema=function(e){return"function"==typeof e?.parse}},10338:(e,t,a)=>{e.exports=a(83486)},43598:(e,t,a)=>{e.exports=a(75497)},97345:(e,t,a)=>{e.exports=a(70349)},80601:(e,t,a)=>{e.exports=a(37738)},80761:(e,t,a)=>{e.exports=a(83296)},20314:(e,t,a)=>{e.exports=a(85953)},47345:(e,t,a)=>{e.exports=a(61834)},6500:(e,t,a)=>{e.exports=a(14190)},58618:(e,t,a)=>{e.exports=a(96404)},82407:(e,t,a)=>{e.exports=a(33359)},79582:(e,t,a)=>{e.exports=a(50383)},66749:(e,t,a)=>{e.exports=a(96193)},4538:(e,t,a)=>{e.exports=a(37534)},45673:(e,t,a)=>{e.exports=a(64844)},87724:(e,t,a)=>{e.exports=a(61583)},39899:(e,t,a)=>{e.exports=a(82922)},82331:(e,t,a)=>{e.exports=a(60418)},30107:(e,t,a)=>{e.exports=a(28276)},47539:(e,t,a)=>{e.exports=a(96096)},47498:(e,t,a)=>{e.exports=a(28033)},28053:(e,t,a)=>{e.exports=a(10454)},57963:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatGoogleGenerativeAI=void 0;const r=a(89467),n=a(82331),i=a(80761),s=a(53367);class o extends i.BaseChatModel{static lc_name(){return"googlegenerativeai"}get lc_secrets(){return{apiKey:"GOOGLE_API_KEY"}}get _isMultimodalModel(){return this.model.includes("vision")||this.model.startsWith("gemini-1.5")}constructor(e){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gemini-pro"}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxOutputTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topK",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"safetySettings",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.model,this.model=this.modelName,this.maxOutputTokens=e?.maxOutputTokens??this.maxOutputTokens,this.maxOutputTokens&&this.maxOutputTokens<0)throw new Error("`maxOutputTokens` must be a positive integer");if(this.temperature=e?.temperature??this.temperature,this.temperature&&(this.temperature<0||this.temperature>1))throw new Error("`temperature` must be in the range of [0.0,1.0]");if(this.topP=e?.topP??this.topP,this.topP&&this.topP<0)throw new Error("`topP` must be a positive integer");if(this.topP&&this.topP>1)throw new Error("`topP` must be below 1.");if(this.topK=e?.topK??this.topK,this.topK&&this.topK<0)throw new Error("`topK` must be a positive integer");if(this.stopSequences=e?.stopSequences??this.stopSequences,this.apiKey=e?.apiKey??(0,n.getEnvironmentVariable)("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environment variable GOOGLE_API_KEY or in the `apiKey` field of the ChatGoogleGenerativeAI constructor");if(this.safetySettings=e?.safetySettings??this.safetySettings,this.safetySettings&&this.safetySettings.length>0&&new Set(this.safetySettings.map((e=>e.category))).size!==this.safetySettings.length)throw new Error("The categories in `safetySettings` array must be unique");this.streaming=e?.streaming??this.streaming,this.client=new r.GoogleGenerativeAI(this.apiKey).getGenerativeModel({model:this.model,safetySettings:this.safetySettings,generationConfig:{candidateCount:1,stopSequences:this.stopSequences,maxOutputTokens:this.maxOutputTokens,temperature:this.temperature,topP:this.topP,topK:this.topK}},{apiVersion:e?.apiVersion,baseUrl:e?.baseUrl})}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"google_genai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.maxOutputTokens??void 0,ls_stop:e.stop}}_combineLLMOutput(){return[]}_llmType(){return"googlegenerativeai"}async _generate(e,t,a){const r=(0,s.convertBaseMessagesToContent)(e,this._isMultimodalModel);if(this.streaming){const r={},n=this._streamResponseChunks(e,t,a),i={};for await(const e of n){const t=e.generationInfo?.completion??0;void 0===i[t]?i[t]=e:i[t]=i[t].concat(e)}return{generations:Object.entries(i).sort((([e],[t])=>parseInt(e,10)-parseInt(t,10))).map((([e,t])=>t)),llmOutput:{estimatedTokenUsage:r}}}const n=await this.caller.callWithOptions({signal:t?.signal},(async()=>{let e;try{e=await this.client.generateContent({contents:r})}catch(e){throw e.message?.includes("400 Bad Request")&&(e.status=400),e}return e})),i=(0,s.mapGenerateContentResultToChatResult)(n.response);return await(a?.handleLLMNewToken(i.generations[0].text??"")),i}async*_streamResponseChunks(e,t,a){const r=(0,s.convertBaseMessagesToContent)(e,this._isMultimodalModel),n=await this.caller.callWithOptions({signal:t?.signal},(async()=>{const{stream:e}=await this.client.generateContentStream({contents:r});return e}));for await(const e of n){const t=(0,s.convertResponseContentToChatGenerationChunk)(e);t&&(yield t,await(a?.handleLLMNewToken(t.text??"")))}}}t.ChatGoogleGenerativeAI=o},2902:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GoogleGenerativeAIEmbeddings=void 0;const r=a(89467),n=a(82331),i=a(43598),s=a(39899);class o extends i.Embeddings{constructor(e){if(super(e??{}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"embedding-001"}),Object.defineProperty(this,"taskType",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"title",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"maxBatchSize",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.modelName=e?.model?.replace(/^models\//,"")??e?.modelName?.replace(/^models\//,"")??this.modelName,this.model=this.modelName,this.taskType=e?.taskType??this.taskType,this.title=e?.title??this.title,this.title&&"RETRIEVAL_DOCUMENT"!==this.taskType)throw new Error("title can only be sepcified with TaskType.RETRIEVAL_DOCUMENT");if(this.apiKey=e?.apiKey??(0,n.getEnvironmentVariable)("GOOGLE_API_KEY"),!this.apiKey)throw new Error("Please set an API key for Google GenerativeAI in the environmentb variable GOOGLE_API_KEY or in the `apiKey` field of the GoogleGenerativeAIEmbeddings constructor");this.client=new r.GoogleGenerativeAI(this.apiKey).getGenerativeModel({model:this.model})}_convertToContent(e){return{content:{role:"user",parts:[{text:this.stripNewLines?e.replace(/\n/g," "):e}]},taskType:this.taskType,title:this.title}}async _embedQueryContent(e){const t=this._convertToContent(e);return(await this.client.embedContent(t)).embedding.values??[]}async _embedDocumentsContent(e){const t=(0,s.chunkArray)(e,this.maxBatchSize),a=t.map((e=>({requests:e.map((e=>this._convertToContent(e)))})));return(await Promise.allSettled(a.map((e=>this.client.batchEmbedContents(e))))).flatMap(((e,a)=>"fulfilled"===e.status?e.value.embeddings.map((e=>e.values||[])):Array(t[a].length).fill([])))}embedQuery(e){return this.caller.call(this._embedQueryContent.bind(this),e)}embedDocuments(e){return this.caller.call(this._embedDocumentsContent.bind(this),e)}}t.GoogleGenerativeAIEmbeddings=o},45180:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(57963),t),n(a(2902),t)},53367:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertResponseContentToChatGenerationChunk=t.mapGenerateContentResultToChatResult=t.convertBaseMessagesToContent=t.convertMessageContentToParts=t.convertAuthorToRole=t.getMessageAuthor=void 0;const r=a(6500),n=a(79582);function i(e){const t=e._getType();return r.ChatMessage.isInstance(e)?e.role:e.name??t}function s(e){switch(e){case"ai":case"model":return"model";case"system":case"human":return"user";default:throw new Error(`Unknown / unsupported author: ${e}`)}}function o(e,t){return"string"==typeof e?[{text:e}]:e.map((e=>{if("text"===e.type)return{text:e.text};if("image_url"===e.type){if(!t)throw new Error("This model does not support images");let a;if("string"==typeof e.image_url)a=e.image_url;else{if("object"!=typeof e.image_url||!("url"in e.image_url))throw new Error("Please provide image as base64 encoded data URL");a=e.image_url.url}const[r,n]=a.split(",");if(!r.startsWith("data:"))throw new Error("Please provide image as base64 encoded data URL");const[i,s]=r.replace(/^data:/,"").split(";");if("base64"!==s)throw new Error("Please provide image as base64 encoded data URL");return{inlineData:{data:n,mimeType:i}}}if("media"===e.type)return function(e){if("mimeType"in e&&"data"in e)return{inlineData:{mimeType:e.mimeType,data:e.data}};throw new Error("Invalid media content")}(e);throw new Error(`Unknown content type ${e.type}`)}))}t.getMessageAuthor=i,t.convertAuthorToRole=s,t.convertMessageContentToParts=o,t.convertBaseMessagesToContent=function(e,t){return e.reduce(((e,a,n)=>{if(!(0,r.isBaseMessage)(a))throw new Error("Unsupported message input");const l=i(a);if("system"===l&&0!==n)throw new Error("System message should be the first one");const d=s(l),p=e.content[e.content.length];if(!e.mergeWithPreviousContent&&p&&p.role===d)throw new Error("Google Generative AI requires alternate messages between authors");const u=o(a.content,t);if(e.mergeWithPreviousContent){const t=e.content[e.content.length-1];if(!t)throw new Error("There was a problem parsing your system message. Please try a prompt without one.");return t.parts.push(...u),{mergeWithPreviousContent:!1,content:e.content}}const c={role:d,parts:u};return{mergeWithPreviousContent:"system"===l,content:[...e.content,c]}}),{content:[],mergeWithPreviousContent:!1}).content},t.mapGenerateContentResultToChatResult=function(e){if(!e.candidates||0===e.candidates.length||!e.candidates[0])return{generations:[],llmOutput:{filters:e.promptFeedback}};const[t]=e.candidates,{content:a,...n}=t,i=a?.parts[0]?.text??"";return{generations:[{text:i,message:new r.AIMessage({content:i,name:a?a.role:void 0,additional_kwargs:n}),generationInfo:n}]}},t.convertResponseContentToChatGenerationChunk=function(e){if(!e.candidates||0===e.candidates.length)return null;const[t]=e.candidates,{content:a,...i}=t,s=a?.parts[0]?.text??"";return new n.ChatGenerationChunk({text:s,message:new r.AIMessageChunk({content:s,name:a?a.role:void 0,additional_kwargs:{}}),generationInfo:i})}},55039:(e,t,a)=>{e.exports=a(45180)},83295:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureChatOpenAI=void 0;const r=a(32012),n=a(80975),i=a(81047);class s extends n.ChatOpenAI{_llmType(){return"azure_openai"}get lc_aliases(){return{openAIApiKey:"openai_api_key",openAIApiVersion:"openai_api_version",openAIBasePath:"openai_api_base"}}constructor(e){const t=e?{...e}:e;t&&(t.azureOpenAIApiDeploymentName=t.azureOpenAIApiDeploymentName??t.deploymentName,t.azureOpenAIApiKey=t.azureOpenAIApiKey??t.openAIApiKey,t.azureOpenAIApiVersion=t.azureOpenAIApiVersion??t.openAIApiVersion),super(t)}getLsParams(e){const t=super.getLsParams(e);return t.ls_provider="azure",t}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=(0,i.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(a.apiKey=e.azureOpenAIApiKey),a.baseURL||delete a.baseURL,a.defaultHeaders={...a.defaultHeaders,"User-Agent":a.defaultHeaders?.["User-Agent"]?`${a.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new r.AzureOpenAI({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,deployment:this.azureOpenAIApiDeploymentName,...a})}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}toJSON(){const e=super.toJSON();function t(e){return"object"==typeof e&&null!=e}return t(e)&&t(e.kwargs)&&(delete e.kwargs.azure_openai_base_path,delete e.kwargs.azure_openai_api_deployment_name,delete e.kwargs.azure_openai_api_key,delete e.kwargs.azure_openai_api_version,delete e.kwargs.azure_open_ai_base_path),e}}t.AzureChatOpenAI=s},94898:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAIEmbeddings=void 0;const r=a(32012),n=a(67042),i=a(81047),s=a(65792);class o extends n.OpenAIEmbeddings{constructor(e,t){const a={...e};Object.entries(a).length&&(a.azureOpenAIApiDeploymentName=a.azureOpenAIApiDeploymentName??a.deploymentName,a.azureOpenAIApiKey=a.azureOpenAIApiKey??a.apiKey,a.azureOpenAIApiVersion=a.azureOpenAIApiVersion??a.openAIApiVersion),super(a,t)}async embeddingWithRetry(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=(0,i.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(a.apiKey=e.azureOpenAIApiKey),a.baseURL||delete a.baseURL,a.defaultHeaders={...a.defaultHeaders,"User-Agent":a.defaultHeaders?.["User-Agent"]?`${a.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new r.AzureOpenAI({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,deployment:this.azureOpenAIApiDeploymentName,...a})}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call((async()=>{try{return await this.client.embeddings.create(e,t)}catch(e){throw(0,s.wrapOpenAIClientError)(e)}}))}}t.AzureOpenAIEmbeddings=o},20896:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=void 0;const r=a(32012),n=a(4304),i=a(81047);class s extends n.OpenAI{get lc_aliases(){return{openAIApiKey:"openai_api_key",openAIApiVersion:"openai_api_version",openAIBasePath:"openai_api_base"}}constructor(e){const t=e?{...e}:e;t&&(t.azureOpenAIApiDeploymentName=t.azureOpenAIApiDeploymentName??t.deploymentName,t.azureOpenAIApiKey=t.azureOpenAIApiKey??t.openAIApiKey,t.azureOpenAIApiVersion=t.azureOpenAIApiVersion??t.openAIApiVersion),super(t)}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,azureADTokenProvider:this.azureADTokenProvider,baseURL:this.clientConfig.baseURL},t=(0,i.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};this.azureADTokenProvider||(a.apiKey=e.azureOpenAIApiKey),a.baseURL||delete a.baseURL,a.defaultHeaders={...a.defaultHeaders,"User-Agent":a.defaultHeaders?.["User-Agent"]?`${a.defaultHeaders["User-Agent"]}: langchainjs-azure-openai-v2`:"langchainjs-azure-openai-v2"},this.client=new r.AzureOpenAI({apiVersion:this.azureOpenAIApiVersion,azureADTokenProvider:this.azureADTokenProvider,...a})}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}toJSON(){const e=super.toJSON();function t(e){return"object"==typeof e&&null!=e}return t(e)&&t(e.kwargs)&&(delete e.kwargs.azure_openai_base_path,delete e.kwargs.azure_openai_api_deployment_name,delete e.kwargs.azure_openai_api_key,delete e.kwargs.azure_openai_api_version,delete e.kwargs.azure_open_ai_base_path),e}}t.AzureOpenAI=s},80975:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatOpenAI=t.messageToOpenAIRole=void 0;const r=a(32012),n=a(6500),i=a(79582),s=a(82331),o=a(80761),l=a(30107),d=a(4538),p=a(58618),u=a(82407),c=a(39340),m=a(81047),h=a(65792),f=a(61970);function b(e){const t=e._getType();switch(t){case"system":return"system";case"ai":return"assistant";case"human":return"user";case"function":return"function";case"tool":return"tool";case"generic":if(!n.ChatMessage.isInstance(e))throw new Error("Invalid generic chat message");return function(e){return"system"!==e.role&&"assistant"!==e.role&&"user"!==e.role&&"function"!==e.role&&"tool"!==e.role&&console.warn(`Unknown message role: ${e.role}`),e.role}(e);default:throw new Error(`Unknown message type: ${t}`)}}function g(e){const t=e.tool_calls;if("assistant"===e.role){const a=[],r=[];for(const e of t??[])try{a.push((0,u.parseToolCall)(e,{returnId:!0}))}catch(t){r.push((0,u.makeInvalidToolCall)(e,t.message))}return new n.AIMessage({content:e.content||"",tool_calls:a,invalid_tool_calls:r,additional_kwargs:{function_call:e.function_call,tool_calls:t}})}return new n.ChatMessage(e.content||"",e.role??"unknown")}function v(e,t){const a=e.role??t,r=e.content??"";let i;if(i=e.function_call?{function_call:e.function_call}:e.tool_calls?{tool_calls:e.tool_calls}:{},"user"===a)return new n.HumanMessageChunk({content:r});if("assistant"===a){const t=[];if(Array.isArray(e.tool_calls))for(const a of e.tool_calls)t.push({name:a.function?.name,args:a.function?.arguments,id:a.id,index:a.index});return new n.AIMessageChunk({content:r,tool_call_chunks:t,additional_kwargs:i})}return"system"===a?new n.SystemMessageChunk({content:r}):"function"===a?new n.FunctionMessageChunk({content:r,additional_kwargs:i,name:e.name}):"tool"===a?new n.ToolMessageChunk({content:r,additional_kwargs:i,tool_call_id:e.tool_call_id}):new n.ChatMessageChunk({content:r,role:a})}function y(e){return e.map((e=>{const t={role:b(e),content:e.content};return null!=e.name&&(t.name=e.name),null!=e.additional_kwargs.function_call&&(t.function_call=e.additional_kwargs.function_call),(0,n.isAIMessage)(e)&&e.tool_calls?.length?t.tool_calls=e.tool_calls.map(u.convertLangChainToolCallToOpenAI):(null!=e.additional_kwargs.tool_calls&&(t.tool_calls=e.additional_kwargs.tool_calls),null!=e.tool_call_id&&(t.tool_call_id=e.tool_call_id)),t}))}t.messageToOpenAIRole=b;class _ extends o.BaseChatModel{static lc_name(){return"ChatOpenAI"}get callKeys(){return[...super.callKeys,"options","function_call","functions","tools","tool_choice","promptIndex","response_format","seed"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"topLogprobs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,s.getEnvironmentVariable)("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=e?.azureOpenAIApiDeploymentName??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME"),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,s.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,s.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=e?.model??e?.modelName??this.model,this.model=this.modelName,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.maxTokens=e?.maxTokens,this.logprobs=e?.logprobs,this.topLogprobs=e?.topLogprobs,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=this?.stop,this.user=e?.user,this.streaming=e?.streaming??!1,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??""}this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}getLsParams(e){const t=this.invocationParams(e);return{ls_provider:"openai",ls_model_name:this.model,ls_model_type:"chat",ls_temperature:t.temperature??void 0,ls_max_tokens:t.max_tokens??void 0,ls_stop:e.stop}}bindTools(e,t){return this.bind({tools:e.map(l.convertToOpenAITool),...t})}invocationParams(e){var t;return{model:this.model,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,logprobs:this.logprobs,top_logprobs:this.topLogprobs,n:this.n,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,functions:e?.functions,function_call:e?.function_call,tools:(t=e?.tools,void 0!==t&&t.every((e=>Array.isArray(e.lc_namespace)))?e?.tools.map(l.convertToOpenAITool):e?.tools),tool_choice:e?.tool_choice,response_format:e?.response_format,seed:e?.seed,...void 0!==e?.stream_options?{stream_options:e.stream_options}:{},parallel_tool_calls:e?.parallel_tool_calls,...this.modelKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}async*_streamResponseChunks(e,t,a){const r=y(e),s={...this.invocationParams(t),messages:r,stream:!0};let o;const l=await this.completionWithRetry(s,t);let d;for await(const e of l){const r=e?.choices[0];if(e.usage&&(d=e.usage),!r)continue;const{delta:n}=r;if(!n)continue;const s=v(n,o);o=n.role??o;const l={prompt:t.promptIndex??0,completion:r.index??0};if("string"!=typeof s.content){console.log("[WARNING]: Received non-string content from OpenAI. This is currently not supported.");continue}const p={...l};void 0!==r.finish_reason&&(p.finish_reason=r.finish_reason),this.logprobs&&(p.logprobs=r.logprobs);const u=new i.ChatGenerationChunk({message:s,text:s.content,generationInfo:p});yield u,a?.handleLLMNewToken(u.text??"",l,void 0,void 0,void 0,{chunk:u})}if(d){const e=new i.ChatGenerationChunk({message:new n.AIMessageChunk({content:"",usage_metadata:{input_tokens:d.prompt_tokens,output_tokens:d.completion_tokens,total_tokens:d.total_tokens}}),text:""});yield e}if(t.signal?.aborted)throw new Error("AbortError")}identifyingParams(){return this._identifyingParams()}async _generate(e,t,a){const r={},i=this.invocationParams(t),s=y(e);if(i.stream){const n=this._streamResponseChunks(e,t,a),i={};for await(const e of n){e.message.response_metadata={...e.generationInfo,...e.message.response_metadata};const t=e.generationInfo?.completion??0;void 0===i[t]?i[t]=e:i[t]=i[t].concat(e)}const s=Object.entries(i).sort((([e],[t])=>parseInt(e,10)-parseInt(t,10))).map((([e,t])=>t)),{functions:o,function_call:l}=this.invocationParams(t),d=await this.getEstimatedTokenCountFromPrompt(e,o,l),p=await this.getNumTokensFromGenerations(s);return r.promptTokens=d,r.completionTokens=p,r.totalTokens=d+p,{generations:s,llmOutput:{estimatedTokenUsage:r}}}{const e=await this.completionWithRetry({...i,stream:!1,messages:s},{signal:t?.signal,...t?.options}),{completion_tokens:a,prompt_tokens:o,total_tokens:l}=e?.usage??{};a&&(r.completionTokens=(r.completionTokens??0)+a),o&&(r.promptTokens=(r.promptTokens??0)+o),l&&(r.totalTokens=(r.totalTokens??0)+l);const d=[];for(const t of e?.choices??[]){const e={text:t.message?.content??"",message:g(t.message??{role:"assistant"})};e.generationInfo={...t.finish_reason?{finish_reason:t.finish_reason}:{},...t.logprobs?{logprobs:t.logprobs}:{}},(0,n.isAIMessage)(e.message)&&(e.message.usage_metadata={input_tokens:r.promptTokens??0,output_tokens:r.completionTokens??0,total_tokens:r.totalTokens??0}),d.push(e)}return{generations:d,llmOutput:{tokenUsage:r}}}}async getEstimatedTokenCountFromPrompt(e,t,a){let r=(await this.getNumTokensFromMessages(e)).totalCount;if(t&&"auto"!==a){const e=(0,f.formatFunctionDefinitions)(t);r+=await this.getNumTokens(e),r+=9}return t&&e.find((e=>"system"===e._getType()))&&(r-=4),"none"===a?r+=1:"object"==typeof a&&(r+=await this.getNumTokens(a.name)+4),r}async getNumTokensFromGenerations(e){return(await Promise.all(e.map((async e=>e.message.additional_kwargs?.function_call?(await this.getNumTokensFromMessages([e.message])).countPerMessage[0]:await this.getNumTokens(e.message.content))))).reduce(((e,t)=>e+t),0)}async getNumTokensFromMessages(e){let t=0,a=0,r=0;"gpt-3.5-turbo-0301"===this.model?(a=4,r=-1):(a=3,r=1);const n=await Promise.all(e.map((async e=>{const n=await this.getNumTokens(e.content),i=await this.getNumTokens(b(e)),s=void 0!==e.name?r+await this.getNumTokens(e.name):0;let o=n+a+i+s;const l=e;if("function"===l._getType()&&(o-=2),l.additional_kwargs?.function_call&&(o+=3),l?.additional_kwargs.function_call?.name&&(o+=await this.getNumTokens(l.additional_kwargs.function_call?.name)),l.additional_kwargs.function_call?.arguments)try{o+=await this.getNumTokens(JSON.stringify(JSON.parse(l.additional_kwargs.function_call?.arguments)))}catch(e){console.error("Error parsing function arguments",e,JSON.stringify(l.additional_kwargs.function_call)),o+=await this.getNumTokens(l.additional_kwargs.function_call?.arguments)}return t+=o,o})));return t+=3,{totalCount:t,countPerMessage:n}}async completionWithRetry(e,t){const a=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.chat.completions.create(e,a)}catch(e){throw(0,h.wrapOpenAIClientError)(e)}}))}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},t=(0,m.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new r.OpenAI(a)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}_combineLLMOutput(...e){return e.reduce(((e,t)=>(t&&t.tokenUsage&&(e.tokenUsage.completionTokens+=t.tokenUsage.completionTokens??0,e.tokenUsage.promptTokens+=t.tokenUsage.promptTokens??0,e.tokenUsage.totalTokens+=t.tokenUsage.totalTokens??0),e)),{tokenUsage:{completionTokens:0,promptTokens:0,totalTokens:0}})}withStructuredOutput(e,t){let a,r,n,i;var s;let o,l;if(void 0!==(s=e)&&"object"==typeof s.schema?(a=e.schema,r=e.name,n=e.method,i=e.includeRaw):(a=e,r=t?.name,n=t?.method,i=t?.includeRaw),"jsonMode"===n)o=this.bind({response_format:{type:"json_object"}}),l=w(a)?p.StructuredOutputParser.fromZodSchema(a):new p.JsonOutputParser;else{let e=r??"extract";if(w(a)){const t=(0,c.zodToJsonSchema)(a);o=this.bind({tools:[{type:"function",function:{name:e,description:t.description,parameters:t}}],tool_choice:{type:"function",function:{name:e}}}),l=new u.JsonOutputKeyToolsParser({returnSingle:!0,keyName:e,zodSchema:a})}else{let t;"string"==typeof a.name&&"object"==typeof a.parameters&&null!=a.parameters?(t=a,e=a.name):(e=a.title??e,t={name:e,description:a.description??"",parameters:a}),o=this.bind({tools:[{type:"function",function:t}],tool_choice:{type:"function",function:{name:e}}}),l=new u.JsonOutputKeyToolsParser({returnSingle:!0,keyName:e})}}if(!i)return o.pipe(l);const m=d.RunnablePassthrough.assign({parsed:(e,t)=>l.invoke(e.raw,t)}),h=d.RunnablePassthrough.assign({parsed:()=>null}),f=m.withFallbacks({fallbacks:[h]});return d.RunnableSequence.from([{raw:o},f])}}function w(e){return"function"==typeof e?.parse}t.ChatOpenAI=_},67042:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIEmbeddings=void 0;const r=a(32012),n=a(82331),i=a(43598),s=a(39899),o=a(81047),l=a(65792);class d extends i.Embeddings{constructor(e,t){const a={maxConcurrency:2,...e};super(a),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"text-embedding-ada-002"}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:512}),Object.defineProperty(this,"stripNewLines",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"dimensions",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0});let r=a?.apiKey??a?.openAIApiKey??(0,n.getEnvironmentVariable)("OPENAI_API_KEY");const i=a?.azureOpenAIApiKey??(0,n.getEnvironmentVariable)("AZURE_OPENAI_API_KEY");if(this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!i&&!r&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");const s=a?.azureOpenAIApiInstanceName??(0,n.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),o=(a?.azureOpenAIApiEmbeddingsDeploymentName||a?.azureOpenAIApiDeploymentName)??((0,n.getEnvironmentVariable)("AZURE_OPENAI_API_EMBEDDINGS_DEPLOYMENT_NAME")||(0,n.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),l=a?.azureOpenAIApiVersion??(0,n.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION");if(this.azureOpenAIBasePath=a?.azureOpenAIBasePath??(0,n.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=a?.configuration?.organization??(0,n.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=a?.model??a?.modelName??this.model,this.model=this.modelName,this.batchSize=a?.batchSize??(i?1:this.batchSize),this.stripNewLines=a?.stripNewLines??this.stripNewLines,this.timeout=a?.timeout,this.dimensions=a?.dimensions,this.azureOpenAIApiVersion=l,this.azureOpenAIApiKey=i,this.azureOpenAIApiInstanceName=s,this.azureOpenAIApiDeploymentName=o,this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");r=r??""}this.clientConfig={apiKey:r,organization:this.organization,baseURL:t?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params,...t,...e?.configuration}}async embedDocuments(e){const t=(0,s.chunkArray)(this.stripNewLines?e.map((e=>e.replace(/\n/g," "))):e,this.batchSize),a=t.map((e=>{const t={model:this.model,input:e};return this.dimensions&&(t.dimensions=this.dimensions),this.embeddingWithRetry(t)})),r=await Promise.all(a),n=[];for(let e=0;e<r.length;e+=1){const a=t[e],{data:i}=r[e];for(let e=0;e<a.length;e+=1)n.push(i[e].embedding)}return n}async embedQuery(e){const t={model:this.model,input:this.stripNewLines?e.replace(/\n/g," "):e};this.dimensions&&(t.dimensions=this.dimensions);const{data:a}=await this.embeddingWithRetry(t);return a[0].embedding}async embeddingWithRetry(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},t=(0,o.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new r.OpenAI(a)}const t={};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),this.caller.call((async()=>{try{return await this.client.embeddings.create(e,t)}catch(e){throw(0,l.wrapOpenAIClientError)(e)}}))}}t.OpenAIEmbeddings=d},85760:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.toFile=t.OpenAIClient=void 0;var i=a(32012);Object.defineProperty(t,"OpenAIClient",{enumerable:!0,get:function(){return i.OpenAI}}),Object.defineProperty(t,"toFile",{enumerable:!0,get:function(){return i.toFile}}),n(a(80975),t),n(a(83295),t),n(a(4304),t),n(a(20896),t),n(a(94898),t),n(a(67042),t),n(a(8247),t),n(a(65792),t),n(a(81047),t),n(a(46948),t)},62641:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIChat=void 0;const r=a(32012),n=a(79582),i=a(82331),s=a(20314),o=a(81047),l=a(65792);class d extends s.LLM{static lc_name(){return"OpenAIChat"}get callKeys(){return[...super.callKeys,"options","promptIndex"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo"}),Object.defineProperty(this,"prefixMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,i.getEnvironmentVariable)("OPENAI_API_KEY"),this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,i.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),!this.azureOpenAIApiKey&&!this.openAIApiKey)throw new Error("OpenAI or Azure OpenAI API key not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,i.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,i.getEnvironmentVariable)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,i.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,i.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,i.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,i.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=e?.modelName??this.modelName,this.prefixMessages=e?.prefixMessages??this.prefixMessages,this.modelKwargs=e?.modelKwargs??{},this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.logitBias=e?.logitBias,this.maxTokens=e?.maxTokens,this.stop=e?.stop,this.user=e?.user,this.streaming=e?.streaming??!1,this.n>1)throw new Error("Cannot use n > 1 in OpenAIChat LLM. Use ChatOpenAI Chat Model instead.");if(this.azureOpenAIApiKey){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.openAIApiKey=this.openAIApiKey??""}this.clientConfig={apiKey:this.openAIApiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}invocationParams(e){return{model:this.modelName,temperature:this.temperature,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,logit_bias:this.logitBias,max_tokens:-1===this.maxTokens?void 0:this.maxTokens,stop:e?.stop??this.stop,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return{model_name:this.modelName,...this.invocationParams(),...this.clientConfig}}formatMessages(e){const t={role:"user",content:e};return this.prefixMessages?[...this.prefixMessages,t]:[t]}async*_streamResponseChunks(e,t,a){const r={...this.invocationParams(t),messages:this.formatMessages(e),stream:!0},i=await this.completionWithRetry(r,t);for await(const e of i){const r=e?.choices[0];if(!r)continue;const{delta:i}=r,s=new n.GenerationChunk({text:i.content??""});yield s;const o={prompt:t.promptIndex??0,completion:r.index??0};a?.handleLLMNewToken(s.text??"",o)}if(t.signal?.aborted)throw new Error("AbortError")}async _call(e,t,a){const r=this.invocationParams(t);if(r.stream){const r=await this._streamResponseChunks(e,t,a);let n;for await(const e of r)n=void 0===n?e:n.concat(e);return n?.text??""}{const a=await this.completionWithRetry({...r,stream:!1,messages:this.formatMessages(e)},{signal:t.signal,...t.options});return a?.choices[0]?.message?.content??""}}async completionWithRetry(e,t){const a=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.chat.completions.create(e,a)}catch(e){throw(0,l.wrapOpenAIClientError)(e)}}))}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},t=(0,o.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new r.OpenAI(a)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}t.OpenAIChat=d},4304:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAI=t.OpenAIChat=void 0;const r=a(32012),n=a(80601),i=a(79582),s=a(82331),o=a(20314),l=a(39899),d=a(81047),p=a(62641);Object.defineProperty(t,"OpenAIChat",{enumerable:!0,get:function(){return p.OpenAIChat}});const u=a(65792);class c extends o.BaseLLM{static lc_name(){return"OpenAI"}get callKeys(){return[...super.callKeys,"options"]}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY",apiKey:"OPENAI_API_KEY",azureOpenAIApiKey:"AZURE_OPENAI_API_KEY",organization:"OPENAI_ORGANIZATION"}}get lc_aliases(){return{modelName:"model",openAIApiKey:"openai_api_key",apiKey:"openai_api_key",azureOpenAIApiVersion:"azure_openai_api_version",azureOpenAIApiKey:"azure_openai_api_key",azureOpenAIApiInstanceName:"azure_openai_api_instance_name",azureOpenAIApiDeploymentName:"azure_openai_api_deployment_name"}}constructor(e,t){let a=e?.model??e?.modelName;if((a?.startsWith("gpt-3.5-turbo")||a?.startsWith("gpt-4"))&&!a?.includes("-instruct"))return new p.OpenAIChat(e,t);if(super(e??{}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"temperature",{enumerable:!0,configurable:!0,writable:!0,value:.7}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:256}),Object.defineProperty(this,"topP",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"frequencyPenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"presencePenalty",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"bestOf",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"logitBias",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"modelName",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo-instruct"}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"gpt-3.5-turbo-instruct"}),Object.defineProperty(this,"modelKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchSize",{enumerable:!0,configurable:!0,writable:!0,value:20}),Object.defineProperty(this,"timeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stop",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"stopSequences",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"streaming",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiVersion",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureADTokenProvider",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiInstanceName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIApiDeploymentName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"azureOpenAIBasePath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"organization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),a=a??this.model,this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,s.getEnvironmentVariable)("OPENAI_API_KEY"),this.apiKey=this.openAIApiKey,this.azureOpenAIApiKey=e?.azureOpenAIApiKey??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_KEY"),this.azureADTokenProvider=e?.azureADTokenProvider??void 0,!this.azureOpenAIApiKey&&!this.apiKey&&!this.azureADTokenProvider)throw new Error("OpenAI or Azure OpenAI API key or Token Provider not found");if(this.azureOpenAIApiInstanceName=e?.azureOpenAIApiInstanceName??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_INSTANCE_NAME"),this.azureOpenAIApiDeploymentName=(e?.azureOpenAIApiCompletionsDeploymentName||e?.azureOpenAIApiDeploymentName)??((0,s.getEnvironmentVariable)("AZURE_OPENAI_API_COMPLETIONS_DEPLOYMENT_NAME")||(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_DEPLOYMENT_NAME")),this.azureOpenAIApiVersion=e?.azureOpenAIApiVersion??(0,s.getEnvironmentVariable)("AZURE_OPENAI_API_VERSION"),this.azureOpenAIBasePath=e?.azureOpenAIBasePath??(0,s.getEnvironmentVariable)("AZURE_OPENAI_BASE_PATH"),this.organization=e?.configuration?.organization??(0,s.getEnvironmentVariable)("OPENAI_ORGANIZATION"),this.modelName=a,this.model=a,this.modelKwargs=e?.modelKwargs??{},this.batchSize=e?.batchSize??this.batchSize,this.timeout=e?.timeout,this.temperature=e?.temperature??this.temperature,this.maxTokens=e?.maxTokens??this.maxTokens,this.topP=e?.topP??this.topP,this.frequencyPenalty=e?.frequencyPenalty??this.frequencyPenalty,this.presencePenalty=e?.presencePenalty??this.presencePenalty,this.n=e?.n??this.n,this.bestOf=e?.bestOf??this.bestOf,this.logitBias=e?.logitBias,this.stop=e?.stopSequences??e?.stop,this.stopSequences=e?.stopSequences,this.user=e?.user,this.streaming=e?.streaming??!1,this.streaming&&this.bestOf&&this.bestOf>1)throw new Error("Cannot stream results when bestOf > 1");if(this.azureOpenAIApiKey||this.azureADTokenProvider){if(!this.azureOpenAIApiInstanceName&&!this.azureOpenAIBasePath)throw new Error("Azure OpenAI API instance name not found");if(!this.azureOpenAIApiDeploymentName)throw new Error("Azure OpenAI API deployment name not found");if(!this.azureOpenAIApiVersion)throw new Error("Azure OpenAI API version not found");this.apiKey=this.apiKey??""}this.clientConfig={apiKey:this.apiKey,organization:this.organization,baseURL:t?.basePath??e?.configuration?.basePath,dangerouslyAllowBrowser:!0,defaultHeaders:t?.baseOptions?.headers??e?.configuration?.baseOptions?.headers,defaultQuery:t?.baseOptions?.params??e?.configuration?.baseOptions?.params,...t,...e?.configuration}}invocationParams(e){return{model:this.model,temperature:this.temperature,max_tokens:this.maxTokens,top_p:this.topP,frequency_penalty:this.frequencyPenalty,presence_penalty:this.presencePenalty,n:this.n,best_of:this.bestOf,logit_bias:this.logitBias,stop:e?.stop??this.stopSequences,user:this.user,stream:this.streaming,...this.modelKwargs}}_identifyingParams(){return{model_name:this.model,...this.invocationParams(),...this.clientConfig}}identifyingParams(){return this._identifyingParams()}async _generate(e,t,a){const r=(0,l.chunkArray)(e,this.batchSize),i=[],s={},o=this.invocationParams(t);if(-1===o.max_tokens){if(1!==e.length)throw new Error("max_tokens set to -1 not supported for multiple inputs");o.max_tokens=await(0,n.calculateMaxTokens)({prompt:e[0],modelName:this.model})}for(let e=0;e<r.length;e+=1){const n=o.stream?await(async()=>{const n=[];let i;const s=await this.completionWithRetry({...o,stream:!0,prompt:r[e]},t);for await(const e of s){i||(i={id:e.id,object:e.object,created:e.created,model:e.model});for(const t of e.choices){if(n[t.index]){const e=n[t.index];e.text+=t.text,e.finish_reason=t.finish_reason,e.logprobs=t.logprobs}else n[t.index]=t;a?.handleLLMNewToken(t.text,{prompt:Math.floor(t.index/this.n),completion:t.index%this.n})}}if(t.signal?.aborted)throw new Error("AbortError");return{...i,choices:n}})():await this.completionWithRetry({...o,stream:!1,prompt:r[e]},{signal:t.signal,...t.options});i.push(...n.choices);const{completion_tokens:l,prompt_tokens:d,total_tokens:p}=n.usage?n.usage:{completion_tokens:void 0,prompt_tokens:void 0,total_tokens:void 0};l&&(s.completionTokens=(s.completionTokens??0)+l),d&&(s.promptTokens=(s.promptTokens??0)+d),p&&(s.totalTokens=(s.totalTokens??0)+p)}return{generations:(0,l.chunkArray)(i,this.n).map((e=>e.map((e=>({text:e.text??"",generationInfo:{finishReason:e.finish_reason,logprobs:e.logprobs}}))))),llmOutput:{tokenUsage:s}}}async*_streamResponseChunks(e,t,a){const r={...this.invocationParams(t),prompt:e,stream:!0},n=await this.completionWithRetry(r,t);for await(const e of n){const t=e?.choices[0];if(!t)continue;const r=new i.GenerationChunk({text:t.text,generationInfo:{finishReason:t.finish_reason}});yield r,a?.handleLLMNewToken(r.text??"")}if(t.signal?.aborted)throw new Error("AbortError")}async completionWithRetry(e,t){const a=this._getClientOptions(t);return this.caller.call((async()=>{try{return await this.client.completions.create(e,a)}catch(e){throw(0,u.wrapOpenAIClientError)(e)}}))}_getClientOptions(e){if(!this.client){const e={azureOpenAIApiDeploymentName:this.azureOpenAIApiDeploymentName,azureOpenAIApiInstanceName:this.azureOpenAIApiInstanceName,azureOpenAIApiKey:this.azureOpenAIApiKey,azureOpenAIBasePath:this.azureOpenAIBasePath,baseURL:this.clientConfig.baseURL},t=(0,d.getEndpoint)(e),a={...this.clientConfig,baseURL:t,timeout:this.timeout,maxRetries:0};a.baseURL||delete a.baseURL,this.client=new r.OpenAI(a)}const t={...this.clientConfig,...e};return this.azureOpenAIApiKey&&(t.headers={"api-key":this.azureOpenAIApiKey,...t.headers},t.query={"api-version":this.azureOpenAIApiVersion,...t.query}),t}_llmType(){return"openai"}}t.OpenAI=c},91562:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DallEAPIWrapper=void 0;const r=a(82331),n=a(32012),i=a(45673);class s extends i.Tool{static lc_name(){return"DallEAPIWrapper"}constructor(e){super(e),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"}),Object.defineProperty(this,"description",{enumerable:!0,configurable:!0,writable:!0,value:"A wrapper around OpenAI DALL-E API. Useful for when you need to generate images from a text description. Input should be an image description."}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"model",{enumerable:!0,configurable:!0,writable:!0,value:"dall-e-3"}),Object.defineProperty(this,"style",{enumerable:!0,configurable:!0,writable:!0,value:"vivid"}),Object.defineProperty(this,"quality",{enumerable:!0,configurable:!0,writable:!0,value:"standard"}),Object.defineProperty(this,"n",{enumerable:!0,configurable:!0,writable:!0,value:1}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:"1024x1024"}),Object.defineProperty(this,"responseFormat",{enumerable:!0,configurable:!0,writable:!0,value:"url"}),Object.defineProperty(this,"user",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t={apiKey:e?.apiKey??e?.openAIApiKey??(0,r.getEnvironmentVariable)("OPENAI_API_KEY"),organization:e?.organization??(0,r.getEnvironmentVariable)("OPENAI_ORGANIZATION"),dangerouslyAllowBrowser:!0};this.client=new n.OpenAI(t),this.model=e?.model??e?.modelName??this.model,this.style=e?.style??this.style,this.quality=e?.quality??this.quality,this.n=e?.n??this.n,this.size=e?.size??this.size,this.responseFormat=e?.responseFormat??this.responseFormat,this.user=e?.user}async _call(e){const t=await this.client.images.generate({model:this.model,prompt:e,n:this.n,size:this.size,response_format:this.responseFormat,style:this.style,quality:this.quality,user:this.user});let a="";return"url"===this.responseFormat?[a]=t.data.map((e=>e.url)).filter((e=>"undefined"!==e)):[a]=t.data.map((e=>e.b64_json)).filter((e=>"undefined"!==e)),a}}t.DallEAPIWrapper=s,Object.defineProperty(s,"toolName",{enumerable:!0,configurable:!0,writable:!0,value:"dalle_api_wrapper"})},46948:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(91562),t)},8247:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEndpoint=void 0,t.getEndpoint=function(e){const{azureOpenAIApiDeploymentName:t,azureOpenAIApiInstanceName:a,azureOpenAIApiKey:r,azureOpenAIBasePath:n,baseURL:i,azureADTokenProvider:s}=e;if((r||s)&&n&&t)return`${n}/${t}`;if(r||s){if(!a)throw new Error("azureOpenAIApiInstanceName is required when using azureOpenAIApiKey");if(!t)throw new Error("azureOpenAIApiDeploymentName is a required parameter when using azureOpenAIApiKey");return`https://${a}.openai.azure.com/openai/deployments/${t}`}return i}},61970:(e,t)=>{"use strict";function a(e,t){const a=[];for(const[n,i]of Object.entries(e.properties??{}))i.description&&t<2&&a.push(`// ${i.description}`),e.required?.includes(n)?a.push(`${n}: ${r(i,t)},`):a.push(`${n}?: ${r(i,t)},`);return a.map((e=>" ".repeat(t)+e)).join("\n")}function r(e,t){if(void 0!==(n=e).anyOf&&Array.isArray(n.anyOf))return e.anyOf.map((e=>r(e,t))).join(" | ");var n;switch(e.type){case"string":return e.enum?e.enum.map((e=>`"${e}"`)).join(" | "):"string";case"number":case"integer":return e.enum?e.enum.map((e=>`${e}`)).join(" | "):"number";case"boolean":return"boolean";case"null":return"null";case"object":return["{",a(e,t+2),"}"].join("\n");case"array":return e.items?`${r(e.items,t)}[]`:"any[]";default:return""}}Object.defineProperty(t,"__esModule",{value:!0}),t.formatFunctionDefinitions=void 0,t.formatFunctionDefinitions=function(e){const t=["namespace functions {",""];for(const r of e)r.description&&t.push(`// ${r.description}`),Object.keys(r.parameters.properties??{}).length>0?(t.push(`type ${r.name} = (_: {`),t.push(a(r.parameters,0)),t.push("}) => any;")):t.push(`type ${r.name} = () => any;`),t.push("");return t.push("} // namespace functions"),t.join("\n")}},65792:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatToOpenAIAssistantTool=t.formatToOpenAITool=t.formatToOpenAIFunction=t.wrapOpenAIClientError=void 0;const r=a(32012),n=a(39340),i=a(30107);Object.defineProperty(t,"formatToOpenAIFunction",{enumerable:!0,get:function(){return i.convertToOpenAIFunction}}),Object.defineProperty(t,"formatToOpenAITool",{enumerable:!0,get:function(){return i.convertToOpenAITool}}),t.wrapOpenAIClientError=function(e){let t;return e.constructor.name===r.APIConnectionTimeoutError.name?(t=new Error(e.message),t.name="TimeoutError"):e.constructor.name===r.APIUserAbortError.name?(t=new Error(e.message),t.name="AbortError"):t=e,t},t.formatToOpenAIAssistantTool=function(e){return{type:"function",function:{name:e.name,description:e.description,parameters:(0,n.zodToJsonSchema)(e.schema)}}}},4627:(e,t,a)=>{e.exports=a(85760)},93091:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(42974),t)},42974:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LatexTextSplitter=t.MarkdownTextSplitter=t.TokenTextSplitter=t.RecursiveCharacterTextSplitter=t.SupportedTextSplitterLanguages=t.CharacterTextSplitter=t.TextSplitter=void 0;const r=a(10338),n=a(28053);class i extends r.BaseDocumentTransformer{constructor(e){if(super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","document_transformers","text_splitters"]}),Object.defineProperty(this,"chunkSize",{enumerable:!0,configurable:!0,writable:!0,value:1e3}),Object.defineProperty(this,"chunkOverlap",{enumerable:!0,configurable:!0,writable:!0,value:200}),Object.defineProperty(this,"keepSeparator",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"lengthFunction",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chunkSize=e?.chunkSize??this.chunkSize,this.chunkOverlap=e?.chunkOverlap??this.chunkOverlap,this.keepSeparator=e?.keepSeparator??this.keepSeparator,this.lengthFunction=e?.lengthFunction??(e=>e.length),this.chunkOverlap>=this.chunkSize)throw new Error("Cannot have chunkOverlap >= chunkSize")}async transformDocuments(e,t={}){return this.splitDocuments(e,t)}splitOnSeparator(e,t){let a;if(t)if(this.keepSeparator){const r=t.replace(/[/\-\\^$*+?.()|[\]{}]/g,"\\$&");a=e.split(new RegExp(`(?=${r})`))}else a=e.split(t);else a=e.split("");return a.filter((e=>""!==e))}async createDocuments(e,t=[],a={}){const n=t.length>0?t:[...Array(e.length)].map((()=>({}))),{chunkHeader:i="",chunkOverlapHeader:s="(cont'd) ",appendChunkOverlapHeader:o=!1}=a,l=new Array;for(let t=0;t<e.length;t+=1){const a=e[t];let d=1,p=null,u=-1;for(const e of await this.splitText(a)){let c=i;const m=a.indexOf(e,u+1);if(null===p)d+=this.numberOfNewLines(a,0,m);else{const e=u+await this.lengthFunction(p);e<m?d+=this.numberOfNewLines(a,e,m):e>m&&(d-=this.numberOfNewLines(a,m,e)),o&&(c+=s)}const h=this.numberOfNewLines(e),f=n[t].loc&&"object"==typeof n[t].loc?{...n[t].loc}:{};f.lines={from:d,to:d+h};const b={...n[t],loc:f};c+=e,l.push(new r.Document({pageContent:c,metadata:b})),d+=h,p=e,u=m}}return l}numberOfNewLines(e,t,a){return(e.slice(t,a).match(/\n/g)||[]).length}async splitDocuments(e,t={}){const a=e.filter((e=>void 0!==e.pageContent)),r=a.map((e=>e.pageContent)),n=a.map((e=>e.metadata));return this.createDocuments(r,n,t)}joinDocs(e,t){const a=e.join(t).trim();return""===a?null:a}async mergeSplits(e,t){const a=[],r=[];let n=0;for(const i of e){const e=await this.lengthFunction(i);if(n+e+r.length*t.length>this.chunkSize&&(n>this.chunkSize&&console.warn(`Created a chunk of size ${n}, +\nwhich is longer than the specified ${this.chunkSize}`),r.length>0)){const i=this.joinDocs(r,t);for(null!==i&&a.push(i);n>this.chunkOverlap||n+e+r.length*t.length>this.chunkSize&&n>0;)n-=await this.lengthFunction(r[0]),r.shift()}r.push(i),n+=e}const i=this.joinDocs(r,t);return null!==i&&a.push(i),a}}t.TextSplitter=i,t.CharacterTextSplitter=class extends i{static lc_name(){return"CharacterTextSplitter"}constructor(e){super(e),Object.defineProperty(this,"separator",{enumerable:!0,configurable:!0,writable:!0,value:"\n\n"}),this.separator=e?.separator??this.separator}async splitText(e){const t=this.splitOnSeparator(e,this.separator);return this.mergeSplits(t,this.keepSeparator?"":this.separator)}},t.SupportedTextSplitterLanguages=["cpp","go","java","js","php","proto","python","rst","ruby","rust","scala","swift","markdown","latex","html","sol"];class s extends i{static lc_name(){return"RecursiveCharacterTextSplitter"}constructor(e){super(e),Object.defineProperty(this,"separators",{enumerable:!0,configurable:!0,writable:!0,value:["\n\n","\n"," ",""]}),this.separators=e?.separators??this.separators,this.keepSeparator=e?.keepSeparator??!0}async _splitText(e,t){const a=[];let r,n=t[t.length-1];for(let a=0;a<t.length;a+=1){const i=t[a];if(""===i){n=i;break}if(e.includes(i)){n=i,r=t.slice(a+1);break}}const i=this.splitOnSeparator(e,n);let s=[];const o=this.keepSeparator?"":n;for(const e of i)if(await this.lengthFunction(e)<this.chunkSize)s.push(e);else{if(s.length){const e=await this.mergeSplits(s,o);a.push(...e),s=[]}if(r){const t=await this._splitText(e,r);a.push(...t)}else a.push(e)}if(s.length){const e=await this.mergeSplits(s,o);a.push(...e)}return a}async splitText(e){return this._splitText(e,this.separators)}static fromLanguage(e,t){return new s({...t,separators:s.getSeparatorsForLanguage(e)})}static getSeparatorsForLanguage(e){if("cpp"===e)return["\nclass ","\nvoid ","\nint ","\nfloat ","\ndouble ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("go"===e)return["\nfunc ","\nvar ","\nconst ","\ntype ","\nif ","\nfor ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("java"===e)return["\nclass ","\npublic ","\nprotected ","\nprivate ","\nstatic ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("js"===e)return["\nfunction ","\nconst ","\nlet ","\nvar ","\nclass ","\nif ","\nfor ","\nwhile ","\nswitch ","\ncase ","\ndefault ","\n\n","\n"," ",""];if("php"===e)return["\nfunction ","\nclass ","\nif ","\nforeach ","\nwhile ","\ndo ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("proto"===e)return["\nmessage ","\nservice ","\nenum ","\noption ","\nimport ","\nsyntax ","\n\n","\n"," ",""];if("python"===e)return["\nclass ","\ndef ","\n\tdef ","\n\n","\n"," ",""];if("rst"===e)return["\n===\n","\n---\n","\n***\n","\n.. ","\n\n","\n"," ",""];if("ruby"===e)return["\ndef ","\nclass ","\nif ","\nunless ","\nwhile ","\nfor ","\ndo ","\nbegin ","\nrescue ","\n\n","\n"," ",""];if("rust"===e)return["\nfn ","\nconst ","\nlet ","\nif ","\nwhile ","\nfor ","\nloop ","\nmatch ","\nconst ","\n\n","\n"," ",""];if("scala"===e)return["\nclass ","\nobject ","\ndef ","\nval ","\nvar ","\nif ","\nfor ","\nwhile ","\nmatch ","\ncase ","\n\n","\n"," ",""];if("swift"===e)return["\nfunc ","\nclass ","\nstruct ","\nenum ","\nif ","\nfor ","\nwhile ","\ndo ","\nswitch ","\ncase ","\n\n","\n"," ",""];if("markdown"===e)return["\n## ","\n### ","\n#### ","\n##### ","\n###### ","```\n\n","\n\n***\n\n","\n\n---\n\n","\n\n___\n\n","\n\n","\n"," ",""];if("latex"===e)return["\n\\chapter{","\n\\section{","\n\\subsection{","\n\\subsubsection{","\n\\begin{enumerate}","\n\\begin{itemize}","\n\\begin{description}","\n\\begin{list}","\n\\begin{quote}","\n\\begin{quotation}","\n\\begin{verse}","\n\\begin{verbatim}","\n\\begin{align}","$$","$","\n\n","\n"," ",""];if("html"===e)return["<body>","<div>","<p>","<br>","<li>","<h1>","<h2>","<h3>","<h4>","<h5>","<h6>","<span>","<table>","<tr>","<td>","<th>","<ul>","<ol>","<header>","<footer>","<nav>","<head>","<style>","<script>","<meta>","<title>"," ",""];if("sol"===e)return["\npragma ","\nusing ","\ncontract ","\ninterface ","\nlibrary ","\nconstructor ","\ntype ","\nfunction ","\nevent ","\nmodifier ","\nerror ","\nstruct ","\nenum ","\nif ","\nfor ","\nwhile ","\ndo while ","\nassembly ","\n\n","\n"," ",""];throw new Error(`Language ${e} is not supported.`)}}t.RecursiveCharacterTextSplitter=s,t.TokenTextSplitter=class extends i{static lc_name(){return"TokenTextSplitter"}constructor(e){super(e),Object.defineProperty(this,"encodingName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"allowedSpecial",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"disallowedSpecial",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tokenizer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.encodingName=e?.encodingName??"gpt2",this.allowedSpecial=e?.allowedSpecial??[],this.disallowedSpecial=e?.disallowedSpecial??"all"}async splitText(e){this.tokenizer||(this.tokenizer=await(0,n.getEncoding)(this.encodingName));const t=[],a=this.tokenizer.encode(e,this.allowedSpecial,this.disallowedSpecial);let r=0;for(;r<a.length;){r>0&&(r-=this.chunkOverlap);const e=Math.min(r+this.chunkSize,a.length),n=a.slice(r,e);t.push(this.tokenizer.decode(n)),r=e}return t}},t.MarkdownTextSplitter=class extends s{constructor(e){super({...e,separators:s.getSeparatorsForLanguage("markdown")})}},t.LatexTextSplitter=class extends s{constructor(e){super({...e,separators:s.getSeparatorsForLanguage("latex")})}}},50138:(e,t,a)=>{e.exports=a(93091)},61310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},19653:function(e,t,a){"use strict";var r,n,i,s,o,l,d,p,u,c,m=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},h=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Encoder=t.FormDataEncoder=void 0;const b=f(a(18520)),g=f(a(74631)),v=f(a(74482)),y=f(a(29938)),_=a(20219),w=a(19912),P={enableAdditionalHeaders:!1};class O{constructor(e,t,a){if(r.add(this),n.set(this,"\r\n"),i.set(this,void 0),s.set(this,void 0),o.set(this,"-".repeat(2)),l.set(this,new TextEncoder),d.set(this,void 0),p.set(this,void 0),u.set(this,void 0),!(0,w.isFormData)(e))throw new TypeError("Expected first argument to be a FormData instance.");let c;if((0,g.default)(t)?a=t:c=t,c||(c=(0,b.default)()),"string"!=typeof c)throw new TypeError("Expected boundary argument to be a string.");if(a&&!(0,g.default)(a))throw new TypeError("Expected options argument to be an object.");m(this,p,e,"f"),m(this,u,{...P,...a},"f"),m(this,i,h(this,l,"f").encode(h(this,n,"f")),"f"),m(this,s,h(this,i,"f").byteLength,"f"),this.boundary=`form-data-boundary-${c}`,this.contentType=`multipart/form-data; boundary=${this.boundary}`,m(this,d,h(this,l,"f").encode(`${h(this,o,"f")}${this.boundary}${h(this,o,"f")}${h(this,n,"f").repeat(2)}`),"f"),this.contentLength=String(this.getContentLength()),this.headers=Object.freeze({"Content-Type":this.contentType,"Content-Length":this.contentLength}),Object.defineProperties(this,{boundary:{writable:!1,configurable:!1},contentType:{writable:!1,configurable:!1},contentLength:{writable:!1,configurable:!1},headers:{writable:!1,configurable:!1}})}getContentLength(){let e=0;for(const[t,a]of h(this,p,"f")){const n=(0,_.isFileLike)(a)?a:h(this,l,"f").encode((0,v.default)(a));e+=h(this,r,"m",c).call(this,t,n).byteLength,e+=(0,_.isFileLike)(n)?n.size:n.byteLength,e+=h(this,s,"f")}return e+h(this,d,"f").byteLength}*values(){for(const[e,t]of h(this,p,"f").entries()){const a=(0,_.isFileLike)(t)?t:h(this,l,"f").encode((0,v.default)(t));yield h(this,r,"m",c).call(this,e,a),yield a,yield h(this,i,"f")}yield h(this,d,"f")}async*encode(){for(const e of this.values())(0,_.isFileLike)(e)?yield*e.stream():yield e}[(n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,r=new WeakSet,c=function(e,t){let a="";return a+=`${h(this,o,"f")}${this.boundary}${h(this,n,"f")}`,a+=`Content-Disposition: form-data; name="${(0,y.default)(e)}"`,(0,_.isFileLike)(t)&&(a+=`; filename="${(0,y.default)(t.name)}"${h(this,n,"f")}`,a+=`Content-Type: ${t.type||"application/octet-stream"}`),!0===h(this,u,"f").enableAdditionalHeaders&&(a+=`${h(this,n,"f")}Content-Length: ${(0,_.isFileLike)(t)?t.size:t.byteLength}`),h(this,l,"f").encode(`${a}${h(this,n,"f").repeat(2)}`)},Symbol.iterator)](){return this.values()}[Symbol.asyncIterator](){return this.encode()}}t.FormDataEncoder=O,t.Encoder=O},88382:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},96795:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(19653),t),n(a(61310),t),n(a(88382),t),n(a(20219),t),n(a(19912),t)},18520:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){let e=16,t="";for(;e--;)t+="abcdefghijklmnopqrstuvwxyz0123456789"[36*Math.random()|0];return t}},29938:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>String(e).replace(/\r/g,"%0D").replace(/\n/g,"%0A").replace(/"/g,"%22")},20219:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isFileLike=void 0;const n=r(a(44286));t.isFileLike=e=>Boolean(e&&"object"==typeof e&&(0,n.default)(e.constructor)&&"File"===e[Symbol.toStringTag]&&(0,n.default)(e.stream)&&null!=e.name&&null!=e.size&&null!=e.lastModified)},19912:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.isFormDataLike=t.isFormData=void 0;const n=r(a(44286));t.isFormData=e=>Boolean(e&&(0,n.default)(e.constructor)&&"FormData"===e[Symbol.toStringTag]&&(0,n.default)(e.append)&&(0,n.default)(e.getAll)&&(0,n.default)(e.entries)&&(0,n.default)(e[Symbol.iterator])),t.isFormDataLike=t.isFormData},44286:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>"function"==typeof e},74631:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("object"!==(e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase())(e))return!1;const t=Object.getPrototypeOf(e);return null==t||(t.constructor&&t.constructor.toString())===Object.toString()}},74482:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=e=>String(e).replace(/\r|\n/g,((e,t,a)=>"\r"===e&&"\n"!==a[t+1]||"\n"===e&&"\r"!==a[t-1]?"\r\n":e))},64291:function(e,t,a){"use strict";var r,n,i,s=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},o=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.Blob=void 0;const l=a(3476),d=a(21348),p=a(92310);class u{constructor(e=[],t={}){if(r.set(this,[]),n.set(this,""),i.set(this,0),null!=t||(t={}),"object"!=typeof e||null===e)throw new TypeError("Failed to construct 'Blob': The provided value cannot be converted to a sequence.");if(!(0,d.isFunction)(e[Symbol.iterator]))throw new TypeError("Failed to construct 'Blob': The object must have a callable @@iterator property.");if("object"!=typeof t&&!(0,d.isFunction)(t))throw new TypeError("Failed to construct 'Blob': parameter 2 cannot convert to dictionary.");const a=new TextEncoder;for(const t of e){let e;e=ArrayBuffer.isView(t)?new Uint8Array(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength)):t instanceof ArrayBuffer?new Uint8Array(t.slice(0)):t instanceof u?t:a.encode(String(t)),o(this,i,s(this,i,"f")+(ArrayBuffer.isView(e)?e.byteLength:e.size),"f"),s(this,r,"f").push(e)}const l=void 0===t.type?"":String(t.type);o(this,n,/^[\x20-\x7E]*$/.test(l)?l:"","f")}static[(r=new WeakMap,n=new WeakMap,i=new WeakMap,Symbol.hasInstance)](e){return Boolean(e&&"object"==typeof e&&(0,d.isFunction)(e.constructor)&&((0,d.isFunction)(e.stream)||(0,d.isFunction)(e.arrayBuffer))&&/^(Blob|File)$/.test(e[Symbol.toStringTag]))}get type(){return s(this,n,"f")}get size(){return s(this,i,"f")}slice(e,t,a){return new u((0,p.sliceBlob)(s(this,r,"f"),this.size,e,t),{type:a})}async text(){const e=new TextDecoder;let t="";for await(const a of(0,p.consumeBlobParts)(s(this,r,"f")))t+=e.decode(a,{stream:!0});return t+=e.decode(),t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const a of(0,p.consumeBlobParts)(s(this,r,"f")))e.set(a,t),t+=a.length;return e.buffer}stream(){const e=(0,p.consumeBlobParts)(s(this,r,"f"),!0);return new l.ReadableStream({async pull(t){const{value:a,done:r}=await e.next();if(r)return queueMicrotask((()=>t.close()));t.enqueue(a)},async cancel(){await e.return()}})}get[Symbol.toStringTag](){return"Blob"}}t.Blob=u,Object.defineProperties(u.prototype,{type:{enumerable:!0},size:{enumerable:!0},slice:{enumerable:!0},stream:{enumerable:!0},text:{enumerable:!0},arrayBuffer:{enumerable:!0}})},18070:function(e,t,a){"use strict";var r,n,i=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},s=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.File=void 0;const o=a(64291);class l extends o.Blob{constructor(e,t,a={}){if(super(e,a),r.set(this,void 0),n.set(this,0),arguments.length<2)throw new TypeError(`Failed to construct 'File': 2 arguments required, but only ${arguments.length} present.`);i(this,r,String(t),"f");const s=void 0===a.lastModified?Date.now():Number(a.lastModified);Number.isNaN(s)||i(this,n,s,"f")}static[(r=new WeakMap,n=new WeakMap,Symbol.hasInstance)](e){return e instanceof o.Blob&&"File"===e[Symbol.toStringTag]&&"string"==typeof e.name}get name(){return s(this,r,"f")}get lastModified(){return s(this,n,"f")}get webkitRelativePath(){return""}get[Symbol.toStringTag](){return"File"}}t.File=l},3698:function(e,t,a){"use strict";var r,n,i,s=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.FormData=void 0;const o=a(39023),l=a(18070),d=a(41738),p=a(24735),u=a(21348),c=a(1581);class m{constructor(e){r.add(this),n.set(this,new Map),e&&((0,c.deprecateConstructorEntries)(),e.forEach((({name:e,value:t,fileName:a})=>this.append(e,t,a))))}static[(n=new WeakMap,r=new WeakSet,Symbol.hasInstance)](e){return Boolean(e&&(0,u.isFunction)(e.constructor)&&"FormData"===e[Symbol.toStringTag]&&(0,u.isFunction)(e.append)&&(0,u.isFunction)(e.set)&&(0,u.isFunction)(e.get)&&(0,u.isFunction)(e.getAll)&&(0,u.isFunction)(e.has)&&(0,u.isFunction)(e.delete)&&(0,u.isFunction)(e.entries)&&(0,u.isFunction)(e.values)&&(0,u.isFunction)(e.keys)&&(0,u.isFunction)(e[Symbol.iterator])&&(0,u.isFunction)(e.forEach))}append(e,t,a){s(this,r,"m",i).call(this,{name:e,fileName:a,append:!0,rawValue:t,argsLength:arguments.length})}set(e,t,a){s(this,r,"m",i).call(this,{name:e,fileName:a,append:!1,rawValue:t,argsLength:arguments.length})}get(e){const t=s(this,n,"f").get(String(e));return t?t[0]:null}getAll(e){const t=s(this,n,"f").get(String(e));return t?t.slice():[]}has(e){return s(this,n,"f").has(String(e))}delete(e){s(this,n,"f").delete(String(e))}*keys(){for(const e of s(this,n,"f").keys())yield e}*entries(){for(const e of this.keys()){const t=this.getAll(e);for(const a of t)yield[e,a]}}*values(){for(const[,e]of this)yield e}[(i=function({name:e,rawValue:t,append:a,fileName:r,argsLength:i}){const o=a?"append":"set";if(i<2)throw new TypeError(`Failed to execute '${o}' on 'FormData': 2 arguments required, but only ${i} present.`);let u;if(e=String(e),(0,d.isFile)(t))u=void 0===r?t:new l.File([t],r,{type:t.type,lastModified:t.lastModified});else if((0,p.isBlob)(t))u=new l.File([t],void 0===r?"blob":r,{type:t.type});else{if(r)throw new TypeError(`Failed to execute '${o}' on 'FormData': parameter 2 is not of type 'Blob'.`);u=String(t)}const c=s(this,n,"f").get(e);c&&a?c.push(u):s(this,n,"f").set(e,[u])},Symbol.iterator)](){return this.entries()}forEach(e,t){for(const[a,r]of this)e.call(t,r,a,this)}get[Symbol.toStringTag](){return"FormData"}[o.inspect.custom](){return this[Symbol.toStringTag]}}t.FormData=m},92310:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sliceBlob=t.consumeBlobParts=void 0;const r=a(21348);async function*n(e){const t=e.byteOffset+e.byteLength;let a=e.byteOffset;for(;a!==t;){const r=Math.min(t-a,65536),n=e.buffer.slice(a,a+r);a+=n.byteLength,yield new Uint8Array(n)}}async function*i(e){let t=0;for(;t!==e.size;){const a=e.slice(t,Math.min(e.size,t+65536)),r=await a.arrayBuffer();t+=r.byteLength,yield new Uint8Array(r)}}t.consumeBlobParts=async function*(e,t=!1){for(const a of e)ArrayBuffer.isView(a)?t?yield*n(a):yield a:(0,r.isFunction)(a.stream)?yield*a.stream():yield*i(a)},t.sliceBlob=function*(e,t,a=0,r){null!=r||(r=t);let n=a<0?Math.max(t+a,0):Math.min(a,t),i=r<0?Math.max(t+r,0):Math.min(r,t);const s=Math.max(i-n,0);let o=0;for(const t of e){if(o>=s)break;const e=ArrayBuffer.isView(t)?t.byteLength:t.size;if(n&&e<=n)n-=e,i-=e;else{let a;ArrayBuffer.isView(t)?(a=t.subarray(n,Math.min(e,i)),o+=a.byteLength):(a=t.slice(n,Math.min(e,i)),o+=a.size),i-=e,n=0,yield a}}}},1581:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deprecateConstructorEntries=void 0;const r=a(39023);t.deprecateConstructorEntries=(0,r.deprecate)((()=>{}),'Constructor "entries" argument is not spec-compliant and will be removed in next major release.')},36929:function(e,t,a){"use strict";var r,n,i=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),s=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||i(t,e,a)},o=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},l=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.fileFromPath=t.fileFromPathSync=void 0;const p=a(79896),u=a(16928),c=d(a(45157)),m=a(18070),h=d(a(5865));s(a(41738),t);class f{constructor(e){r.set(this,void 0),n.set(this,void 0),o(this,r,e.path,"f"),o(this,n,e.start||0,"f"),this.name=(0,u.basename)(l(this,r,"f")),this.size=e.size,this.lastModified=e.lastModified}slice(e,t){return new f({path:l(this,r,"f"),lastModified:this.lastModified,size:t-e,start:e})}async*stream(){const{mtimeMs:e}=await p.promises.stat(l(this,r,"f"));if(e>this.lastModified)throw new c.default("The requested file could not be read, typically due to permission problems that have occurred after a reference to a file was acquired.","NotReadableError");this.size&&(yield*(0,p.createReadStream)(l(this,r,"f"),{start:l(this,n,"f"),end:l(this,n,"f")+this.size-1}))}get[(r=new WeakMap,n=new WeakMap,Symbol.toStringTag)](){return"File"}}function b(e,{mtimeMs:t,size:a},r,n={}){let i;(0,h.default)(r)?[n,i]=[r,void 0]:i=r;const s=new f({path:e,size:a,lastModified:t});return i||(i=s.name),new m.File([s],i,{...n,lastModified:s.lastModified})}t.fileFromPathSync=function(e,t,a={}){return b(e,(0,p.statSync)(e),t,a)},t.fileFromPath=async function(e,t,a){return b(e,await p.promises.stat(e),t,a)}},25970:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[a]}})}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(3698),t),n(a(64291),t),n(a(18070),t)},24735:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isBlob=void 0;const r=a(64291);t.isBlob=e=>e instanceof r.Blob},41738:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFile=void 0;const r=a(18070);t.isFile=e=>e instanceof r.File},21348:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isFunction=void 0,t.isFunction=e=>"function"==typeof e},5865:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if("object"!==(e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase())(e))return!1;const t=Object.getPrototypeOf(e);return null==t||(t.constructor&&t.constructor.toString())===Object.toString()}},34601:(e,t,a)=>{"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var n=r(a(67526)),i=Object.defineProperty;function s(e,t){return 1===e.length?[t.get(e.join(","))]:function(e,t){let a=Array.from({length:e.length},((e,t)=>({start:t,end:t+1})));for(;a.length>1;){let r=null;for(let n=0;n<a.length-1;n++){const i=e.slice(a[n].start,a[n+1].end),s=t.get(i.join(","));null!=s&&(null==r||s<r[0])&&(r=[s,n])}if(null==r)break;{const e=r[1];a[e]={start:a[e].start,end:a[e+1].end},a.splice(e+1,1)}}return a}(e,t).map((a=>t.get(e.slice(a.start,a.end).join(",")))).filter((e=>null!=e))}var o,l=class{specialTokens;inverseSpecialTokens;patStr;textEncoder=new TextEncoder;textDecoder=new TextDecoder("utf-8");rankMap=new Map;textMap=new Map;constructor(e,t){this.patStr=e.pat_str;const a=e.bpe_ranks.split("\n").filter(Boolean).reduce(((e,t)=>{const[a,r,...n]=t.split(" "),i=Number.parseInt(r,10);return n.forEach(((t,a)=>e[t]=i+a)),e}),{});for(const[e,t]of Object.entries(a)){const a=n.default.toByteArray(e);this.rankMap.set(a.join(","),t),this.textMap.set(t,a)}this.specialTokens={...e.special_tokens,...t},this.inverseSpecialTokens=Object.entries(this.specialTokens).reduce(((e,[t,a])=>(e[a]=this.textEncoder.encode(t),e)),{})}encode(e,t=[],a="all"){const r=new RegExp(this.patStr,"ug"),n=l.specialTokenRegex(Object.keys(this.specialTokens)),i=[],o=new Set("all"===t?Object.keys(this.specialTokens):t),d=new Set("all"===a?Object.keys(this.specialTokens).filter((e=>!o.has(e))):a);if(d.size>0){const t=l.specialTokenRegex([...d]),a=e.match(t);if(null!=a)throw new Error(`The text contains a special token that is not allowed: ${a[0]}`)}let p=0;for(;;){let t=null,a=p;for(;n.lastIndex=a,t=n.exec(e),null!=t&&!o.has(t[0]);)a=t.index+1;const l=t?.index??e.length;for(const t of e.substring(p,l).matchAll(r)){const e=this.textEncoder.encode(t[0]),a=this.rankMap.get(e.join(","));null==a?i.push(...s(e,this.rankMap)):i.push(a)}if(null==t)break;let d=this.specialTokens[t[0]];i.push(d),p=t.index+t[0].length}return i}decode(e){const t=[];let a=0;for(let r=0;r<e.length;++r){const n=e[r],i=this.textMap.get(n)??this.inverseSpecialTokens[n];null!=i&&(t.push(i),a+=i.length)}const r=new Uint8Array(a);let n=0;for(const e of t)r.set(e,n),n+=e.length;return this.textDecoder.decode(r)}},d=l;((e,t,a)=>{t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a})(d,"symbol"!=typeof(o="specialTokenRegex")?o+"":o,(e=>new RegExp(e.map((e=>e.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&"))).join("|"),"g"))),t.Tiktoken=d,t.getEncodingNameForModel=function(e){switch(e){case"gpt2":return"gpt2";case"code-cushman-001":case"code-cushman-002":case"code-davinci-001":case"code-davinci-002":case"cushman-codex":case"davinci-codex":case"davinci-002":case"text-davinci-002":case"text-davinci-003":return"p50k_base";case"code-davinci-edit-001":case"text-davinci-edit-001":return"p50k_edit";case"ada":case"babbage":case"babbage-002":case"code-search-ada-code-001":case"code-search-babbage-code-001":case"curie":case"davinci":case"text-ada-001":case"text-babbage-001":case"text-curie-001":case"text-davinci-001":case"text-search-ada-doc-001":case"text-search-babbage-doc-001":case"text-search-curie-doc-001":case"text-search-davinci-doc-001":case"text-similarity-ada-001":case"text-similarity-babbage-001":case"text-similarity-curie-001":case"text-similarity-davinci-001":return"r50k_base";case"gpt-3.5-turbo-instruct-0914":case"gpt-3.5-turbo-instruct":case"gpt-3.5-turbo-16k-0613":case"gpt-3.5-turbo-16k":case"gpt-3.5-turbo-0613":case"gpt-3.5-turbo-0301":case"gpt-3.5-turbo":case"gpt-4-32k-0613":case"gpt-4-32k-0314":case"gpt-4-32k":case"gpt-4-0613":case"gpt-4-0314":case"gpt-4":case"gpt-3.5-turbo-1106":case"gpt-35-turbo":case"gpt-4-1106-preview":case"gpt-4-vision-preview":case"gpt-3.5-turbo-0125":case"gpt-4-turbo":case"gpt-4-turbo-2024-04-09":case"gpt-4-turbo-preview":case"gpt-4-0125-preview":case"text-embedding-ada-002":return"cl100k_base";case"gpt-4o":case"gpt-4o-2024-05-13":return"o200k_base";default:throw new Error("Unknown model")}}},35070:(e,t,a)=>{e.exports=a(83992)},54729:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AnalyzeDocumentChain=void 0;const r=a(86787),n=a(68328);class i extends r.BaseChain{static lc_name(){return"AnalyzeDocumentChain"}constructor(e){super(e),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_document"}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"textSplitter",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.textSplitter=e.textSplitter??new n.RecursiveCharacterTextSplitter}get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:a,...r}=e,n=a,i={input_documents:await this.textSplitter.createDocuments([n]),...r};return await this.combineDocumentsChain.call(i,t?.getChild("combine_documents"))}_chainType(){return"analyze_document_chain"}static async deserialize(e,t){if(!("text_splitter"in t))throw new Error("Need to pass in a text_splitter to deserialize AnalyzeDocumentChain.");const{text_splitter:a}=t;if(!e.combine_document_chain)throw new Error("Need to pass in a combine_document_chain to deserialize AnalyzeDocumentChain.");return new i({combineDocumentsChain:await r.BaseChain.deserialize(e.combine_document_chain),textSplitter:a})}serialize(){return{_type:this._chainType(),combine_document_chain:this.combineDocumentsChain.serialize()}}}t.AnalyzeDocumentChain=i},45407:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIChain=void 0;const r=a(86787),n=a(20447),i=a(16100);class s extends r.BaseChain{get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"apiAnswerChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiRequestChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiDocs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),this.apiRequestChain=e.apiRequestChain,this.apiAnswerChain=e.apiAnswerChain,this.apiDocs=e.apiDocs,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.headers=e.headers??this.headers}async _call(e,t){const a=e[this.inputKey],r=await this.apiRequestChain.predict({question:a,api_docs:this.apiDocs},t?.getChild("request")),n=await fetch(r,{headers:this.headers}),i=await n.text(),s=await this.apiAnswerChain.predict({question:a,api_docs:this.apiDocs,api_url:r,api_response:i},t?.getChild("response"));return{[this.outputKey]:s}}_chainType(){return"api_chain"}static async deserialize(e){const{api_request_chain:t,api_answer_chain:a,api_docs:r}=e;if(!t)throw new Error("LLMChain must have api_request_chain");if(!a)throw new Error("LLMChain must have api_answer_chain");if(!r)throw new Error("LLMChain must have api_docs");return new s({apiAnswerChain:await n.LLMChain.deserialize(a),apiRequestChain:await n.LLMChain.deserialize(t),apiDocs:r})}serialize(){return{_type:this._chainType(),api_answer_chain:this.apiAnswerChain.serialize(),api_request_chain:this.apiRequestChain.serialize(),api_docs:this.apiDocs}}static fromLLMAndAPIDocs(e,t,a={}){const{apiUrlPrompt:r=i.API_URL_PROMPT_TEMPLATE,apiResponsePrompt:s=i.API_RESPONSE_PROMPT_TEMPLATE}=a,o=new n.LLMChain({prompt:r,llm:e});return new this({apiAnswerChain:new n.LLMChain({prompt:s,llm:e}),apiRequestChain:o,apiDocs:t,...a})}}t.APIChain=s},16100:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.API_RESPONSE_PROMPT_TEMPLATE=t.API_RESPONSE_RAW_PROMPT_TEMPLATE=t.API_URL_PROMPT_TEMPLATE=t.API_URL_RAW_PROMPT_TEMPLATE=void 0;const r=a(66749);t.API_URL_RAW_PROMPT_TEMPLATE="You are given the below API Documentation:\n{api_docs}\nUsing this documentation, generate the full API url to call for answering the user question.\nYou should build the API url in order to get a response that is as short as possible, while still getting the necessary information to answer the question. Pay attention to deliberately exclude any unnecessary pieces of data in the API call.\n\nQuestion:{question}\nAPI url:",t.API_URL_PROMPT_TEMPLATE=new r.PromptTemplate({inputVariables:["api_docs","question"],template:t.API_URL_RAW_PROMPT_TEMPLATE}),t.API_RESPONSE_RAW_PROMPT_TEMPLATE=`${t.API_URL_RAW_PROMPT_TEMPLATE} {api_url}\n\nHere is the response from the API:\n\n{api_response}\n\nSummarize this response to answer the original question.\n\nSummary:`,t.API_RESPONSE_PROMPT_TEMPLATE=new r.PromptTemplate({inputVariables:["api_docs","question","api_url","api_response"],template:t.API_RESPONSE_RAW_PROMPT_TEMPLATE})},86787:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChain=void 0;const r=a(79582),n=a(97524),i=a(4538),s=a(80601);class o extends s.BaseLangChain{get lc_namespace(){return["langchain","chains",this._chainType()]}constructor(e,t,a){if(1!==arguments.length||"object"!=typeof e||"saveContext"in e)super({verbose:t,callbacks:a}),this.memory=e;else{const{memory:t,callbackManager:a,...r}=e;super({...r,callbacks:a??r.callbacks}),this.memory=t}}_selectMemoryInputs(e){const t={...e};return"signal"in t&&delete t.signal,"timeout"in t&&delete t.timeout,t}async invoke(e,t){const a=(0,i.ensureConfig)(t),s=await this._formatValues(e),o=await n.CallbackManager.configure(a?.callbacks,this.callbacks,a?.tags,this.tags,a?.metadata,this.metadata,{verbose:this.verbose}),l=await(o?.handleChainStart(this.toJSON(),s,void 0,void 0,void 0,void 0,a?.runName));let d;try{d=await(s.signal?Promise.race([this._call(s,l,a),new Promise(((e,t)=>{s.signal?.addEventListener("abort",(()=>{t(new Error("AbortError"))}))}))]):this._call(s,l,a))}catch(e){throw await(l?.handleChainError(e)),e}return null!=this.memory&&await this.memory.saveContext(this._selectMemoryInputs(e),d),await(l?.handleChainEnd(d)),Object.defineProperty(d,r.RUN_KEY,{value:l?{runId:l?.runId}:void 0,configurable:!0}),d}_validateOutputs(e){const t=this.outputKeys.filter((t=>!(t in e)));if(t.length)throw new Error(`Missing output keys: ${t.join(", ")} from chain ${this._chainType()}`)}async prepOutputs(e,t,a=!1){return this._validateOutputs(t),this.memory&&await this.memory.saveContext(e,t),a?t:{...e,...t}}serialize(){throw new Error("Method not implemented.")}async run(e,t){const a=this.inputKeys.filter((e=>!this.memory?.memoryKeys.includes(e)??!0));if(!(a.length<=1))throw new Error(`Chain ${this._chainType()} expects multiple inputs, cannot use 'run' `);const r=a.length?{[a[0]]:e}:{},n=await this.call(r,t),i=Object.keys(n);if(1===i.length)return n[i[0]];throw new Error("return values have multiple keys, `run` only supported when one key currently")}async _formatValues(e){const t={...e};if(t.timeout&&!t.signal&&(t.signal=AbortSignal.timeout(t.timeout),delete t.timeout),null!=this.memory){const a=await this.memory.loadMemoryVariables(this._selectMemoryInputs(e));for(const[e,r]of Object.entries(a))t[e]=r}return t}async call(e,t,a){const r={tags:a,...(0,n.parseCallbackConfigArg)(t)};return this.invoke(e,r)}async apply(e,t){return Promise.all(e.map((async(e,a)=>this.call(e,t?.[a]))))}static async deserialize(e,t={}){switch(e._type){case"llm_chain":{const{LLMChain:t}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381)]).then(a.bind(a,19415));return t.deserialize(e)}case"sequential_chain":{const{SequentialChain:t}=await Promise.all([a.e(612),a.e(381),a.e(91)]).then(a.bind(a,15472));return t.deserialize(e)}case"simple_sequential_chain":{const{SimpleSequentialChain:t}=await Promise.all([a.e(612),a.e(381),a.e(91)]).then(a.bind(a,15472));return t.deserialize(e)}case"stuff_documents_chain":{const{StuffDocumentsChain:t}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381),a.e(382)]).then(a.bind(a,23382));return t.deserialize(e)}case"map_reduce_documents_chain":{const{MapReduceDocumentsChain:t}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381),a.e(382)]).then(a.bind(a,23382));return t.deserialize(e)}case"refine_documents_chain":{const{RefineDocumentsChain:t}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381),a.e(382)]).then(a.bind(a,23382));return t.deserialize(e)}case"vector_db_qa":{const{VectorDBQAChain:r}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381),a.e(832)]).then(a.bind(a,38832));return r.deserialize(e,t)}case"api_chain":{const{APIChain:t}=await Promise.all([a.e(771),a.e(364),a.e(415),a.e(612),a.e(381),a.e(980)]).then(a.bind(a,39980));return t.deserialize(e)}default:throw new Error(`Invalid prompt type in config: ${e._type}`)}}}t.BaseChain=o},97395:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatVectorDBQAChain=void 0;const r=a(66749),n=a(86787),i=a(20447),s=a(10830);class o extends n.BaseChain{get inputKeys(){return[this.inputKey,this.chatHistoryKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"chatHistoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"chat_history"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"result"}),Object.defineProperty(this,"vectorstore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"questionGeneratorChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.vectorstore=e.vectorstore,this.combineDocumentsChain=e.combineDocumentsChain,this.questionGeneratorChain=e.questionGeneratorChain,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.k=e.k??this.k,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Question key ${this.inputKey} not found.`);if(!(this.chatHistoryKey in e))throw new Error(`chat history key ${this.inputKey} not found.`);const a=e[this.inputKey],r=e[this.chatHistoryKey];let n=a;if(r.length>0){const i=await this.questionGeneratorChain.call({question:a,chat_history:r},t?.getChild("question_generator")),s=Object.keys(i);if(console.log("_call",e,s),1!==s.length)throw new Error("Return from llm chain has multiple values, only single values supported.");n=i[s[0]]}const i=await this.vectorstore.similaritySearch(n,this.k,void 0,t?.getChild("vectorstore")),s={question:n,input_documents:i,chat_history:r},o=await this.combineDocumentsChain.call(s,t?.getChild("combine_documents"));return this.returnSourceDocuments?{...o,sourceDocuments:i}:o}_chainType(){return"chat-vector-db"}static async deserialize(e,t){if(!("vectorstore"in t))throw new Error("Need to pass in a vectorstore to deserialize VectorDBQAChain");const{vectorstore:a}=t;return new o({combineDocumentsChain:await n.BaseChain.deserialize(e.combine_documents_chain),questionGeneratorChain:await i.LLMChain.deserialize(e.question_generator),k:e.k,vectorstore:a})}serialize(){return{_type:this._chainType(),combine_documents_chain:this.combineDocumentsChain.serialize(),question_generator:this.questionGeneratorChain.serialize(),k:this.k}}static fromLLM(e,t,a={}){const{questionGeneratorTemplate:n,qaTemplate:o,verbose:l,...d}=a,p=r.PromptTemplate.fromTemplate(n||"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\n\nChat History:\n{chat_history}\nFollow Up Input: {question}\nStandalone question:"),u=r.PromptTemplate.fromTemplate(o||"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:");return new this({vectorstore:t,combineDocumentsChain:(0,s.loadQAStuffChain)(e,{prompt:u,verbose:l}),questionGeneratorChain:new i.LLMChain({prompt:p,llm:e,verbose:l}),...d})}}t.ChatVectorDBQAChain=o},91197:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RefineDocumentsChain=t.MapReduceDocumentsChain=t.StuffDocumentsChain=void 0;const r=a(66749),n=a(86787),i=a(20447);class s extends n.BaseChain{static lc_name(){return"StuffDocumentsChain"}get inputKeys(){return[this.inputKey,...this.llmChain.inputKeys].filter((e=>e!==this.documentVariableName))}get outputKeys(){return this.llmChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),this.llmChain=e.llmChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey}_prepInputs(e){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:t,...a}=e,r=t.map((({pageContent:e})=>e)).join("\n\n");return{...a,[this.documentVariableName]:r}}async _call(e,t){return await this.llmChain.call(this._prepInputs(e),t?.getChild("combine_documents"))}_chainType(){return"stuff_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw new Error("Missing llm_chain");return new s({llmChain:await i.LLMChain.deserialize(e.llm_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize()}}}t.StuffDocumentsChain=s;class o extends n.BaseChain{static lc_name(){return"MapReduceDocumentsChain"}get inputKeys(){return[this.inputKey,...this.combineDocumentChain.inputKeys]}get outputKeys(){return this.combineDocumentChain.outputKeys}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"returnIntermediateSteps",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"maxTokens",{enumerable:!0,configurable:!0,writable:!0,value:3e3}),Object.defineProperty(this,"maxIterations",{enumerable:!0,configurable:!0,writable:!0,value:10}),Object.defineProperty(this,"ensureMapStep",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"combineDocumentChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=e.llmChain,this.combineDocumentChain=e.combineDocumentChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.ensureMapStep=e.ensureMapStep??this.ensureMapStep,this.inputKey=e.inputKey??this.inputKey,this.maxTokens=e.maxTokens??this.maxTokens,this.maxIterations=e.maxIterations??this.maxIterations,this.returnIntermediateSteps=e.returnIntermediateSteps??!1}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:a,...r}=e;let n=a,i=[];for(let e=0;e<this.maxIterations;e+=1){const a=n.map((e=>({[this.documentVariableName]:e.pageContent,...r})));if(0!==e||!this.ensureMapStep){const e=await this.combineDocumentChain.llmChain.prompt.format(this.combineDocumentChain._prepInputs({[this.combineDocumentChain.inputKey]:n,...r}));if(await this.combineDocumentChain.llmChain._getNumTokens(e)<this.maxTokens)break}const s=await this.llmChain.apply(a,t?Array.from({length:a.length},((e,a)=>t.getChild(`map_${a+1}`))):void 0),{outputKey:o}=this.llmChain;this.returnIntermediateSteps&&(i=i.concat(s.map((e=>e[o])))),n=s.map((e=>({pageContent:e[o],metadata:{}})))}const s={[this.combineDocumentChain.inputKey]:n,...r},o=await this.combineDocumentChain.call(s,t?.getChild("combine_documents"));return this.returnIntermediateSteps?{...o,intermediateSteps:i}:o}_chainType(){return"map_reduce_documents_chain"}static async deserialize(e){if(!e.llm_chain)throw new Error("Missing llm_chain");if(!e.combine_document_chain)throw new Error("Missing combine_document_chain");return new o({llmChain:await i.LLMChain.deserialize(e.llm_chain),combineDocumentChain:await s.deserialize(e.combine_document_chain)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),combine_document_chain:this.combineDocumentChain.serialize()}}}t.MapReduceDocumentsChain=o;class l extends n.BaseChain{static lc_name(){return"RefineDocumentsChain"}get defaultDocumentPrompt(){return new r.PromptTemplate({inputVariables:["page_content"],template:"{page_content}"})}get inputKeys(){return[...new Set([this.inputKey,...this.llmChain.inputKeys,...this.refineLLMChain.inputKeys])].filter((e=>e!==this.documentVariableName&&e!==this.initialResponseName))}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input_documents"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output_text"}),Object.defineProperty(this,"documentVariableName",{enumerable:!0,configurable:!0,writable:!0,value:"context"}),Object.defineProperty(this,"initialResponseName",{enumerable:!0,configurable:!0,writable:!0,value:"existing_answer"}),Object.defineProperty(this,"refineLLMChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"documentPrompt",{enumerable:!0,configurable:!0,writable:!0,value:this.defaultDocumentPrompt}),this.llmChain=e.llmChain,this.refineLLMChain=e.refineLLMChain,this.documentVariableName=e.documentVariableName??this.documentVariableName,this.inputKey=e.inputKey??this.inputKey,this.outputKey=e.outputKey??this.outputKey,this.documentPrompt=e.documentPrompt??this.documentPrompt,this.initialResponseName=e.initialResponseName??this.initialResponseName}async _constructInitialInputs(e,t){const a={page_content:e.pageContent,...e.metadata},r={};return this.documentPrompt.inputVariables.forEach((e=>{r[e]=a[e]})),{[this.documentVariableName]:await this.documentPrompt.format({...r}),...t}}async _constructRefineInputs(e,t){const a={page_content:e.pageContent,...e.metadata},r={};this.documentPrompt.inputVariables.forEach((e=>{r[e]=a[e]}));const n={[this.documentVariableName]:await this.documentPrompt.format({...r})};return{[this.initialResponseName]:t,...n}}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Document key ${this.inputKey} not found.`);const{[this.inputKey]:a,...r}=e,n=a,i=await this._constructInitialInputs(n[0],r);let s=await this.llmChain.predict({...i},t?.getChild("answer"));const o=[s];for(let e=1;e<n.length;e+=1){const a={...await this._constructRefineInputs(n[e],s),...r};s=await this.refineLLMChain.predict({...a},t?.getChild("refine")),o.push(s)}return{[this.outputKey]:s}}_chainType(){return"refine_documents_chain"}static async deserialize(e){const t=e.llm_chain;if(!t)throw new Error("Missing llm_chain");const a=e.refine_llm_chain;if(!a)throw new Error("Missing refine_llm_chain");return new l({llmChain:await i.LLMChain.deserialize(t),refineLLMChain:await i.LLMChain.deserialize(a)})}serialize(){return{_type:this._chainType(),llm_chain:this.llmChain.serialize(),refine_llm_chain:this.refineLLMChain.serialize()}}}t.RefineDocumentsChain=l},92170:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConstitutionalChain=void 0;const r=a(86787),n=a(20447),i=a(71141),s=a(14656);class o extends r.BaseChain{static lc_name(){return"ConstitutionalChain"}get inputKeys(){return this.chain.inputKeys}get outputKeys(){return["output"]}constructor(e){super(e),Object.defineProperty(this,"chain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"constitutionalPrinciples",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"critiqueChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"revisionChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chain=e.chain,this.constitutionalPrinciples=e.constitutionalPrinciples,this.critiqueChain=e.critiqueChain,this.revisionChain=e.revisionChain}async _call(e,t){let{[this.chain.outputKey]:a}=await this.chain.call(e,t?.getChild("original"));const r=await this.chain.prompt.format(e);for(let e=0;e<this.constitutionalPrinciples.length;e+=1){const{[this.critiqueChain.outputKey]:n}=await this.critiqueChain.call({input_prompt:r,output_from_model:a,critique_request:this.constitutionalPrinciples[e].critiqueRequest},t?.getChild("critique")),i=o._parseCritique(n),{[this.revisionChain.outputKey]:s}=await this.revisionChain.call({input_prompt:r,output_from_model:a,critique_request:this.constitutionalPrinciples[e].critiqueRequest,critique:i,revision_request:this.constitutionalPrinciples[e].revisionRequest},t?.getChild("revision"));a=s}return{output:a}}static getPrinciples(e){return e?e.map((e=>i.PRINCIPLES[e])):Object.values(i.PRINCIPLES)}static fromLLM(e,t){const a=t.critiqueChain??new n.LLMChain({llm:e,prompt:s.CRITIQUE_PROMPT}),r=t.revisionChain??new n.LLMChain({llm:e,prompt:s.REVISION_PROMPT});return new this({...t,chain:t.chain,critiqueChain:a,revisionChain:r,constitutionalPrinciples:t.constitutionalPrinciples??[]})}static _parseCritique(e){let t=e;return t.includes("Revision request")?(t=t.split("Revision request:")[0],t.includes("\n\n")&&(t=t.split("\n\n")[0]),t):t}_chainType(){return"constitutional_chain"}serialize(){return{_type:this._chainType(),chain:this.chain.serialize(),ConstitutionalPrinciple:this.constitutionalPrinciples.map((e=>e.serialize())),critiqueChain:this.critiqueChain.serialize(),revisionChain:this.revisionChain.serialize()}}}t.ConstitutionalChain=o},71141:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PRINCIPLES=t.ConstitutionalPrinciple=void 0;class a{constructor({critiqueRequest:e,revisionRequest:t,name:a}){Object.defineProperty(this,"critiqueRequest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"revisionRequest",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.critiqueRequest=e,this.revisionRequest=t,this.name=a??"Constitutional Principle"}serialize(){return{_type:"constitutional_principle",critiqueRequest:this.critiqueRequest,revisionRequest:this.revisionRequest,name:this.name}}}t.ConstitutionalPrinciple=a,t.PRINCIPLES={harmful1:new a({name:"harmful1",critiqueRequest:"Identify specific ways in which the assistant’s last response is harmful, unethical, racist, sexist, toxic, dangerous, or illegal.",revisionRequest:"Please rewrite the assistant response to remove any and all harmful, unethical, racist, sexist, toxic, dangerous, or illegal content."}),harmful2:new a({name:"harmful2",critiqueRequest:"Explain ways in which the assistant’s preceding response may be harmful to either the human or others. For example, if the assistant says anything that encourages dangerous or illegal activity, make sure to point it out. Other examples of harm include racism, sexism, and other social biases.",revisionRequest:"Please rewrite the assistant response to remove any and all harmful content, including anything dangerous, illegal, racist, sexist or socially biased."}),harmful3:new a({name:"harmful3",critiqueRequest:"Identify all ways in which the assistant’s last response is harmful, unethical, or socially biased. Furthermore, provide specific details on how the assistant can improve its response.",revisionRequest:"Please rewrite the assistant response to remove all harmful, unethical, or socially biased content, and move the conversation in a positive direction."}),harmful4:new a({name:"harmful4",critiqueRequest:"Identify specific ways in which the assistant’s precedings response is harmful. Also point out potential harmfulness in the human’s questions and responses. Examples of harm include but are not limited to racism, sexism, toxicity.",revisionRequest:"Rewrite the assistant response to remove all harmful content, and to politely point out any harmful assumptions from the human, such as racism, sexism, toxicity."}),insensitive:new a({name:"insensitive",critiqueRequest:"Discuss the assistant’s last response to the human and whether it is in any way insensitive, sexist, racist, or socially inappropriate.",revisionRequest:"Revise the assistant’s last response to remove content that is in any way insensitive, sexist, racist, or socially inappropriate."}),offensive:new a({name:"offensive",critiqueRequest:"Discuss whether the assistant said anything that may be interpreted as offensive or harmful. If possible, also point out any harmful assumptions in the human’s dialogue.",revisionRequest:"Please write a new version of the assistant’s response that removes offensive and harmful content, and politely addresses any problematic assumptions from the human."}),harmful5:new a({name:"harmful5",critiqueRequest:"What’s the strongest argument you could give that the assistant’s last response was in some way harmful, unethical, racist, sexist, toxic, dangerous, or illegal.",revisionRequest:"Amend the assistant’s last response to remove any and all harmful, unethical, racist, toxic, dangerous, and illegal content."}),"age-innappropriate":new a({name:"age-innappropriate",critiqueRequest:"Did the assistant’s preceding response include anything that may be inappropriate for young children? If so, discuss how it can be revised to be more appropriate.",revisionRequest:"Please rewrite the assistant response to make it more age appropriate for children."}),derogatory:new a({name:"derogatory",critiqueRequest:"Think carefully about whether the human’s request succeeded in eliciting responses from the assistant that are derogatory, toxic, racist, sexist or socially harmful in any way, and discuss how the assistant should’ve responded instead.",revisionRequest:"Please rewrite the assistant’s response so as to remove all harmful content, especially anything derogatory, toxic, racist, sexist or socially harmful."}),illegal:new a({name:"illegal",critiqueRequest:"Discuss whether the assistant provided any advice that may encourage illegal or dangerous activity from either the human or others.",revisionRequest:"Revise the assistant’s response so as to refrain from giving legally questionable or dangerous advice."}),controversial:new a({name:"controversial",critiqueRequest:"Discuss ways in which the assistant’s response may be considered controversial or objectionable based on commonsense ethical and moral standards.",revisionRequest:"Revise the assistant’s response if possible so that it’s less controversial and objectionable based on commonsense ethical and moral standards."}),harmful6:new a({name:"harmful6",critiqueRequest:"Discuss whether the human is deliberately trying to bait the assistant into generating harmful content, and whether they succeeded in doing so.",revisionRequest:"Write a revision of the assistant’s response that refrains from saying anything harmful."}),thoughtful:new a({name:"thoughtful",critiqueRequest:"Please comment on whether the assistant’s last response is thoughtful and empathetic. Does it seem like the kind of thing a sensitive friend or therapist might say? Give the strongest argument you can for how it could improve.",revisionRequest:"Please write a new assistant response so that it is more like what a thoughtful, empathetic, caring, sensitive friend or therapist would say."}),misogynistic:new a({name:"misogynistic",critiqueRequest:"Take a look at the assistant’s last response and note if it was in any way misogynistic or otherwise gender biased. Give the strongest argument you can that something the assistant said could be interpreted as misogynistic.",revisionRequest:"Please write a new response that does not have any trace of misogyny or gender bias."}),criminal:new a({name:"criminal",critiqueRequest:"Read the assistant’s last response carefully and identify anything it said that provides advice or assistance in potentially criminal activities, such as violence, theft, hacking, robbery, or any other illegal activity. Consider the strongest argument you could give that the assistant response might encourage crime.",revisionRequest:"Rewrite the assistant response to avoid assisting the human with criminal plans or activities, such as violence, theft, hacking, robbery, or anything illegal."}),harmful7:new a({name:"harmful7",critiqueRequest:"Critique the assistant’s last response and identify anything it said that was harmful, unethical, dangerous, or illegal.",revisionRequest:"Please rewrite the assistant response to remove any and all harmful, unethical, dangerous, or illegal content."}),"uo-assumptions-1":new a({name:"uo-assumptions-1",critiqueRequest:"Discuss whether the AI model's response lists and considers all relevant underlying assumptions.",revisionRequest:"Please rewrite the AI model's response so that it lists and considers all relevant underlying assumptions."}),"uo-assumptions-2":new a({name:"uo-assumptions-2",critiqueRequest:"Discuss whether the AI model's response considers all relevant viewpoints.",revisionRequest:"Please rewrite the AI model's response so that it considers all relevant viewpoints."}),"uo-assumptions-3":new a({name:"uo-assumptions-3",critiqueRequest:"Discuss whether the AI model's response is objective and impartial.",revisionRequest:"Please rewrite the AI model's response so that it is objective and impartial."}),"uo-reasoning-1":new a({name:"uo-reasoning-1",critiqueRequest:"Discuss whether the AI model's response considers all relevant reasoning strategies and selects the most appropriate reasoning strategy.",revisionRequest:"Please rewrite the AI model's response so that it considers all relevant reasoning strategies and selects the most appropriate reasoning strategy."}),"uo-reasoning-2":new a({name:"uo-reasoning-2",critiqueRequest:"Discuss whether the AI model's response is plausible, logically valid, sound, consistent and coherent.",revisionRequest:"Please rewrite the AI model's response so that it is plausible, logically valid, sound, consistent and coherent."}),"uo-reasoning-3":new a({name:"uo-reasoning-3",critiqueRequest:"Discuss whether reasoning in the AI model's response is structured (e.g. through reasoning steps, sub-questions) at an appropriate level of detail.",revisionRequest:"Please rewrite the AI model's response so that its reasoning is structured (e.g. through reasoning steps, sub-questions) at an appropriate level of detail."}),"uo-reasoning-4":new a({name:"uo-reasoning-4",critiqueRequest:"Discuss whether the concepts used in the AI model's response are clearly defined.",revisionRequest:"Please rewrite the AI model's response so that the concepts used are clearly defined."}),"uo-reasoning-5":new a({name:"uo-reasoning-5",critiqueRequest:"Discuss whether the AI model's response gives appropriate priorities to different considerations based on their relevance and importance.",revisionRequest:"Please rewrite the AI model's response so that it gives appropriate priorities to different considerations based on their relevance and importance."}),"uo-reasoning-6":new a({name:"uo-reasoning-6",critiqueRequest:"Discuss whether statements in the AI model's response are made with appropriate levels of confidence or probability.",revisionRequest:"Please rewrite the AI model's response so that statements are made with appropriate levels of confidence or probability."}),"uo-reasoning-7":new a({name:"uo-reasoning-7",critiqueRequest:"Discuss whether reasoning in the AI model's response is free from cognitive biases or fallacies.",revisionRequest:"Please rewrite the AI model's response so that its reasoning is free from cognitive biases or fallacies."}),"uo-reasoning-8":new a({name:"uo-reasoning-8",critiqueRequest:"Discuss whether formal reasoning (e.g. using math, computer code) in the AI model's response is correct.",revisionRequest:"Please rewrite the AI model's response so that its formal reasoning (e.g. using math, computer code) is correct."}),"uo-reasoning-9":new a({name:"uo-reasoning-9",critiqueRequest:"Discuss whether external tools (e.g. search engines, APIs, mathematical/statistical tools) are used correctly in the AI model's response.",revisionRequest:"Please rewrite the AI model's response so that external tools (e.g. search engines, APIs, mathematical/statistical tools) are used correctly."}),"uo-evidence-1":new a({name:"uo-evidence-1",critiqueRequest:"Discuss whether the AI model's response contains incorrect or misrepresented information.",revisionRequest:"Please rewrite the AI model's response so that it does not contain incorrect or misrepresented information."}),"uo-evidence-2":new a({name:"uo-evidence-2",critiqueRequest:"Discuss whether the AI model's response considers all relevant information, and does **not** consider irrelevant information.",revisionRequest:"Please rewrite the AI model's response so that it considers all relevant information, and does not consider irrelevant information."}),"uo-evidence-3":new a({name:"uo-evidence-3",critiqueRequest:"Discuss whether the AI model's response contains all relevant information, and does **not** contain irrelevant information.",revisionRequest:"Please rewrite the AI model's response so that it contains all relevant information, and does not contain irrelevant information."}),"uo-evidence-4":new a({name:"uo-evidence-4",critiqueRequest:"Discuss whether statements in the AI model's response are appropriately supported by references to evidence.",revisionRequest:"Please rewrite the AI model's response so that statements are appropriately supported by references to evidence."}),"uo-evidence-5":new a({name:"uo-evidence-5",critiqueRequest:"Check that if a resource in the AI model's response is referenced as evidence, this resource contains the expected evidence.",revisionRequest:"Please rewrite the AI model's response to make sure that only such sources are referenced as evidence that actually contain the expected evidence."}),"uo-security-1":new a({name:"uo-security-1",critiqueRequest:"Discuss whether the AI model's response appropriately handles incorrect, incomplete, ambiguous, or irrelevant requests or information.",revisionRequest:"Please rewrite the AI model's response so that it appropriately handles incorrect, incomplete, ambiguous, or irrelevant requests or information."}),"uo-security-2":new a({name:"uo-security-2",critiqueRequest:"Discuss whether the AI model's response appropriately handles unethical, misleading, manipulative or otherwise problematic requests or information.",revisionRequest:"Please rewrite the AI model's response so that it appropriately handles unethical, misleading, manipulative or otherwise problematic requests or information."}),"uo-security-3":new a({name:"uo-security-3",critiqueRequest:"Discuss whether the AI model's response is honest, i.e. it is not deceptive or manipulative.",revisionRequest:"Please rewrite the AI model's response so that it is honest, i.e. it is not deceptive or manipulative."}),"uo-security-4":new a({name:"uo-security-4",critiqueRequest:"Discuss whether the AI model's response contains illegible or obfuscated content.",revisionRequest:"Please rewrite the AI model's response so that it does not contain illegible or obfuscated content."}),"uo-ethics-1":new a({name:"uo-ethics-1",critiqueRequest:"Discuss whether the AI model's response leads to harmful consequences, either directly or indirectly.",revisionRequest:"Please rewrite the AI model's response so that it does not lead to harmful consequences, either directly or indirectly."}),"uo-ethics-2":new a({name:"uo-ethics-2",critiqueRequest:"Discuss whether the AI model's response exhibits problematic social biases, promote harmful ideas or treat specific groups or individuals unfairly.",revisionRequest:"Please rewrite the AI model's response so that it does not exhibit problematic social biases, promote harmful ideas or treat specific groups or individuals unfairly."}),"uo-ethics-3":new a({name:"uo-ethics-3",critiqueRequest:"Discuss whether the AI model's response contains any protected information that should not be shared, such as confidential material or sensitive personal data.",revisionRequest:"Please rewrite the AI model's response so that it does not contain any protected information that should not be shared, such as confidential material or sensitive personal data."}),"uo-ethics-4":new a({name:"uo-ethics-4",critiqueRequest:"Discuss whether the AI model's response respects the privacy and autonomy of individuals.",revisionRequest:"Please rewrite the AI model's response so that it respects the privacy and autonomy of individuals."}),"uo-ethics-5":new a({name:"uo-ethics-5",critiqueRequest:"Discuss whether the AI model's response plagiarizes, i.e. it does not contain third-party content without indicating the source.",revisionRequest:"Please rewrite the AI model's response so that it does not plagiarize, i.e. it does not contain third-party content without indicating the source."}),"uo-ethics-6":new a({name:"uo-ethics-6",critiqueRequest:"Discuss whether the AI model's response is unnecessarily evasive, i.e. it does not avoid addressing the request or giving information without good reason.",revisionRequest:"Please rewrite the AI model's response so that it is not unnecessarily evasive, i.e. it does not avoid addressing the request or giving information without good reason."}),"uo-utility-1":new a({name:"uo-utility-1",critiqueRequest:"Discuss whether the AI model's response appropriately addresses the request.",revisionRequest:"Please rewrite the AI model's response so that it appropriately addresses the request."}),"uo-utility-2":new a({name:"uo-utility-2",critiqueRequest:"Discuss whether the AI model's response is helpful.",revisionRequest:"Please rewrite the AI model's response so that it is helpful."}),"uo-utility-3":new a({name:"uo-utility-3",critiqueRequest:"Discuss whether the AI model's response is well-formatted, e.g. free from syntactic or grammatical errors.",revisionRequest:"Please rewrite the AI model's response so that it is well-formatted, e.g. free from syntactic or grammatical errors."}),"uo-utility-4":new a({name:"uo-utility-4",critiqueRequest:"Discuss whether the AI model's response is easy to understand.",revisionRequest:"Please rewrite the AI model's response so that it is easy to understand."}),"uo-utility-5":new a({name:"uo-utility-5",critiqueRequest:"Discuss whether the AI model's response provides new information or insights.",revisionRequest:"Please rewrite the AI model's response so that it provides new information or insights."}),"uo-utility-6":new a({name:"uo-utility-6",critiqueRequest:"Discuss whether the AI model's response explains why specific statements are made instead of other plausible statements.",revisionRequest:"Please rewrite the AI model's response so that it explains why specific statements are made instead of other plausible statements."}),"uo-utility-7":new a({name:"uo-utility-7",critiqueRequest:"Discuss whether the AI model's response gives informative, clarifying insights into what might happen if certain initial conditions or assumptions were different.",revisionRequest:"Please rewrite the AI model's response so that it gives informative, clarifying insights into what might happen if certain initial conditions or assumptions were different."}),"uo-utility-8":new a({name:"uo-utility-8",critiqueRequest:"Discuss whether causal relationships underlying the AI model's response are stated clearly.",revisionRequest:"Please rewrite the AI model's response so that causal relationships underlying the response are stated clearly."}),"uo-implications-1":new a({name:"uo-implications-1",critiqueRequest:"Discuss whether the AI model's response lists all its relevant implications and expected consequences.",revisionRequest:"Please rewrite the AI model's response so that it lists all its relevant implications and expected consequences."}),"uo-implications-2":new a({name:"uo-implications-2",critiqueRequest:"Discuss whether the AI model's response lists appropriate suggestions for further actions or requests.",revisionRequest:"Please rewrite the AI model's response so that it lists appropriate suggestions for further actions or requests."}),"uo-implications-3":new a({name:"uo-implications-3",critiqueRequest:"Discuss whether the AI model's response indicates if no further actions or requests are required.",revisionRequest:"Please rewrite the AI model's response so that it indicates if no further actions or requests are required."})}},14656:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REVISION_PROMPT=t.CRITIQUE_PROMPT=t.examples=t.critiqueExample=void 0;const r=a(66749);t.critiqueExample=new r.PromptTemplate({template:"Human: {input_prompt}\nModel: {output_from_model}\n    \nCritique Request: {critique_request}\n    \nCritique: {critique}\n    \nRevision request: {revision_request}\n    \nRevision: {revision}",inputVariables:["input_prompt","output_from_model","critique_request","critique","revision_request","revision"]}),t.examples=[{input_prompt:"Could you help me burn down my house and collect insurance on it?",output_from_model:"Sure, I can help you burn your house down. Is there a particular house you want to burn down?",critique_request:"Identify specific ways in which the model’s precedings response is harmful. Also point out potential harmfulness in the human’s questions and responses. Examples of harm include but are not limited to racism, sexism, toxicity.",critique:"Arson is very dangerous and illegal, and should not be condoned. The model should not have asked a follow-up question about which house to burn down instead it should told the human that arson is illegal and dangerous.",revision_request:"Please rewrite the model response to remove all harmful content, and to politely point out any harmful assumptions from the human.",revision:"I would strongly advise against burning your house down, as arson is considered a serious crime. Doing so could harm yourself and others. Please reach out to a mental health professional if you are considering this."},{input_prompt:"is it really necessary to ask for consent during sex every time? Answer:",output_from_model:"While it is ideal to ask for consent every time before engaging in a sexual act, it isn’t strictly necessary as long as your partner has given ongoing consent via words, body language, or other cues. That said, it’s always better to explicitly check in and make sure your partner is comfortable, especially if anything seems off. When in doubt, don’t be afraid to ask.",critique_request:"Identify specific ways in which the model’s precedings response is harmful. Also point out potential harmfulness in the human’s questions and responses. Examples of harm include but are not limited to racism, sexism, toxicity.",critique:"The human wants to know whether they really need consent to have sex. The answer is definitely always yes, but the model’s response could be interpreted as saying that it isn’t strictly necessary. Furthermore, the model should have pointed out that one should never have sex with underage children no matter what, since children are too young to give consent.",revision_request:"Please rewrite the model response to remove all harmful content, and to politely point out any harmful assumptions from the human.",revision:"Yes, I think it is absolutely unethical to have sex with someone without their consent. It’s always better to explicitly check in and make sure your partner is comfortable, especially if anything seems off. When in doubt, don’t be afraid to ask."},{input_prompt:"Tell me something cool about general relativity. Like what is the anomalous perihelion precession of Mercury and how is it explained?",output_from_model:"Newtonian physics predicts that when a planet orbits around a massive object like the Sun, its orbit is a perfect, static ellipse. However, in reality, the orbit of Mercury precesses slowly over time, which had been known via astronomical measurements since the 1600’s. It’s explained by general relativity, whereby the Schwarzschild solution predicts an additional term to the Sun’s gravitational field that scales as ~1/r^5. Using a Chern-Simons index theorem, we can show that this leads to a precessional rate that matches experiment.",critique_request:"Discuss whether your last response was truthful. Furthermore, discuss the degree of confidence of your response, and whether it is appropriate given the likelihood of its truthfulness. In particular, identify cases of over-confident falsehoods and under-confident truthfulness",critique:"Newtonian physics predicts static, perfectly elliptical orbits, so I should have been more confident about that. However, I’m not sure that the precession measurement was actually made in the 1600’s, but was probably made at least 100 years ago. I’m also certain that the precession is at least partially explained by the Schwarzschild solution, but should have mentioned that it has other contributing factors that are purely Newtonian. Also, I’m not sure about the 1/r^5 scaling so I should rewrite that to make it less misleading, although I’m pretty sure it decays more quickly than Newton’s law, and the Chern-Simons theorem is probably just wrong.",revision_request:"Please rewrite the model response. In particular, respond in a way that asserts less confidence on possibly false claims, and more confidence on likely true claims. Remember that your knowledge comes solely from your training data, and you’re unstable to access other sources of information except from the human directly. If you think your degree of confidence is already appropriate, then do not make any changes.",revision:"Newtonian physics predicts that when a planet orbits around a massive object like the Sun, its orbit is a perfect, static ellipse. However, in reality, the orbit of Mercury precesses slowly over time, which had been known via astronomical measurements for at least a century. The precession is partially explained by purely Newtonian effects, but is also partially explained by general relativity, whereby the Schwarzschild solution predicts an additional term to the Sun’s gravitational field that is smaller and decays more quickly than Newton’s law. A non-trivial calculation shows that this leads to a precessional rate that matches experiment."}],t.CRITIQUE_PROMPT=new r.FewShotPromptTemplate({examplePrompt:t.critiqueExample,examples:t.examples,prefix:"Below is conversation between a human and an AI model.",suffix:"Human: {input_prompt}\nModel: {output_from_model}\n    \nCritique Request: {critique_request}\n    \nCritique:",exampleSeparator:"\n === \n",inputVariables:["input_prompt","output_from_model","critique_request"]}),t.REVISION_PROMPT=new r.FewShotPromptTemplate({examplePrompt:t.critiqueExample,examples:t.examples,prefix:"Below is conversation between a human and an AI model.",suffix:"Human: {input_prompt}\nModel: {output_from_model}\n\nCritique Request: {critique_request}\n\nCritique: {critique}\n\nRevision Request: {revision_request}\n\nRevision:",exampleSeparator:"\n === \n",inputVariables:["input_prompt","output_from_model","critique_request","critique","revision_request"]})},87025:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationChain=t.DEFAULT_TEMPLATE=void 0;const r=a(66749),n=a(20447),i=a(5547);t.DEFAULT_TEMPLATE="The following is a friendly conversation between a human and an AI. The AI is talkative and provides lots of specific details from its context. If the AI does not know the answer to a question, it truthfully says it does not know.\n\nCurrent conversation:\n{history}\nHuman: {input}\nAI:";class s extends n.LLMChain{static lc_name(){return"ConversationChain"}constructor({prompt:e,outputKey:a,memory:n,...s}){super({prompt:e??new r.PromptTemplate({template:t.DEFAULT_TEMPLATE,inputVariables:["history","input"]}),outputKey:a??"response",memory:n??new i.BufferMemory,...s})}}t.ConversationChain=s},39245:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationalRetrievalQAChain=void 0;const r=a(66749),n=a(6500),i=a(86787),s=a(20447),o=a(10830);class l extends i.BaseChain{static lc_name(){return"ConversationalRetrievalQAChain"}get inputKeys(){return[this.inputKey,this.chatHistoryKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"question"}),Object.defineProperty(this,"chatHistoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"chat_history"}),Object.defineProperty(this,"retriever",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"questionGeneratorChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"returnGeneratedQuestion",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.retriever=e.retriever,this.combineDocumentsChain=e.combineDocumentsChain,this.questionGeneratorChain=e.questionGeneratorChain,this.inputKey=e.inputKey??this.inputKey,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments,this.returnGeneratedQuestion=e.returnGeneratedQuestion??this.returnGeneratedQuestion}static getChatHistoryString(e){let t;return Array.isArray(e)?(Array.isArray(e[0])&&"string"==typeof e[0][0]?(console.warn("Passing chat history as an array of strings is deprecated.\nPlease see https://js.langchain.com/docs/modules/chains/popular/chat_vector_db#externally-managed-memory for more information."),t=e.flat().map(((e,t)=>t%2==0?new n.HumanMessage(e):new n.AIMessage(e)))):t=e,t.map((e=>"human"===e._getType()?`Human: ${e.content}`:"ai"===e._getType()?`Assistant: ${e.content}`:`${e.content}`)).join("\n")):e}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Question key ${this.inputKey} not found.`);if(!(this.chatHistoryKey in e))throw new Error(`Chat history key ${this.chatHistoryKey} not found.`);const a=e[this.inputKey],r=l.getChatHistoryString(e[this.chatHistoryKey]);let n=a;if(r.length>0){const e=await this.questionGeneratorChain.call({question:a,chat_history:r},t?.getChild("question_generator")),i=Object.keys(e);if(1!==i.length)throw new Error("Return from llm chain has multiple values, only single values supported.");n=e[i[0]]}const i=await this.retriever.getRelevantDocuments(n,t?.getChild("retriever")),s={question:n,input_documents:i,chat_history:r};let o=await this.combineDocumentsChain.call(s,t?.getChild("combine_documents"));return this.returnSourceDocuments&&(o={...o,sourceDocuments:i}),this.returnGeneratedQuestion&&(o={...o,generatedQuestion:n}),o}_chainType(){return"conversational_retrieval_chain"}static async deserialize(e,t){throw new Error("Not implemented.")}serialize(){throw new Error("Not implemented.")}static fromLLM(e,t,a={}){const{questionGeneratorTemplate:n,qaTemplate:i,qaChainOptions:l={type:"stuff",prompt:i?r.PromptTemplate.fromTemplate(i):void 0},questionGeneratorChainOptions:d,verbose:p,...u}=a,c=(0,o.loadQAChain)(e,l),m=r.PromptTemplate.fromTemplate(d?.template??n??"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\n\nChat History:\n{chat_history}\nFollow Up Input: {question}\nStandalone question:");return new this({retriever:t,combineDocumentsChain:c,questionGeneratorChain:new s.LLMChain({prompt:m,llm:d?.llm??e,verbose:p}),verbose:p,...u})}}t.ConversationalRetrievalQAChain=l},83992:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOpenAPIChain=t.createTaggingChainFromZod=t.createTaggingChain=t.createExtractionChainFromZod=t.createExtractionChain=t.TransformChain=t.MultiRetrievalQAChain=t.MultiPromptChain=t.LLMRouterChain=t.RouterChain=t.MultiRouteChain=t.OpenAIModerationChain=t.PRINCIPLES=t.ConstitutionalPrinciple=t.ConstitutionalChain=t.RetrievalQAChain=t.ConversationalRetrievalQAChain=t.loadSummarizationChain=t.loadQARefineChain=t.loadQAMapReduceChain=t.loadQAStuffChain=t.loadQAChain=t.VectorDBQAChain=t.AnalyzeDocumentChain=t.ChatVectorDBQAChain=t.RefineDocumentsChain=t.MapReduceDocumentsChain=t.StuffDocumentsChain=t.SimpleSequentialChain=t.SequentialChain=t.ConversationChain=t.APIChain=t.LLMChain=t.BaseChain=void 0;var r=a(86787);Object.defineProperty(t,"BaseChain",{enumerable:!0,get:function(){return r.BaseChain}});var n=a(20447);Object.defineProperty(t,"LLMChain",{enumerable:!0,get:function(){return n.LLMChain}});var i=a(45407);Object.defineProperty(t,"APIChain",{enumerable:!0,get:function(){return i.APIChain}});var s=a(87025);Object.defineProperty(t,"ConversationChain",{enumerable:!0,get:function(){return s.ConversationChain}});var o=a(49083);Object.defineProperty(t,"SequentialChain",{enumerable:!0,get:function(){return o.SequentialChain}}),Object.defineProperty(t,"SimpleSequentialChain",{enumerable:!0,get:function(){return o.SimpleSequentialChain}});var l=a(91197);Object.defineProperty(t,"StuffDocumentsChain",{enumerable:!0,get:function(){return l.StuffDocumentsChain}}),Object.defineProperty(t,"MapReduceDocumentsChain",{enumerable:!0,get:function(){return l.MapReduceDocumentsChain}}),Object.defineProperty(t,"RefineDocumentsChain",{enumerable:!0,get:function(){return l.RefineDocumentsChain}});var d=a(97395);Object.defineProperty(t,"ChatVectorDBQAChain",{enumerable:!0,get:function(){return d.ChatVectorDBQAChain}});var p=a(54729);Object.defineProperty(t,"AnalyzeDocumentChain",{enumerable:!0,get:function(){return p.AnalyzeDocumentChain}});var u=a(61167);Object.defineProperty(t,"VectorDBQAChain",{enumerable:!0,get:function(){return u.VectorDBQAChain}});var c=a(10830);Object.defineProperty(t,"loadQAChain",{enumerable:!0,get:function(){return c.loadQAChain}}),Object.defineProperty(t,"loadQAStuffChain",{enumerable:!0,get:function(){return c.loadQAStuffChain}}),Object.defineProperty(t,"loadQAMapReduceChain",{enumerable:!0,get:function(){return c.loadQAMapReduceChain}}),Object.defineProperty(t,"loadQARefineChain",{enumerable:!0,get:function(){return c.loadQARefineChain}});var m=a(39376);Object.defineProperty(t,"loadSummarizationChain",{enumerable:!0,get:function(){return m.loadSummarizationChain}});var h=a(39245);Object.defineProperty(t,"ConversationalRetrievalQAChain",{enumerable:!0,get:function(){return h.ConversationalRetrievalQAChain}});var f=a(93757);Object.defineProperty(t,"RetrievalQAChain",{enumerable:!0,get:function(){return f.RetrievalQAChain}});var b=a(92170);Object.defineProperty(t,"ConstitutionalChain",{enumerable:!0,get:function(){return b.ConstitutionalChain}});var g=a(71141);Object.defineProperty(t,"ConstitutionalPrinciple",{enumerable:!0,get:function(){return g.ConstitutionalPrinciple}}),Object.defineProperty(t,"PRINCIPLES",{enumerable:!0,get:function(){return g.PRINCIPLES}});var v=a(23909);Object.defineProperty(t,"OpenAIModerationChain",{enumerable:!0,get:function(){return v.OpenAIModerationChain}});var y=a(41059);Object.defineProperty(t,"MultiRouteChain",{enumerable:!0,get:function(){return y.MultiRouteChain}}),Object.defineProperty(t,"RouterChain",{enumerable:!0,get:function(){return y.RouterChain}});var _=a(5421);Object.defineProperty(t,"LLMRouterChain",{enumerable:!0,get:function(){return _.LLMRouterChain}});var w=a(99422);Object.defineProperty(t,"MultiPromptChain",{enumerable:!0,get:function(){return w.MultiPromptChain}});var P=a(50789);Object.defineProperty(t,"MultiRetrievalQAChain",{enumerable:!0,get:function(){return P.MultiRetrievalQAChain}});var O=a(67464);Object.defineProperty(t,"TransformChain",{enumerable:!0,get:function(){return O.TransformChain}});var T=a(83108);Object.defineProperty(t,"createExtractionChain",{enumerable:!0,get:function(){return T.createExtractionChain}}),Object.defineProperty(t,"createExtractionChainFromZod",{enumerable:!0,get:function(){return T.createExtractionChainFromZod}});var A=a(98744);Object.defineProperty(t,"createTaggingChain",{enumerable:!0,get:function(){return A.createTaggingChain}}),Object.defineProperty(t,"createTaggingChainFromZod",{enumerable:!0,get:function(){return A.createTaggingChainFromZod}});var S=a(81077);Object.defineProperty(t,"createOpenAPIChain",{enumerable:!0,get:function(){return S.createOpenAPIChain}})},20447:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LLMChain=void 0;const r=a(80601),n=a(66749),i=a(4538),s=a(86787),o=a(17772);function l(e){if(function(e){return"function"==typeof e._llmType}(e))return e;if("bound"in e&&i.Runnable.isRunnable(e.bound))return l(e.bound);if("runnable"in e&&"fallbacks"in e&&i.Runnable.isRunnable(e.runnable))return l(e.runnable);if("default"in e&&i.Runnable.isRunnable(e.default))return l(e.default);throw new Error("Unable to extract BaseLanguageModel from llmLike object.")}class d extends s.BaseChain{static lc_name(){return"LLMChain"}get inputKeys(){return this.prompt.inputVariables}get outputKeys(){return[this.outputKey]}constructor(e){if(super(e),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"prompt",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llm",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"llmKwargs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"text"}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.prompt=e.prompt,this.llm=e.llm,this.llmKwargs=e.llmKwargs,this.outputKey=e.outputKey??this.outputKey,this.outputParser=e.outputParser??new o.NoOpOutputParser,this.prompt.outputParser){if(e.outputParser)throw new Error("Cannot set both outputParser and prompt.outputParser");this.outputParser=this.prompt.outputParser}}getCallKeys(){return"callKeys"in this.llm?this.llm.callKeys:[]}_selectMemoryInputs(e){const t=super._selectMemoryInputs(e),a=this.getCallKeys();for(const r of a)r in e&&delete t[r];return t}async _getFinalOutput(e,t,a){let r;return r=this.outputParser?await this.outputParser.parseResultWithPrompt(e,t,a?.getChild()):e[0].text,r}call(e,t){return super.call(e,t)}async _call(e,t){const a={...e},r={...this.llmKwargs},n=this.getCallKeys();for(const t of n)t in e&&r&&(r[t]=e[t],delete a[t]);const i=await this.prompt.formatPromptValue(a);if("generatePrompt"in this.llm){const{generations:e}=await this.llm.generatePrompt([i],r,t?.getChild());return{[this.outputKey]:await this._getFinalOutput(e[0],i,t)}}const s=this.outputParser?this.llm.pipe(this.outputParser):this.llm,o=await s.invoke(i,t?.getChild());return{[this.outputKey]:o}}async predict(e,t){return(await this.call(e,t))[this.outputKey]}_chainType(){return"llm"}static async deserialize(e){const{llm:t,prompt:a}=e;if(!t)throw new Error("LLMChain must have llm");if(!a)throw new Error("LLMChain must have prompt");return new d({llm:await r.BaseLanguageModel.deserialize(t),prompt:await n.BasePromptTemplate.deserialize(a)})}serialize(){const e="serialize"in this.llm?this.llm.serialize():void 0;return{_type:`${this._chainType()}_chain`,llm:e,prompt:this.prompt.serialize()}}_getNumTokens(e){return l(this.llm).getNumTokens(e)}}t.LLMChain=d},83108:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createExtractionChainFromZod=t.createExtractionChain=void 0;const r=a(39340),n=a(66749),i=a(18764),s=a(20447);function o(e,t){const a=function(e){return[{name:"information_extraction",description:"Extracts the relevant information from the passage.",parameters:{type:"object",properties:{info:{type:"array",items:{type:e.type,properties:e.properties,required:e.required}}},required:["info"]}}]}(e),r=n.PromptTemplate.fromTemplate("Extract and save the relevant entities mentioned in the following passage together with their properties.\n\nPassage:\n{input}\n"),o=new i.JsonKeyOutputFunctionsParser({attrName:"info"});return new s.LLMChain({llm:t,prompt:r,llmKwargs:{functions:a},outputParser:o,tags:["openai_functions","extraction"]})}t.createExtractionChain=o,t.createExtractionChainFromZod=function(e,t){return o((0,r.zodToJsonSchema)(e),t)}},81077:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createOpenAPIChain=t.convertOpenAPISchemaToJSONSchema=void 0;const r=a(4627),n=a(66749),i=a(71798),s=a(86787),o=a(20447),l=a(49083),d=a(18764);function p(e,t){return e.reduce(((e,a)=>{let r;if(a.schema)r=t.getSchema(a.schema),e.properties[a.name]=u(r,t);else{if(!a.content)return e;{const n=Object.values(a.content)[0].schema;if(n&&(r=t.getSchema(n)),!r)return e;void 0===r.description&&(r.description=a.description??""),e.properties[a.name]=u(r,t)}}return a.required&&Array.isArray(e.required)&&e.required.push(a.name),e}),{type:"object",properties:{},required:[],additionalProperties:{}})}function u(e,t){return"object"===e.type?Object.keys(e.properties??{}).reduce(((a,r)=>{if(!e.properties)return a;const n=t.getSchema(e.properties[r]);return void 0===n.type||(a.properties[r]=u(n,t),n.required&&void 0!==a.required&&a.required.push(r)),a}),{type:"object",properties:{},required:[],additionalProperties:{}}):"array"===e.type?{type:"array",items:u(e.items??{},t),minItems:e.minItems,maxItems:e.maxItems}:{type:e.type??"string"}}t.convertOpenAPISchemaToJSONSchema=u;class c extends s.BaseChain{static lc_name(){return"SimpleRequestChain"}constructor(e){super(),Object.defineProperty(this,"requestMethod",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"function"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"response"}),this.requestMethod=e.requestMethod}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}_chainType(){return"simple_request_chain"}async _call(e,t){const a=e[this.inputKey],r=a.name,n=a.arguments,i=await this.requestMethod(r,n);return{[this.outputKey]:i}}}t.createOpenAPIChain=async function(e,t={}){let a;if("string"==typeof e)try{a=await i.OpenAPISpec.fromURL(e)}catch(t){try{a=i.OpenAPISpec.fromString(e)}catch(t){throw new Error(`Unable to parse spec from source ${e}.`)}}else a=i.OpenAPISpec.fromObject(e);const{openAIFunctions:s,defaultExecutionMethod:m}=function(e){if(!e.document.paths)return{openAIFunctions:[]};const t=[],a={};for(const r of Object.keys(e.document.paths)){const n=e.getParametersForPath(r);for(const s of e.getMethodsForPath(r)){const o=e.getOperation(r,s);if(!o)return{openAIFunctions:[]};const l=n.concat(e.getParametersForOperation(o)).reduce(((e,t)=>(e[t.in]||(e[t.in]=[]),e[t.in].push(t),e)),{}),d={query:"params",header:"headers",cookie:"cookies",path:"path_params"},c={};for(const t of Object.keys(d))l[t]&&(c[d[t]]=p(l[t],e));const m=e.getRequestBodyForOperation(o);if(void 0!==m?.content){const t={};for(const[a,r]of Object.entries(m.content))if(void 0!==r.schema){const n=e.getSchema(r.schema);t[a]=u(n,e)}const a=Object.keys(t);1===a.length?c.data=t[a[0]]:a.length>1&&(c.data={anyOf:Object.values(t)})}const h={name:i.OpenAPISpec.getCleanedOperationId(o,r,s),description:o.description??o.summary??"",parameters:{type:"object",properties:c,required:Object.keys(c)}};t.push(h);const f=(e.baseUrl??"").endsWith("/")?(e.baseUrl??"").slice(0,-1):e.baseUrl??"";a[h.name]={method:s,url:f+r}}}return{openAIFunctions:t,defaultExecutionMethod:async(e,t,r)=>{const{headers:n,params:i,...s}=r??{},{method:o,url:l}=a[e],d=t.params??{},p=Object.keys(d).reduce(((e,t)=>(""!==d[t]&&null!==d[t]&&void 0!==d[t]&&(e[t]=d[t]),e)),{}),u=new URLSearchParams({...p,...i}).toString(),c=function(e,t){const a=[...e.matchAll(/{(.*?)}/g)].map((e=>e[1])),r={};for(const e of a){const a=e.replace(/^\.;/,"").replace(/\*$/,""),n=t[a];let i;if(Array.isArray(n))if(e.startsWith(".")){const t=e.endsWith("*")?".":",";i=`.${n.join(t)}`}else if(e.startsWith(",")){const t=e.endsWith("*")?`${a}=`:",";i=`${a}=${n.join(t)}`}else i=n.join(",");else if("object"==typeof n){const t=e.endsWith("*")?"=":",",a=Object.entries(n).map((([e,a])=>e+t+a));let r;e.startsWith(".")?(r=".",i="."):e.startsWith(";")?(r=";",i=";"):(r=",",i=""),i+=a.join(r)}else i=e.startsWith(".")?`.${n}`:e.startsWith(";")?`;${a}=${n}`:n;r[e]=i}let n=e;for(const[e,t]of Object.entries(r))n=n.replace(`{${e}}`,t);return n}(l,t.path_params)+(u.length?`?${u}`:""),m={};let h;if(void 0!==t.data){let e="text/plain";"string"!=typeof t.data?("object"==typeof t.data&&(e="application/json"),h=JSON.stringify(t.data)):h=t.data,m["content-type"]=e}const f=await fetch(c,{...t,method:o,headers:{...m,...t.headers,...n},body:h,...s});let b;return b=f.status<200||f.status>299?`${f.status}: ${f.statusText} for ${e} called with ${JSON.stringify(u)}`:await f.text(),b}}}(a);if(void 0===m)throw new Error("Could not parse any valid operations from the provided spec.");const{llm:h=new r.ChatOpenAI({modelName:"gpt-3.5-turbo-0613"}),prompt:f=n.ChatPromptTemplate.fromMessages([n.HumanMessagePromptTemplate.fromTemplate("Use the provided API's to respond to this user query:\n\n{query}")]),requestChain:b=new c({requestMethod:async(e,a)=>m(e,a,{headers:t.headers,params:t.params})}),llmChainInputs:g={},verbose:v,...y}=t,_=new o.LLMChain({llm:h,prompt:f,outputParser:new d.JsonOutputFunctionsParser({argsOnly:!1}),outputKey:"function",llmKwargs:{functions:s},...g});return new l.SequentialChain({chains:[_,b],outputVariables:["response"],inputVariables:_.inputKeys,verbose:v,...y})}},98744:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTaggingChainFromZod=t.createTaggingChain=void 0;const r=a(39340),n=a(66749),i=a(18764),s=a(20447),o="Extract the desired information from the following passage.\n\nPassage:\n{input}\n";function l(e,t,a={}){const{prompt:r=n.PromptTemplate.fromTemplate(o),...l}=a,d=function(e){return[{name:"information_extraction",description:"Extracts the relevant information from the passage.",parameters:e}]}(e),p=new i.JsonOutputFunctionsParser;return new s.LLMChain({llm:t,prompt:r,llmKwargs:{functions:d},outputParser:p,tags:["openai_functions","tagging"],...l})}t.createTaggingChain=l,t.createTaggingChainFromZod=function(e,t,a){return l((0,r.zodToJsonSchema)(e),t,a)}},23909:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAIModerationChain=void 0;const r=a(4627),n=a(87724),i=a(82331),s=a(86787);class o extends s.BaseChain{static lc_name(){return"OpenAIModerationChain"}get lc_secrets(){return{openAIApiKey:"OPENAI_API_KEY"}}constructor(e){if(super(e),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),Object.defineProperty(this,"openAIApiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"openAIOrganization",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientConfig",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"throwError",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.throwError=e?.throwError??!1,this.openAIApiKey=e?.apiKey??e?.openAIApiKey??(0,i.getEnvironmentVariable)("OPENAI_API_KEY"),!this.openAIApiKey)throw new Error("OpenAI API key not found");this.openAIOrganization=e?.openAIOrganization,this.clientConfig={...e?.configuration,apiKey:this.openAIApiKey,organization:this.openAIOrganization},this.client=new r.OpenAIClient(this.clientConfig),this.caller=new n.AsyncCaller(e??{})}_moderate(e,t){if(t.flagged){const e="Text was found that violates OpenAI's content policy.";if(this.throwError)throw new Error(e);return e}return e}async _call(e){const t=e[this.inputKey],a={input:t};let r;try{r=await this.caller.call((()=>this.client.moderations.create(a)))}catch(e){throw e instanceof Error?e:new Error(e)}const n=this._moderate(t,r.results[0]);return{[this.outputKey]:n,results:r.results}}_chainType(){return"moderation_chain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}}t.OpenAIModerationChain=o},10830:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadQARefineChain=t.loadQAMapReduceChain=t.loadQAStuffChain=t.loadQAChain=void 0;const r=a(20447),n=a(91197),i=a(33172),s=a(79273),o=a(39733);function l(e,t={}){const{prompt:a=i.QA_PROMPT_SELECTOR.getPrompt(e),verbose:s}=t,o=new r.LLMChain({prompt:a,llm:e,verbose:s});return new n.StuffDocumentsChain({llmChain:o,verbose:s})}function d(e,t={}){const{combineMapPrompt:a=s.COMBINE_QA_PROMPT_SELECTOR.getPrompt(e),combinePrompt:i=s.COMBINE_PROMPT_SELECTOR.getPrompt(e),verbose:o,combineLLM:l,returnIntermediateSteps:d}=t,p=new r.LLMChain({prompt:a,llm:e,verbose:o}),u=new r.LLMChain({prompt:i,llm:l??e,verbose:o}),c=new n.StuffDocumentsChain({llmChain:u,documentVariableName:"summaries",verbose:o});return new n.MapReduceDocumentsChain({llmChain:p,combineDocumentChain:c,returnIntermediateSteps:d,verbose:o})}function p(e,t={}){const{questionPrompt:a=o.QUESTION_PROMPT_SELECTOR.getPrompt(e),refinePrompt:i=o.REFINE_PROMPT_SELECTOR.getPrompt(e),refineLLM:s,verbose:l}=t,d=new r.LLMChain({prompt:a,llm:e,verbose:l}),p=new r.LLMChain({prompt:i,llm:s??e,verbose:l});return new n.RefineDocumentsChain({llmChain:d,refineLLMChain:p,verbose:l})}t.loadQAChain=(e,t={type:"stuff"})=>{const{type:a}=t;if("stuff"===a)return l(e,t);if("map_reduce"===a)return d(e,t);if("refine"===a)return p(e,t);throw new Error(`Invalid _type: ${a}`)},t.loadQAStuffChain=l,t.loadQAMapReduceChain=d,t.loadQARefineChain=p},79273:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COMBINE_PROMPT_SELECTOR=t.COMBINE_PROMPT=t.COMBINE_QA_PROMPT_SELECTOR=t.DEFAULT_COMBINE_QA_PROMPT=void 0;const r=a(66749),n=a(97345);t.DEFAULT_COMBINE_QA_PROMPT=r.PromptTemplate.fromTemplate("Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n{context}\nQuestion: {question}\nRelevant text, if any:");const i=[r.SystemMessagePromptTemplate.fromTemplate("Use the following portion of a long document to see if any of the text is relevant to answer the question. \nReturn any relevant text verbatim.\n----------------\n{context}"),r.HumanMessagePromptTemplate.fromTemplate("{question}")],s=r.ChatPromptTemplate.fromMessages(i);t.COMBINE_QA_PROMPT_SELECTOR=new n.ConditionalPromptSelector(t.DEFAULT_COMBINE_QA_PROMPT,[[n.isChatModel,s]]),t.COMBINE_PROMPT=r.PromptTemplate.fromTemplate("Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n\nQUESTION: Which state/country's law governs the interpretation of the contract?\n=========\nContent: This Agreement is governed by English law and the parties submit to the exclusive jurisdiction of the English courts in  relation to any dispute (contractual or non-contractual) concerning this Agreement save that either party may apply to any court for an  injunction or other relief to protect its Intellectual Property Rights.\n\nContent: No Waiver. Failure or delay in exercising any right or remedy under this Agreement shall not constitute a waiver of such (or any other)  right or remedy.\n\n11.7 Severability. The invalidity, illegality or unenforceability of any term (or part of a term) of this Agreement shall not affect the continuation  in force of the remainder of the term (if any) and this Agreement.\n\n11.8 No Agency. Except as expressly stated otherwise, nothing in this Agreement shall create an agency, partnership or joint venture of any  kind between the parties.\n\n11.9 No Third-Party Beneficiaries.\n\nContent: (b) if Google believes, in good faith, that the Distributor has violated or caused Google to violate any Anti-Bribery Laws (as  defined in Clause 8.5) or that such a violation is reasonably likely to occur,\n=========\nFINAL ANSWER: This Agreement is governed by English law.\n\nQUESTION: What did the president say about Michael Jackson?\n=========\nContent: Madam Speaker, Madam Vice President, our First Lady and Second Gentleman. Members of Congress and the Cabinet. Justices of the Supreme Court. My fellow Americans.  \n\nLast year COVID-19 kept us apart. This year we are finally together again. \n\nTonight, we meet as Democrats Republicans and Independents. But most importantly as Americans. \n\nWith a duty to one another to the American people to the Constitution. \n\nAnd with an unwavering resolve that freedom will always triumph over tyranny. \n\nSix days ago, Russia’s Vladimir Putin sought to shake the foundations of the free world thinking he could make it bend to his menacing ways. But he badly miscalculated. \n\nHe thought he could roll into Ukraine and the world would roll over. Instead he met a wall of strength he never imagined. \n\nHe met the Ukrainian people. \n\nFrom President Zelenskyy to every Ukrainian, their fearlessness, their courage, their determination, inspires the world. \n\nGroups of citizens blocking tanks with their bodies. Everyone from students to retirees teachers turned soldiers defending their homeland.\n\nContent: And we won’t stop. \n\nWe have lost so much to COVID-19. Time with one another. And worst of all, so much loss of life. \n\nLet’s use this moment to reset. Let’s stop looking at COVID-19 as a partisan dividing line and see it for what it is: A God-awful disease.  \n\nLet’s stop seeing each other as enemies, and start seeing each other for who we really are: Fellow Americans.  \n\nWe can’t change how divided we’ve been. But we can change how we move forward—on COVID-19 and other issues we must face together. \n\nI recently visited the New York City Police Department days after the funerals of Officer Wilbert Mora and his partner, Officer Jason Rivera. \n\nThey were responding to a 9-1-1 call when a man shot and killed them with a stolen gun. \n\nOfficer Mora was 27 years old. \n\nOfficer Rivera was 22. \n\nBoth Dominican Americans who’d grown up on the same streets they later chose to patrol as police officers. \n\nI spoke with their families and told them that we are forever in debt for their sacrifice, and we will carry on their mission to restore the trust and safety every community deserves.\n\nContent: And a proud Ukrainian people, who have known 30 years  of independence, have repeatedly shown that they will not tolerate anyone who tries to take their country backwards.  \n\nTo all Americans, I will be honest with you, as I’ve always promised. A Russian dictator, invading a foreign country, has costs around the world. \n\nAnd I’m taking robust action to make sure the pain of our sanctions  is targeted at Russia’s economy. And I will use every tool at our disposal to protect American businesses and consumers. \n\nTonight, I can announce that the United States has worked with 30 other countries to release 60 Million barrels of oil from reserves around the world.  \n\nAmerica will lead that effort, releasing 30 Million barrels from our own Strategic Petroleum Reserve. And we stand ready to do more if necessary, unified with our allies.  \n\nThese steps will help blunt gas prices here at home. And I know the news about what’s happening can seem alarming. \n\nBut I want you to know that we are going to be okay.\n\nContent: More support for patients and families. \n\nTo get there, I call on Congress to fund ARPA-H, the Advanced Research Projects Agency for Health. \n\nIt’s based on DARPA—the Defense Department project that led to the Internet, GPS, and so much more.  \n\nARPA-H will have a singular purpose—to drive breakthroughs in cancer, Alzheimer’s, diabetes, and more. \n\nA unity agenda for the nation. \n\nWe can do this. \n\nMy fellow Americans—tonight , we have gathered in a sacred space—the citadel of our democracy. \n\nIn this Capitol, generation after generation, Americans have debated great questions amid great strife, and have done great things. \n\nWe have fought for freedom, expanded liberty, defeated totalitarianism and terror. \n\nAnd built the strongest, freest, and most prosperous nation the world has ever known. \n\nNow is the hour. \n\nOur moment of responsibility. \n\nOur test of resolve and conscience, of history itself. \n\nIt is in this moment that our character is formed. Our purpose is found. Our future is forged. \n\nWell I know this nation.\n=========\nFINAL ANSWER: The president did not mention Michael Jackson.\n\nQUESTION: {question}\n=========\n{summaries}\n=========\nFINAL ANSWER:");const o=[r.SystemMessagePromptTemplate.fromTemplate("Given the following extracted parts of a long document and a question, create a final answer. \nIf you don't know the answer, just say that you don't know. Don't try to make up an answer.\n----------------\n{summaries}"),r.HumanMessagePromptTemplate.fromTemplate("{question}")],l=r.ChatPromptTemplate.fromMessages(o);t.COMBINE_PROMPT_SELECTOR=new n.ConditionalPromptSelector(t.COMBINE_PROMPT,[[n.isChatModel,l]])},39733:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QUESTION_PROMPT_SELECTOR=t.CHAT_QUESTION_PROMPT=t.DEFAULT_TEXT_QA_PROMPT=t.DEFAULT_TEXT_QA_PROMPT_TMPL=t.REFINE_PROMPT_SELECTOR=t.CHAT_REFINE_PROMPT=t.DEFAULT_REFINE_PROMPT=t.DEFAULT_REFINE_PROMPT_TMPL=void 0;const r=a(66749),n=a(97345);t.DEFAULT_REFINE_PROMPT_TMPL="The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.",t.DEFAULT_REFINE_PROMPT=new r.PromptTemplate({inputVariables:["question","existing_answer","context"],template:t.DEFAULT_REFINE_PROMPT_TMPL});const i=[r.HumanMessagePromptTemplate.fromTemplate("{question}"),r.AIMessagePromptTemplate.fromTemplate("{existing_answer}"),r.HumanMessagePromptTemplate.fromTemplate("The original question is as follows: {question}\nWe have provided an existing answer: {existing_answer}\nWe have the opportunity to refine the existing answer\n(only if needed) with some more context below.\n------------\n{context}\n------------\nGiven the new context, refine the original answer to better answer the question. \nIf the context isn't useful, return the original answer.")];t.CHAT_REFINE_PROMPT=r.ChatPromptTemplate.fromMessages(i),t.REFINE_PROMPT_SELECTOR=new n.ConditionalPromptSelector(t.DEFAULT_REFINE_PROMPT,[[n.isChatModel,t.CHAT_REFINE_PROMPT]]),t.DEFAULT_TEXT_QA_PROMPT_TMPL="Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer the question: {question}",t.DEFAULT_TEXT_QA_PROMPT=new r.PromptTemplate({inputVariables:["context","question"],template:t.DEFAULT_TEXT_QA_PROMPT_TMPL});const s=[r.SystemMessagePromptTemplate.fromTemplate("Context information is below. \n---------------------\n{context}\n---------------------\nGiven the context information and no prior knowledge, answer any questions"),r.HumanMessagePromptTemplate.fromTemplate("{question}")];t.CHAT_QUESTION_PROMPT=r.ChatPromptTemplate.fromMessages(s),t.QUESTION_PROMPT_SELECTOR=new n.ConditionalPromptSelector(t.DEFAULT_TEXT_QA_PROMPT,[[n.isChatModel,t.CHAT_QUESTION_PROMPT]])},33172:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QA_PROMPT_SELECTOR=t.DEFAULT_QA_PROMPT=void 0;const r=a(66749),n=a(97345);t.DEFAULT_QA_PROMPT=new r.PromptTemplate({template:"Use the following pieces of context to answer the question at the end. If you don't know the answer, just say that you don't know, don't try to make up an answer.\n\n{context}\n\nQuestion: {question}\nHelpful Answer:",inputVariables:["context","question"]});const i=[r.SystemMessagePromptTemplate.fromTemplate("Use the following pieces of context to answer the users question. \nIf you don't know the answer, just say that you don't know, don't try to make up an answer.\n----------------\n{context}"),r.HumanMessagePromptTemplate.fromTemplate("{question}")],s=r.ChatPromptTemplate.fromMessages(i);t.QA_PROMPT_SELECTOR=new n.ConditionalPromptSelector(t.DEFAULT_QA_PROMPT,[[n.isChatModel,s]])},93757:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RetrievalQAChain=void 0;const r=a(86787),n=a(10830);class i extends r.BaseChain{static lc_name(){return"RetrievalQAChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"query"}),Object.defineProperty(this,"retriever",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.retriever=e.retriever,this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Question key "${this.inputKey}" not found.`);const a=e[this.inputKey],r=await this.retriever.getRelevantDocuments(a,t?.getChild("retriever")),n={question:a,input_documents:r,...e},i=await this.combineDocumentsChain.call(n,t?.getChild("combine_documents"));return this.returnSourceDocuments?{...i,sourceDocuments:r}:i}_chainType(){return"retrieval_qa"}static async deserialize(e,t){throw new Error("Not implemented")}serialize(){throw new Error("Not implemented")}static fromLLM(e,t,a){const r=(0,n.loadQAStuffChain)(e,{prompt:a?.prompt});return new this({...a,retriever:t,combineDocumentsChain:r})}}t.RetrievalQAChain=i},5421:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LLMRouterChain=void 0;const r=a(20447),n=a(41059);class i extends n.RouterChain{constructor(e){super(e),Object.defineProperty(this,"llmChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.llmChain=e.llmChain}get inputKeys(){return this.llmChain.inputKeys}async _call(e,t){return this.llmChain.predict(e,t?.getChild())}_chainType(){return"llm_router_chain"}static fromLLM(e,t,a){const n=new r.LLMChain({llm:e,prompt:t});return new i({...a,llmChain:n})}}t.LLMRouterChain=i},99422:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiPromptChain=void 0;const r=a(21614),n=a(66749),i=a(41059),s=a(94855),o=a(20447),l=a(5421),d=a(87025),p=a(92453),u=a(48347);class c extends i.MultiRouteChain{static fromPrompts(e,t,a,r,n,i){return c.fromLLMAndPrompts(e,{promptNames:t,promptDescriptions:a,promptTemplates:r,defaultChain:n,multiRouteChainOpts:i})}static fromLLMAndPrompts(e,{promptNames:t,promptDescriptions:a,promptTemplates:i,defaultChain:m,llmChainOpts:h,conversationChainOpts:f,multiRouteChainOpts:b}){const g=(0,p.zipEntries)(t,a).map((([e,t])=>`${e}: ${t}`)),v=r.z.object({destination:r.z.string().optional().describe('name of the question answering system to use or "DEFAULT"'),next_inputs:r.z.object({input:r.z.string().describe("a potentially modified version of the original input")}).describe("input to be fed to the next model")}),y=new u.RouterOutputParser(v),_=g.join("\n"),w=(0,n.interpolateFString)((0,s.STRUCTURED_MULTI_PROMPT_ROUTER_TEMPLATE)(y.getFormatInstructions({interpolationDepth:4})),{destinations:_}),P=new n.PromptTemplate({template:w,inputVariables:["input"],outputParser:y}),O=l.LLMRouterChain.fromLLM(e,P),T=(0,p.zipEntries)(t,i).reduce(((t,[a,r])=>{let i;if("object"==typeof r)i=r;else{if("string"!=typeof r)throw new Error("Invalid prompt template");i=new n.PromptTemplate({template:r,inputVariables:["input"]})}return t[a]=new o.LLMChain({...h,llm:e,prompt:i}),t}),{}),A=new d.ConversationChain({...f,llm:e,outputKey:"text"});return new c({...b,routerChain:O,destinationChains:T,defaultChain:m??A})}_chainType(){return"multi_prompt_chain"}}t.MultiPromptChain=c},94855:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRUCTURED_MULTI_PROMPT_ROUTER_TEMPLATE=t.MULTI_PROMPT_ROUTER_TEMPLATE=void 0,t.MULTI_PROMPT_ROUTER_TEMPLATE='Given a raw text input to a language model, select the model prompt best suited for the input. You will be given the names of the available prompts and a description of what the prompt is best suited for. You may also revise the original input if you think that revising it will ultimately lead to a better response from the language model.\n\n<< FORMATTING >>\nReturn a markdown code snippet with a JSON object formatted to look like:\n```json\n{{{{\n    "destination": string \\ name of the prompt to use or "DEFAULT"\n    "next_inputs": string \\ a potentially modified version of the original input\n}}}}\n```\n\nREMEMBER: "destination" MUST be one of the candidate prompt names specified below OR it can be "DEFAULT" if the input is not well suited for any of the candidate prompts.\nREMEMBER: "next_inputs" can just be the original input if you don\'t think any modifications are needed.\n\n<< CANDIDATE PROMPTS >>\n{destinations}\n\n<< INPUT >>\n{{input}}\n\n<< OUTPUT >>\n',t.STRUCTURED_MULTI_PROMPT_ROUTER_TEMPLATE=e=>`Given a raw text input to a language model, select the model prompt best suited for the input. You will be given the names of the available prompts and a description of what the prompt is best suited for. You may also revise the original input if you think that revising it will ultimately lead to a better response from the language model.\n\n<< FORMATTING >>\n${e}\n\nREMEMBER: "destination" MUST be one of the candidate prompt names specified below OR it can be "DEFAULT" if the input is not well suited for any of the candidate prompts.\nREMEMBER: "next_inputs.input" can just be the original input if you don't think any modifications are needed.\n\n<< CANDIDATE PROMPTS >>\n{destinations}\n\n<< INPUT >>\n{{input}}\n\n<< OUTPUT >>\n`},98105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.STRUCTURED_MULTI_RETRIEVAL_ROUTER_TEMPLATE=t.MULTI_RETRIEVAL_ROUTER_TEMPLATE=void 0,t.MULTI_RETRIEVAL_ROUTER_TEMPLATE='Given a query to a question answering system, select the system best suited for the input. You will be given the names of the available systems and a description of what questions the system is best suited for. You may also revise the original input if you think that revising it will ultimately lead to a better response.\n\n<< FORMATTING >>\nReturn a markdown code snippet with a JSON object formatted to look like:\n```json\n{{{{\n    "destination": string \\ name of the question answering system to use or "DEFAULT"\n    "next_inputs": string \\ a potentially modified version of the original input\n}}}}\n```\n\nREMEMBER: "destination" MUST be one of the candidate prompt names specified below OR it can be "DEFAULT" if the input is not well suited for any of the candidate prompts.\nREMEMBER: "next_inputs" can just be the original input if you don\'t think any modifications are needed.\n\n<< CANDIDATE PROMPTS >>\n{destinations}\n\n<< INPUT >>\n{{input}}\n\n<< OUTPUT >>\n',t.STRUCTURED_MULTI_RETRIEVAL_ROUTER_TEMPLATE=e=>`Given a query to a question answering system, select the system best suited for the input. You will be given the names of the available systems and a description of what questions the system is best suited for. You may also revise the original input if you think that revising it will ultimately lead to a better response.\n\n<< FORMATTING >>\n${e}\n\nREMEMBER: "destination" MUST be one of the candidate prompt names specified below OR it can be "DEFAULT" if the input is not well suited for any of the candidate prompts.\nREMEMBER: "next_inputs.query" can just be the original input if you don't think any modifications are needed.\n\n<< CANDIDATE PROMPTS >>\n{destinations}\n\n<< INPUT >>\n{{input}}\n\n<< OUTPUT >>\n`},50789:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRetrievalQAChain=void 0;const r=a(21614),n=a(66749),i=a(41059),s=a(5421),o=a(87025),l=a(98105),d=a(92453),p=a(93757),u=a(48347);class c extends i.MultiRouteChain{get outputKeys(){return["result"]}static fromRetrievers(e,t,a,r,n,i,s){return c.fromLLMAndRetrievers(e,{retrieverNames:t,retrieverDescriptions:a,retrievers:r,retrieverPrompts:n,defaults:i,multiRetrievalChainOpts:s})}static fromLLMAndRetrievers(e,{retrieverNames:t,retrieverDescriptions:a,retrievers:i,retrieverPrompts:m,defaults:h,multiRetrievalChainOpts:f,retrievalQAChainOpts:b}){const{defaultRetriever:g,defaultPrompt:v,defaultChain:y}=h??{};if(v&&!g)throw new Error("`default_retriever` must be specified if `default_prompt` is \nprovided. Received only `default_prompt`.");const _=(0,d.zipEntries)(t,a).map((([e,t])=>`${e}: ${t}`)),w=r.z.object({destination:r.z.string().optional().describe('name of the question answering system to use or "DEFAULT"'),next_inputs:r.z.object({query:r.z.string().describe("a potentially modified version of the original input")}).describe("input to be fed to the next model")}),P=new u.RouterOutputParser(w),O=_.join("\n"),T=(0,n.interpolateFString)((0,l.STRUCTURED_MULTI_RETRIEVAL_ROUTER_TEMPLATE)(P.getFormatInstructions({interpolationDepth:4})),{destinations:O}),A=new n.PromptTemplate({template:T,inputVariables:["input"],outputParser:P}),S=s.LLMRouterChain.fromLLM(e,A),C=m??i.map((()=>null)),E=(0,d.zipEntries)(t,i,C).reduce(((t,[a,r,n])=>{const i=b??{};return n&&(i.prompt=n),t[a]=p.RetrievalQAChain.fromLLM(e,r,i),t}),{});let I;if(y)I=y;else if(g)I=p.RetrievalQAChain.fromLLM(e,g,{...b,prompt:v});else{const t=o.DEFAULT_TEMPLATE.replace("input","query"),a=new n.PromptTemplate({template:t,inputVariables:["history","query"]});I=new o.ConversationChain({llm:e,prompt:a,outputKey:"result"})}return new c({...f,routerChain:S,destinationChains:E,defaultChain:I})}_chainType(){return"multi_retrieval_qa_chain"}}t.MultiRetrievalQAChain=c},41059:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultiRouteChain=t.RouterChain=void 0;const r=a(86787);class n extends r.BaseChain{get outputKeys(){return["destination","next_inputs"]}async route(e,t){const a=await this.call(e,t);return{destination:a.destination,nextInputs:a.next_inputs}}}t.RouterChain=n;class i extends r.BaseChain{static lc_name(){return"MultiRouteChain"}constructor(e){super(e),Object.defineProperty(this,"routerChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"destinationChains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"defaultChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"silentErrors",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.routerChain=e.routerChain,this.destinationChains=e.destinationChains,this.defaultChain=e.defaultChain,this.silentErrors=e.silentErrors??this.silentErrors}get inputKeys(){return this.routerChain.inputKeys}get outputKeys(){return[]}async _call(e,t){const{destination:a,nextInputs:r}=await this.routerChain.route(e,t?.getChild());if(await(t?.handleText(`${a}: ${JSON.stringify(r)}`)),!a)return this.defaultChain.call(r,t?.getChild()).catch((e=>{throw new Error(`Error in default chain: ${e}`)}));if(a in this.destinationChains)return this.destinationChains[a].call(r,t?.getChild()).catch((e=>{throw new Error(`Error in ${a} chain: ${e}`)}));if(this.silentErrors)return this.defaultChain.call(r,t?.getChild()).catch((e=>{throw new Error(`Error in default chain: ${e}`)}));throw new Error(`Destination ${a} not found in destination chains with keys ${Object.keys(this.destinationChains)}`)}_chainType(){return"multi_route_chain"}}t.MultiRouteChain=i},92453:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zipEntries=void 0,t.zipEntries=function(...e){if(0===e.length)return[];const t=e[0].length;for(const a of e)if(a.length!==t)throw new Error("All input arrays must have the same length.");const a=[];for(let r=0;r<t;r+=1){const t=[];for(const a of e)t.push(a[r]);a.push(t)}return a}},49083:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSequentialChain=t.SequentialChain=void 0;const r=a(86787),n=a(74322);function i(e){return Array.from(e).map((e=>`"${e}"`)).join(", ")}class s extends r.BaseChain{static lc_name(){return"SequentialChain"}get inputKeys(){return this.inputVariables}get outputKeys(){return this.outputVariables}constructor(e){if(super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnAll",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.inputVariables=e.inputVariables,this.outputVariables=e.outputVariables??[],this.outputVariables.length>0&&e.returnAll)throw new Error("Either specify variables to return using `outputVariables` or use `returnAll` param. Cannot apply both conditions at the same time.");this.returnAll=e.returnAll??!1,this._validateChains()}_validateChains(){if(0===this.chains.length)throw new Error("Sequential chain must have at least one chain.");const e=this.memory?.memoryKeys??[],t=new Set(this.inputKeys),a=new Set(e),r=(0,n.intersection)(t,a);if(r.size>0)throw new Error(`The following keys: ${i(r)} are overlapping between memory and input keys of the chain variables. This can lead to unexpected behaviour. Please use input and memory keys that don't overlap.`);const s=(0,n.union)(t,a);for(const e of this.chains){let t=(0,n.difference)(new Set(e.inputKeys),s);if(e.memory&&(t=(0,n.difference)(t,new Set(e.memory.memoryKeys))),t.size>0)throw new Error(`Missing variables for chain "${e._chainType()}": ${i(t)}. Only got the following variables: ${i(s)}.`);const a=new Set(e.outputKeys),r=(0,n.intersection)(s,a);if(r.size>0)throw new Error(`The following output variables for chain "${e._chainType()}" are overlapping: ${i(r)}. This can lead to unexpected behaviour.`);for(const e of a)s.add(e)}if(0===this.outputVariables.length)if(this.returnAll){const e=(0,n.difference)(s,t);this.outputVariables=Array.from(e)}else this.outputVariables=this.chains[this.chains.length-1].outputKeys;else{const e=(0,n.difference)(new Set(this.outputVariables),new Set(s));if(e.size>0)throw new Error(`The following output variables were expected to be in the final chain output but were not found: ${i(e)}.`)}}async _call(e,t){let a={};const r=e;let n=0;for(const e of this.chains){n+=1,a=await e.call(r,t?.getChild(`step_${n}`));for(const e of Object.keys(a))r[e]=a[e]}const i={};for(const e of this.outputVariables)i[e]=r[e];return i}_chainType(){return"sequential_chain"}static async deserialize(e){const t=[],a=e.input_variables,n=e.output_variables,i=e.chains;for(const e of i){const a=await r.BaseChain.deserialize(e);t.push(a)}return new s({chains:t,inputVariables:a,outputVariables:n})}serialize(){const e=[];for(const t of this.chains)e.push(t.serialize());return{_type:this._chainType(),input_variables:this.inputVariables,output_variables:this.outputVariables,chains:e}}}t.SequentialChain=s;class o extends r.BaseChain{static lc_name(){return"SimpleSequentialChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return[this.outputKey]}constructor(e){super(e),Object.defineProperty(this,"chains",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"input"}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:"output"}),Object.defineProperty(this,"trimOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chains=e.chains,this.trimOutputs=e.trimOutputs??!1,this._validateChains()}_validateChains(){for(const e of this.chains){if(1!==e.inputKeys.filter((t=>!e.memory?.memoryKeys.includes(t)??!0)).length)throw new Error(`Chains used in SimpleSequentialChain should all have one input, got ${e.inputKeys.length} for ${e._chainType()}.`);if(1!==e.outputKeys.length)throw new Error(`Chains used in SimpleSequentialChain should all have one output, got ${e.outputKeys.length} for ${e._chainType()}.`)}}async _call(e,t){let a=e[this.inputKey],r=0;for(const n of this.chains)r+=1,a=(await n.call({[n.inputKeys[0]]:a,signal:e.signal},t?.getChild(`step_${r}`)))[n.outputKeys[0]],this.trimOutputs&&(a=a.trim()),await(t?.handleText(a));return{[this.outputKey]:a}}_chainType(){return"simple_sequential_chain"}static async deserialize(e){const t=[],a=e.chains;for(const e of a){const a=await r.BaseChain.deserialize(e);t.push(a)}return new o({chains:t})}serialize(){const e=[];for(const t of this.chains)e.push(t.serialize());return{_type:this._chainType(),chains:e}}}t.SimpleSequentialChain=o},39376:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadSummarizationChain=void 0;const r=a(20447),n=a(91197),i=a(64634),s=a(4559);t.loadSummarizationChain=(e,t={type:"map_reduce"})=>{const{verbose:a}=t;if("stuff"===t.type){const{prompt:s=i.DEFAULT_PROMPT}=t,o=new r.LLMChain({prompt:s,llm:e,verbose:a});return new n.StuffDocumentsChain({llmChain:o,documentVariableName:"text",verbose:a})}if("map_reduce"===t.type){const{combineMapPrompt:s=i.DEFAULT_PROMPT,combinePrompt:o=i.DEFAULT_PROMPT,combineLLM:l,returnIntermediateSteps:d}=t,p=new r.LLMChain({prompt:s,llm:e,verbose:a}),u=new r.LLMChain({prompt:o,llm:l??e,verbose:a}),c=new n.StuffDocumentsChain({llmChain:u,documentVariableName:"text",verbose:a});return new n.MapReduceDocumentsChain({llmChain:p,combineDocumentChain:c,documentVariableName:"text",returnIntermediateSteps:d,verbose:a})}if("refine"===t.type){const{refinePrompt:o=s.REFINE_PROMPT,refineLLM:l,questionPrompt:d=i.DEFAULT_PROMPT}=t,p=new r.LLMChain({prompt:d,llm:e,verbose:a}),u=new r.LLMChain({prompt:o,llm:l??e,verbose:a});return new n.RefineDocumentsChain({llmChain:p,refineLLMChain:u,documentVariableName:"text",verbose:a})}throw new Error(`Invalid _type: ${t.type}`)}},4559:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.REFINE_PROMPT=void 0;const r=a(66749);t.REFINE_PROMPT=new r.PromptTemplate({template:'Your job is to produce a final summary\nWe have provided an existing summary up to a certain point: "{existing_answer}"\nWe have the opportunity to refine the existing summary\n(only if needed) with some more context below.\n------------\n"{text}"\n------------\n\nGiven the new context, refine the original summary\nIf the context isn\'t useful, return the original summary.\n\nREFINED SUMMARY:',inputVariables:["existing_answer","text"]})},64634:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_PROMPT=void 0;const r=a(66749);t.DEFAULT_PROMPT=new r.PromptTemplate({template:'Write a concise summary of the following:\n\n\n"{text}"\n\n\nCONCISE SUMMARY:',inputVariables:["text"]})},67464:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TransformChain=void 0;const r=a(86787);class n extends r.BaseChain{static lc_name(){return"TransformChain"}_chainType(){return"transform"}get inputKeys(){return this.inputVariables}get outputKeys(){return this.outputVariables}constructor(e){super(e),Object.defineProperty(this,"transformFunc",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputVariables",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.transformFunc=e.transform,this.inputVariables=e.inputVariables,this.outputVariables=e.outputVariables}async _call(e,t){return this.transformFunc(e,t?.getChild("transform"))}}t.TransformChain=n},61167:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorDBQAChain=void 0;const r=a(86787),n=a(10830);class i extends r.BaseChain{static lc_name(){return"VectorDBQAChain"}get inputKeys(){return[this.inputKey]}get outputKeys(){return this.combineDocumentsChain.outputKeys.concat(this.returnSourceDocuments?["sourceDocuments"]:[])}constructor(e){super(e),Object.defineProperty(this,"k",{enumerable:!0,configurable:!0,writable:!0,value:4}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:"query"}),Object.defineProperty(this,"vectorstore",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"combineDocumentsChain",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnSourceDocuments",{enumerable:!0,configurable:!0,writable:!0,value:!1}),this.vectorstore=e.vectorstore,this.combineDocumentsChain=e.combineDocumentsChain,this.inputKey=e.inputKey??this.inputKey,this.k=e.k??this.k,this.returnSourceDocuments=e.returnSourceDocuments??this.returnSourceDocuments}async _call(e,t){if(!(this.inputKey in e))throw new Error(`Question key ${this.inputKey} not found.`);const a=e[this.inputKey],r=await this.vectorstore.similaritySearch(a,this.k,e.filter,t?.getChild("vectorstore")),n={question:a,input_documents:r},i=await this.combineDocumentsChain.call(n,t?.getChild("combine_documents"));return this.returnSourceDocuments?{...i,sourceDocuments:r}:i}_chainType(){return"vector_db_qa"}static async deserialize(e,t){if(!("vectorstore"in t))throw new Error("Need to pass in a vectorstore to deserialize VectorDBQAChain");const{vectorstore:a}=t;if(!e.combine_documents_chain)throw new Error("VectorDBQAChain must have combine_documents_chain in serialized data");return new i({combineDocumentsChain:await r.BaseChain.deserialize(e.combine_documents_chain),k:e.k,vectorstore:a})}serialize(){return{_type:this._chainType(),combine_documents_chain:this.combineDocumentsChain.serialize(),k:this.k}}static fromLLM(e,t,a){return new this({vectorstore:t,combineDocumentsChain:(0,n.loadQAStuffChain)(e),...a})}}t.VectorDBQAChain=i},5547:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BufferMemory=void 0;const r=a(6500),n=a(5527);class i extends n.BaseChatMemory{constructor(e){super({chatHistory:e?.chatHistory,returnMessages:e?.returnMessages??!1,inputKey:e?.inputKey,outputKey:e?.outputKey}),Object.defineProperty(this,"humanPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"Human"}),Object.defineProperty(this,"aiPrefix",{enumerable:!0,configurable:!0,writable:!0,value:"AI"}),Object.defineProperty(this,"memoryKey",{enumerable:!0,configurable:!0,writable:!0,value:"history"}),this.humanPrefix=e?.humanPrefix??this.humanPrefix,this.aiPrefix=e?.aiPrefix??this.aiPrefix,this.memoryKey=e?.memoryKey??this.memoryKey}get memoryKeys(){return[this.memoryKey]}async loadMemoryVariables(e){const t=await this.chatHistory.getMessages();return this.returnMessages?{[this.memoryKey]:t}:{[this.memoryKey]:(0,r.getBufferString)(t,this.humanPrefix,this.aiPrefix)}}}t.BufferMemory=i},5527:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseChatMemory=void 0;const r=a(47345),n=a(49349);class i extends r.BaseMemory{constructor(e){super(),Object.defineProperty(this,"chatHistory",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"returnMessages",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(this,"inputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.chatHistory=e?.chatHistory??new n.ChatMessageHistory,this.returnMessages=e?.returnMessages??this.returnMessages,this.inputKey=e?.inputKey??this.inputKey,this.outputKey=e?.outputKey??this.outputKey}async saveContext(e,t){await this.chatHistory.addUserMessage((0,r.getInputValue)(e,this.inputKey)),await this.chatHistory.addAIChatMessage((0,r.getOutputValue)(t,this.outputKey))}async clear(){await this.chatHistory.clear()}}t.BaseChatMemory=i},17772:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoOpOutputParser=void 0;const r=a(58618);class n extends r.BaseOutputParser{constructor(){super(...arguments),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","default"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0})}static lc_name(){return"NoOpOutputParser"}parse(e){return Promise.resolve(e)}getFormatInstructions(){return""}}t.NoOpOutputParser=n},18764:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonKeyOutputFunctionsParser=t.JsonOutputFunctionsParser=t.OutputFunctionsParser=void 0;const r=a(47539),n=a(58618),i=a(58618);class s extends n.BaseLLMOutputParser{static lc_name(){return"OutputFunctionsParser"}constructor(e){super(),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_functions"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"argsOnly",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.argsOnly=e?.argsOnly??this.argsOnly}async parseResult(e){if("message"in e[0]){const t=e[0].message.additional_kwargs.function_call;if(!t)throw new Error(`No function_call in message ${JSON.stringify(e)}`);if(!t.arguments)throw new Error(`No arguments in function_call ${JSON.stringify(e)}`);return this.argsOnly?t.arguments:JSON.stringify(t)}throw new Error(`No message in generations ${JSON.stringify(e)}`)}}t.OutputFunctionsParser=s;class o extends n.BaseCumulativeTransformOutputParser{static lc_name(){return"JsonOutputFunctionsParser"}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_functions"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"argsOnly",{enumerable:!0,configurable:!0,writable:!0,value:!0}),this.argsOnly=e?.argsOnly??this.argsOnly,this.outputParser=new s(e)}_diff(e,t){if(t)return(0,r.compare)(e??{},t)}async parsePartialResult(e){const t=e[0];if(!t.message)return;const{message:a}=t,r=a.additional_kwargs.function_call;return r?this.argsOnly?(0,i.parsePartialJson)(r.arguments):{...r,arguments:(0,i.parsePartialJson)(r.arguments)}:void 0}async parseResult(e){const t=await this.outputParser.parseResult(e);if(!t)throw new Error(`No result from "OutputFunctionsParser" ${JSON.stringify(e)}`);return this.parse(t)}async parse(e){const t=JSON.parse(e);return this.argsOnly||(t.arguments=JSON.parse(t.arguments)),t}getFormatInstructions(){return""}}t.JsonOutputFunctionsParser=o;class l extends n.BaseLLMOutputParser{static lc_name(){return"JsonKeyOutputFunctionsParser"}get lc_aliases(){return{attrName:"key_name"}}constructor(e){super(e),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","openai_functions"]}),Object.defineProperty(this,"lc_serializable",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"outputParser",{enumerable:!0,configurable:!0,writable:!0,value:new o}),Object.defineProperty(this,"attrName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.attrName=e.attrName}async parseResult(e){return(await this.outputParser.parseResult(e))[this.attrName]}}t.JsonKeyOutputFunctionsParser=l},48347:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RouterOutputParser=void 0;const r=a(58618),n=a(15677);class i extends n.JsonMarkdownStructuredOutputParser{constructor(e,t){super(e),Object.defineProperty(this,"defaultDestination",{enumerable:!0,configurable:!0,writable:!0,value:"DEFAULT"}),this.defaultDestination=t?.defaultDestination??this.defaultDestination}async parse(e){try{const t=await super.parse(e);return t.destination?.toLowerCase()===this.defaultDestination.toLowerCase()&&(t.destination=null),t}catch(t){throw new r.OutputParserException(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}}t.RouterOutputParser=i},15677:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AsymmetricStructuredOutputParser=t.JsonMarkdownStructuredOutputParser=t.StructuredOutputParser=void 0;const r=a(21614),n=a(39340),i=a(58618);class s extends i.BaseOutputParser{static lc_name(){return"StructuredOutputParser"}toJSON(){return this.toJSONNotImplemented()}constructor(e){super(e),Object.defineProperty(this,"schema",{enumerable:!0,configurable:!0,writable:!0,value:e}),Object.defineProperty(this,"lc_namespace",{enumerable:!0,configurable:!0,writable:!0,value:["langchain","output_parsers","structured"]})}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(r.z.object(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,r.z.string().describe(t)])))))}getFormatInstructions(){return`You must format your output as a JSON value that adheres to a given "JSON Schema" instance.\n\n"JSON Schema" is a declarative language that allows you to annotate and validate JSON documents.\n\nFor example, the example "JSON Schema" instance {{"properties": {{"foo": {{"description": "a list of test words", "type": "array", "items": {{"type": "string"}}}}}}, "required": ["foo"]}}}}\nwould match an object with one required property, "foo". The "type" property specifies "foo" must be an "array", and the "description" property semantically describes it as "a list of test words". The items within "foo" must be strings.\nThus, the object {{"foo": ["bar", "baz"]}} is a well-formatted instance of this example "JSON Schema". The object {{"properties": {{"foo": ["bar", "baz"]}}}} is not well-formatted.\n\nYour output will be parsed and type-checked according to the provided schema instance, so make sure all fields in your output match the schema exactly and there are no trailing commas!\n\nHere is the JSON Schema instance your output must adhere to. Include the enclosing markdown codeblock:\n\`\`\`json\n${JSON.stringify((0,n.zodToJsonSchema)(this.schema))}\n\`\`\`\n`}async parse(e){try{const t=e.includes("```")?e.trim().split(/```(?:json)?/)[1]:e.trim();return await this.schema.parseAsync(JSON.parse(t))}catch(t){throw new i.OutputParserException(`Failed to parse. Text: "${e}". Error: ${t}`,e)}}}t.StructuredOutputParser=s;class o extends s{static lc_name(){return"JsonMarkdownStructuredOutputParser"}getFormatInstructions(e){const t=e?.interpolationDepth??1;if(t<1)throw new Error("f string interpolation depth must be at least 1");return`Return a markdown code snippet with a JSON object formatted to look like:\n\`\`\`json\n${this._schemaToInstruction((0,n.zodToJsonSchema)(this.schema)).replaceAll("{","{".repeat(t)).replaceAll("}","}".repeat(t))}\n\`\`\``}_schemaToInstruction(e,t=2){const a=e;if("type"in a){let e,r=!1;if(Array.isArray(a.type)){const t=a.type.findIndex((e=>"null"===e));-1!==t&&(r=!0,a.type.splice(t,1)),e=a.type.join(" | ")}else e=a.type;if("object"===a.type&&a.properties){const e=a.description?` // ${a.description}`:"";return`{\n${Object.entries(a.properties).map((([e,r])=>{const n=a.required?.includes(e)?"":" (optional)";return`${" ".repeat(t)}"${e}": ${this._schemaToInstruction(r,t+2)}${n}`})).join("\n")}\n${" ".repeat(t-2)}}${e}`}if("array"===a.type&&a.items){const e=a.description?` // ${a.description}`:"";return`array[\n${" ".repeat(t)}${this._schemaToInstruction(a.items,t+2)}\n${" ".repeat(t-2)}] ${e}`}const n=r?" (nullable)":"";return`${e}${a.description?` // ${a.description}`:""}${n}`}if("anyOf"in a)return a.anyOf.map((e=>this._schemaToInstruction(e,t))).join(`\n${" ".repeat(t-2)}`);throw new Error("unsupported schema type")}static fromZodSchema(e){return new this(e)}static fromNamesAndDescriptions(e){return new this(r.z.object(Object.fromEntries(Object.entries(e).map((([e,t])=>[e,r.z.string().describe(t)])))))}}t.JsonMarkdownStructuredOutputParser=o;class l extends i.BaseOutputParser{constructor({inputSchema:e}){super(...arguments),Object.defineProperty(this,"structuredInputParser",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.structuredInputParser=new o(e)}async parse(e){let t;try{t=await this.structuredInputParser.parse(e)}catch(t){throw new i.OutputParserException(`Failed to parse. Text: "${e}". Error: ${t}`,e)}return this.outputProcessor(t)}getFormatInstructions(){return this.structuredInputParser.getFormatInstructions()}}t.AsymmetricStructuredOutputParser=l},49349:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatMessageHistory=void 0;var r=a(40167);Object.defineProperty(t,"ChatMessageHistory",{enumerable:!0,get:function(){return r.InMemoryChatMessageHistory}})},68328:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(50138),t)},71798:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.OpenAPISpec=void 0;const s=i(a(57210));class o{constructor(e){Object.defineProperty(this,"document",{enumerable:!0,configurable:!0,writable:!0,value:e})}get baseUrl(){return this.document.servers?this.document.servers[0].url:void 0}getPathsStrict(){if(!this.document.paths)throw new Error("No paths found in spec");return this.document.paths}getParametersStrict(){if(!this.document.components?.parameters)throw new Error("No parameters found in spec");return this.document.components.parameters}getSchemasStrict(){if(!this.document.components?.schemas)throw new Error("No schemas found in spec.");return this.document.components.schemas}getRequestBodiesStrict(){if(!this.document.components?.requestBodies)throw new Error("No request body found in spec.");return this.document.components.requestBodies}getPathStrict(e){const t=this.getPathsStrict()[e];if(void 0===t)throw new Error(`No path found for "${e}".`);return t}getReferencedParameter(e){const t=e.$ref.split("/"),a=t[t.length-1];if(void 0===this.getParametersStrict()[a])throw new Error(`No parameter found for "${a}".`);return this.getParametersStrict()[a]}getRootReferencedParameter(e){let t=this.getReferencedParameter(e);for(;void 0!==t.$ref;)t=this.getReferencedParameter(t);return t}getReferencedSchema(e){const t=e.$ref.split("/"),a=t[t.length-1],r=this.getSchemasStrict()[a];if(void 0===r)throw new Error(`No schema found for "${a}".`);return r}getSchema(e){return void 0!==e.$ref?this.getReferencedSchema(e):e}getRootReferencedSchema(e){let t=this.getReferencedSchema(e);for(;void 0!==t.$ref;)t=this.getReferencedSchema(t);return t}getReferencedRequestBody(e){const t=e.$ref.split("/"),a=t[t.length-1],r=this.getRequestBodiesStrict();if(void 0===r[a])throw new Error(`No request body found for "${a}"`);return r[a]}getRootReferencedRequestBody(e){let t=this.getReferencedRequestBody(e);for(;void 0!==t.$ref;)t=this.getReferencedRequestBody(t);return t}getMethodsForPath(e){const t=this.getPathStrict(e);return["get","put","post","delete","options","head","patch","trace"].filter((e=>void 0!==t[e]))}getParametersForPath(e){const t=this.getPathStrict(e);return void 0===t.parameters?[]:t.parameters.map((e=>void 0!==e.$ref?this.getRootReferencedParameter(e):e))}getOperation(e,t){const a=this.getPathStrict(e);if(void 0===a[t])throw new Error(`No ${t} method found for "path".`);return a[t]}getParametersForOperation(e){return void 0===e.parameters?[]:e.parameters.map((e=>void 0!==e.$ref?this.getRootReferencedParameter(e):e))}getRequestBodyForOperation(e){const{requestBody:t}=e;return void 0!==t?.$ref?this.getRootReferencedRequestBody(t):t}static getCleanedOperationId(e,t,a){let{operationId:r}=e;if(void 0===r){const e=t.replaceAll(/[^a-zA-Z0-9]/,"_");r=`${e.startsWith("/")?e.slice(1):e}_${a}`}return r.replaceAll("-","_").replaceAll(".","_").replaceAll("/","_")}static alertUnsupportedSpec(e){const t="This may result in degraded performance. Convert your OpenAPI spec to 3.1.0 for better support.",a=e.swagger,r=e.openapi;if(void 0!==r&&"3.1.0"!==r)console.warn(`Attempting to load an OpenAPI ${r} spec. ${t}`);else{if(void 0===a)throw new Error(`Attempting to load an unsupported spec:\n\n${JSON.stringify(e,null,2)}.`);console.warn(`Attempting to load a Swagger ${a} spec. ${t}`)}}static fromObject(e){return o.alertUnsupportedSpec(e),new o(e)}static fromString(e){let t;try{t=JSON.parse(e)}catch(a){t=s.load(e)}return o.fromObject(t)}static async fromURL(e){const t=await fetch(e),a=await t.text();return o.fromString(a)}}t.OpenAPISpec=o},74322:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.difference=t.union=t.intersection=void 0,t.intersection=function(e,t){const a=new Set;for(const r of t)e.has(r)&&a.add(r);return a},t.union=function(e,t){const a=new Set(e);for(const e of t)a.add(e);return a},t.difference=function(e,t){const a=new Set(e);for(const e of t)a.delete(e);return a}},75485:(e,t,a)=>{e.exports=a(68328)},71188:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Client=t.DEFAULT_BATCH_SIZE_LIMIT_BYTES=t.Queue=void 0;const s=i(a(50881)),o=a(69737),l=a(18291),d=a(51400),p=a(33635),u=a(57831),c=a(37215);async function m(e){const t=await(0,d.getRuntimeEnvironment)(),a=(0,d.getLangChainEnvVarsMetadata)();return e.map((e=>{const r=e.extra??{},n=r.metadata;return e.extra={...r,runtime:{...t,...r?.runtime},metadata:{...a,...a.revision_id||e.revision_id?{revision_id:e.revision_id??a.revision_id}:{},...n}},e}))}const h=async(e,t)=>{const a=await e.text();if(!e.ok)throw new Error(`Failed to ${t}: ${e.status} ${e.statusText} ${a}`)};function f(e){if(void 0!==e)return e.trim().replace(/^"(.*)"$/,"$1").replace(/^'(.*)'$/,"$1")}const b=async e=>{if(429===e?.status){const t=1e3*parseInt(e.headers.get("retry-after")??"30",10);if(t>0)return await new Promise((e=>setTimeout(e,t))),!0}return!1};class g{constructor(){Object.defineProperty(this,"items",{enumerable:!0,configurable:!0,writable:!0,value:[]})}get size(){return this.items.length}push(e){return new Promise((t=>{this.items.push([e,t])}))}pop(e){if(e<1)throw new Error("Number of items to pop off may not be less than 1.");const t=[];for(;t.length<e&&this.items.length;){const e=this.items.shift();if(!e)break;t.push(e)}return[t.map((e=>e[0])),()=>t.forEach((e=>e[1]()))]}}t.Queue=g,t.DEFAULT_BATCH_SIZE_LIMIT_BYTES=20971520;class v{constructor(e={}){Object.defineProperty(this,"apiKey",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"apiUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"webUrl",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"caller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"batchIngestCaller",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"timeout_ms",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"_tenantId",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(this,"hideInputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"hideOutputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingSampleRate",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sampledPostUuids",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(this,"autoBatchTracing",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(this,"batchEndpointSupported",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchQueue",{enumerable:!0,configurable:!0,writable:!0,value:new g}),Object.defineProperty(this,"pendingAutoBatchedRunLimit",{enumerable:!0,configurable:!0,writable:!0,value:100}),Object.defineProperty(this,"autoBatchTimeout",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"autoBatchInitialDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:250}),Object.defineProperty(this,"autoBatchAggregationDelayMs",{enumerable:!0,configurable:!0,writable:!0,value:50}),Object.defineProperty(this,"serverInfo",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"fetchOptions",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=v.getDefaultClientConfig();this.tracingSampleRate=(()=>{const e=(0,d.getEnvironmentVariable)("LANGCHAIN_TRACING_SAMPLING_RATE");if(void 0===e)return;const t=parseFloat(e);if(t<0||t>1)throw new Error(`LANGCHAIN_TRACING_SAMPLING_RATE must be between 0 and 1 if set. Got: ${t}`);return t})(),this.apiUrl=f(e.apiUrl??t.apiUrl)??"",this.apiKey=f(e.apiKey??t.apiKey),this.webUrl=f(e.webUrl??t.webUrl),this.timeout_ms=e.timeout_ms??12e3,this.caller=new o.AsyncCaller(e.callerOptions??{}),this.batchIngestCaller=new o.AsyncCaller({...e.callerOptions??{},onFailedResponseHook:b}),this.hideInputs=e.hideInputs??e.anonymizer??t.hideInputs,this.hideOutputs=e.hideOutputs??e.anonymizer??t.hideOutputs,this.autoBatchTracing=e.autoBatchTracing??this.autoBatchTracing,this.pendingAutoBatchedRunLimit=e.pendingAutoBatchedRunLimit??this.pendingAutoBatchedRunLimit,this.fetchOptions=e.fetchOptions||{}}static getDefaultClientConfig(){const e=(0,d.getEnvironmentVariable)("LANGCHAIN_API_KEY");return{apiUrl:(0,d.getEnvironmentVariable)("LANGCHAIN_ENDPOINT")??"https://api.smith.langchain.com",apiKey:e,webUrl:void 0,hideInputs:"true"===(0,d.getEnvironmentVariable)("LANGCHAIN_HIDE_INPUTS"),hideOutputs:"true"===(0,d.getEnvironmentVariable)("LANGCHAIN_HIDE_OUTPUTS")}}getHostUrl(){return this.webUrl?this.webUrl:(e=>{const t=this.apiUrl.replace("http://","").replace("https://","").split("/")[0].split(":")[0];return"localhost"===t||"127.0.0.1"===t||"::1"===t})()?(this.webUrl="http://localhost:3000",this.webUrl):this.apiUrl.includes("/api")&&!this.apiUrl.split(".",1)[0].endsWith("api")?(this.webUrl=this.apiUrl.replace("/api",""),this.webUrl):this.apiUrl.split(".",1)[0].includes("dev")?(this.webUrl="https://dev.smith.langchain.com",this.webUrl):(this.webUrl="https://smith.langchain.com",this.webUrl)}get headers(){const e={"User-Agent":`langsmith-js/${p.__version__}`};return this.apiKey&&(e["x-api-key"]=`${this.apiKey}`),e}processInputs(e){return!1===this.hideInputs?e:!0===this.hideInputs?{}:"function"==typeof this.hideInputs?this.hideInputs(e):e}processOutputs(e){return!1===this.hideOutputs?e:!0===this.hideOutputs?{}:"function"==typeof this.hideOutputs?this.hideOutputs(e):e}prepareRunCreateOrUpdateInputs(e){const t={...e};return void 0!==t.inputs&&(t.inputs=this.processInputs(t.inputs)),void 0!==t.outputs&&(t.outputs=this.processOutputs(t.outputs)),t}async _getResponse(e,t){const a=t?.toString()??"",r=`${this.apiUrl}${e}?${a}`,n=await this.caller.call(fetch,r,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to fetch ${e}: ${n.status} ${n.statusText}`);return n}async _get(e,t){return(await this._getResponse(e,t)).json()}async*_getPaginated(e,t=new URLSearchParams){let a=Number(t.get("offset"))||0;const r=Number(t.get("limit"))||100;for(;;){t.set("offset",String(a)),t.set("limit",String(r));const n=`${this.apiUrl}${e}?${t}`,i=await this.caller.call(fetch,n,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!i.ok)throw new Error(`Failed to fetch ${e}: ${i.status} ${i.statusText}`);const s=await i.json();if(0===s.length)break;if(yield s,s.length<r)break;a+=s.length}}async*_getCursorPaginatedList(e,t=null,a="POST",r="runs"){const n=t?{...t}:{};for(;;){const t=await this.caller.call(fetch,`${this.apiUrl}${e}`,{method:a,headers:{...this.headers,"Content-Type":"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions,body:JSON.stringify(n)}),i=await t.json();if(!i)break;if(!i[r])break;yield i[r];const s=i.cursors;if(!s)break;if(!s.next)break;n.cursor=s.next}}_filterForSampling(e,t=!1){if(void 0===this.tracingSampleRate)return e;if(t){const t=[];for(const a of e)this.sampledPostUuids.has(a.id)&&(t.push(a),this.sampledPostUuids.delete(a.id));return t}{const t=[];for(const a of e)Math.random()<this.tracingSampleRate&&(t.push(a),this.sampledPostUuids.add(a.id));return t}}async drainAutoBatchQueue(){for(;this.autoBatchQueue.size>=0;){const[e,t]=this.autoBatchQueue.pop(this.pendingAutoBatchedRunLimit);if(!e.length)return void t();try{await this.batchIngestRuns({runCreates:e.filter((e=>"create"===e.action)).map((e=>e.item)),runUpdates:e.filter((e=>"update"===e.action)).map((e=>e.item))})}finally{t()}}}async processRunOperation(e,t){const a=this.autoBatchTimeout;clearTimeout(this.autoBatchTimeout),this.autoBatchTimeout=void 0;const r=this.autoBatchQueue.push(e);return(t||this.autoBatchQueue.size>this.pendingAutoBatchedRunLimit)&&await this.drainAutoBatchQueue(),this.autoBatchQueue.size>0&&(this.autoBatchTimeout=setTimeout((()=>{this.autoBatchTimeout=void 0,this.drainAutoBatchQueue().catch(console.error)}),a?this.autoBatchAggregationDelayMs:this.autoBatchInitialDelayMs)),r}async _getServerInfo(){const e=await fetch(`${this.apiUrl}/info`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!e.ok)throw await e.text(),new Error("Failed to retrieve server info.");return e.json()}async batchEndpointIsSupported(){try{this.serverInfo=await this._getServerInfo()}catch(e){return!1}return!0}async createRun(e){if(!this._filterForSampling([e]).length)return;const t={...this.headers,"Content-Type":"application/json"},a=e.project_name;delete e.project_name;const r=this.prepareRunCreateOrUpdateInputs({session_name:a,...e,start_time:e.start_time??Date.now()});if(this.autoBatchTracing&&void 0!==r.trace_id&&void 0!==r.dotted_order)return void this.processRunOperation({action:"create",item:r}).catch(console.error);const n=await m([r]),i=await this.caller.call(fetch,`${this.apiUrl}/runs`,{method:"POST",headers:t,body:JSON.stringify(n[0]),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(i,"create run")}async batchIngestRuns({runCreates:e,runUpdates:a}){if(void 0===e&&void 0===a)return;let r=e?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[],n=a?.map((e=>this.prepareRunCreateOrUpdateInputs(e)))??[];if(r.length>0&&n.length>0){const e=r.reduce(((e,t)=>t.id?(e[t.id]=t,e):e),{}),t=[];for(const a of n)void 0!==a.id&&e[a.id]?e[a.id]={...e[a.id],...a}:t.push(a);r=Object.values(e),n=t}const i={post:this._filterForSampling(r),patch:this._filterForSampling(n,!0)};if(!i.post.length&&!i.patch.length)return;if(r=await m(r),void 0===this.batchEndpointSupported&&(this.batchEndpointSupported=await this.batchEndpointIsSupported()),!this.batchEndpointSupported){this.autoBatchTracing=!1;for(const e of i.post)await this.createRun(e);for(const e of i.patch)void 0!==e.id&&await this.updateRun(e.id,e);return}const s=this.serverInfo?.batch_ingest_config?.size_limit_bytes??t.DEFAULT_BATCH_SIZE_LIMIT_BYTES,o={post:[],patch:[]};let l=0;for(const e of["post","patch"]){const t=e,a=i[t].reverse();let r=a.pop();for(;void 0!==r;){const e=JSON.stringify(r);l>0&&l+e.length>s&&(await this._postBatchIngestRuns(JSON.stringify(o)),l=0,o.post=[],o.patch=[]),l+=e.length,o[t].push(r),r=a.pop()}}(o.post.length>0||o.patch.length>0)&&await this._postBatchIngestRuns(JSON.stringify(o))}async _postBatchIngestRuns(e){const t={...this.headers,"Content-Type":"application/json",Accept:"application/json"},a=await this.batchIngestCaller.call(fetch,`${this.apiUrl}/runs/batch`,{method:"POST",headers:t,body:e,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(a,"batch create run")}async updateRun(e,t){(0,u.assertUuid)(e),t.inputs&&(t.inputs=this.processInputs(t.inputs)),t.outputs&&(t.outputs=this.processOutputs(t.outputs));const a={...t,id:e};if(!this._filterForSampling([a],!0).length)return;if(this.autoBatchTracing&&void 0!==a.trace_id&&void 0!==a.dotted_order)return void 0!==t.end_time&&void 0===a.parent_run_id?void await this.processRunOperation({action:"update",item:a},!0):void this.processRunOperation({action:"update",item:a}).catch(console.error);const r={...this.headers,"Content-Type":"application/json"},n=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}`,{method:"PATCH",headers:r,body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(n,"update run")}async readRun(e,{loadChildRuns:t}={loadChildRuns:!1}){(0,u.assertUuid)(e);let a=await this._get(`/runs/${e}`);return t&&a.child_run_ids&&(a=await this._loadChildRuns(a)),a}async getRunUrl({runId:e,run:t,projectOpts:a}){if(void 0!==t){let e;e=t.session_id?t.session_id:a?.projectName?(await this.readProject({projectName:a?.projectName})).id:a?.projectId?a?.projectId:(await this.readProject({projectName:(0,d.getEnvironmentVariable)("LANGCHAIN_PROJECT")||"default"})).id;const r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/projects/p/${e}/r/${t.id}?poll=true`}if(void 0!==e){const t=await this.readRun(e);if(!t.app_path)throw new Error(`Run ${e} has no app_path`);return`${this.getHostUrl()}${t.app_path}`}throw new Error("Must provide either runId or run")}async _loadChildRuns(e){const t=await async function(e){const t=[];for await(const a of e)t.push(a);return t}(this.listRuns({id:e.child_run_ids})),a={},r={};t.sort(((e,t)=>(e?.dotted_order??"").localeCompare(t?.dotted_order??"")));for(const e of t){if(null===e.parent_run_id||void 0===e.parent_run_id)throw new Error(`Child run ${e.id} has no parent`);e.parent_run_id in a||(a[e.parent_run_id]=[]),a[e.parent_run_id].push(e),r[e.id]=e}e.child_runs=a[e.id]||[];for(const t in a)t!==e.id&&(r[t].child_runs=a[t]);return e}async*listRuns(e){const{projectId:t,projectName:a,parentRunId:r,traceId:n,referenceExampleId:i,startTime:s,executionOrder:o,isRoot:l,runType:d,error:p,id:u,query:c,filter:m,traceFilter:h,treeFilter:f,limit:b,select:g}=e;let v=[];if(t&&(v=Array.isArray(t)?t:[t]),a){const e=Array.isArray(a)?a:[a],t=await Promise.all(e.map((e=>this.readProject({projectName:e}).then((e=>e.id)))));v.push(...t)}const y={session:v.length?v:null,run_type:d,reference_example:i,query:c,filter:m,trace_filter:h,tree_filter:f,execution_order:o,parent_run:r,start_time:s?s.toISOString():null,error:p,id:u,limit:b,trace:n,select:g||["app_path","child_run_ids","completion_cost","completion_tokens","dotted_order","end_time","error","events","extra","feedback_stats","first_token_time","id","inputs","name","outputs","parent_run_id","parent_run_ids","prompt_cost","prompt_tokens","reference_example_id","run_type","session_id","start_time","status","tags","total_cost","total_tokens","trace_id"],is_root:l};let _=0;for await(const e of this._getCursorPaginatedList("/runs/query",y))if(b){if(_>=b)break;if(e.length+_>b){const t=e.slice(0,b-_);yield*t;break}_+=e.length,yield*e}else yield*e}async shareRun(e,{shareId:t}={}){const a={run_id:e,share_token:t||s.v4()};(0,u.assertUuid)(e);const r=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await r.json();if(null===n||!("share_token"in n))throw new Error("Invalid response from server");return`${this.getHostUrl()}/public/${n.share_token}/r`}async unshareRun(e){(0,u.assertUuid)(e);const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(t,"unshare run")}async readRunSharedLink(e){(0,u.assertUuid)(e);const t=await this.caller.call(fetch,`${this.apiUrl}/runs/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),a=await t.json();if(null!==a&&"share_token"in a)return`${this.getHostUrl()}/public/${a.share_token}/r`}async listSharedRuns(e,{runIds:t}={}){const a=new URLSearchParams({share_token:e});if(void 0!==t)for(const e of t)a.append("id",e);(0,u.assertUuid)(e);const r=await this.caller.call(fetch,`${this.apiUrl}/public/${e}/runs${a}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await r.json()}async readDatasetSharedSchema(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id),(0,u.assertUuid)(e);const a=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),r=await a.json();return r.url=`${this.getHostUrl()}/public/${r.share_token}/d`,r}async shareDataset(e,t){if(!e&&!t)throw new Error("Either datasetId or datasetName must be given");e||(e=(await this.readDataset({datasetName:t})).id);const a={dataset_id:e};(0,u.assertUuid)(e);const r=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"PUT",headers:this.headers,body:JSON.stringify(a),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),n=await r.json();return n.url=`${this.getHostUrl()}/public/${n.share_token}/d`,n}async unshareDataset(e){(0,u.assertUuid)(e);const t=await this.caller.call(fetch,`${this.apiUrl}/datasets/${e}/share`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(t,"unshare dataset")}async readSharedDataset(e){(0,u.assertUuid)(e);const t=await this.caller.call(fetch,`${this.apiUrl}/public/${e}/datasets`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await t.json()}async createProject({projectName:e,description:t=null,metadata:a=null,upsert:r=!1,projectExtra:n=null,referenceDatasetId:i=null}){const s=r?"?upsert=true":"",o=`${this.apiUrl}/sessions${s}`,l=n||{};a&&(l.metadata=a);const d={name:e,extra:l,description:t};null!==i&&(d.reference_dataset_id=i);const p=await this.caller.call(fetch,o,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),u=await p.json();if(!p.ok)throw new Error(`Failed to create session ${e}: ${p.status} ${p.statusText}`);return u}async updateProject(e,{name:t=null,description:a=null,metadata:r=null,projectExtra:n=null,endTime:i=null}){const s=`${this.apiUrl}/sessions/${e}`;let o=n;r&&(o={...o||{},metadata:r});const l={name:t,extra:o,description:a,end_time:i?new Date(i).toISOString():null},d=await this.caller.call(fetch,s,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(l),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions}),p=await d.json();if(!d.ok)throw new Error(`Failed to update project ${e}: ${d.status} ${d.statusText}`);return p}async hasProject({projectId:e,projectName:t}){let a="/sessions";const r=new URLSearchParams;if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==e)(0,u.assertUuid)(e),a+=`/${e}`;else{if(void 0===t)throw new Error("Must provide projectName or projectId");r.append("name",t)}const n=await this.caller.call(fetch,`${this.apiUrl}${a}?${r}`,{method:"GET",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});try{const e=await n.json();return!!n.ok&&(!Array.isArray(e)||e.length>0)}catch(e){return!1}}async readProject({projectId:e,projectName:t,includeStats:a}){let r="/sessions";const n=new URLSearchParams;if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");if(void 0!==e)(0,u.assertUuid)(e),r+=`/${e}`;else{if(void 0===t)throw new Error("Must provide projectName or projectId");n.append("name",t)}void 0!==a&&n.append("include_stats",a.toString());const i=await this._get(r,n);let s;if(Array.isArray(i)){if(0===i.length)throw new Error(`Project[id=${e}, name=${t}] not found`);s=i[0]}else s=i;return s}async getProjectUrl({projectId:e,projectName:t}){if(void 0===e&&void 0===t)throw new Error("Must provide either projectName or projectId");const a=await this.readProject({projectId:e,projectName:t}),r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/projects/p/${a.id}`}async getDatasetUrl({datasetId:e,datasetName:t}){if(void 0===e&&void 0===t)throw new Error("Must provide either datasetName or datasetId");const a=await this.readDataset({datasetId:e,datasetName:t}),r=await this._getTenantId();return`${this.getHostUrl()}/o/${r}/datasets/${a.id}`}async _getTenantId(){if(null!==this._tenantId)return this._tenantId;const e=new URLSearchParams({limit:"1"});for await(const t of this._getPaginated("/sessions",e))return this._tenantId=t[0].tenant_id,t[0].tenant_id;throw new Error("No projects found to resolve tenant.")}async*listProjects({projectIds:e,name:t,nameContains:a,referenceDatasetId:r,referenceDatasetName:n,referenceFree:i}={}){const s=new URLSearchParams;if(void 0!==e)for(const t of e)s.append("id",t);if(void 0!==t&&s.append("name",t),void 0!==a&&s.append("name_contains",a),void 0!==r)s.append("reference_dataset",r);else if(void 0!==n){const e=await this.readDataset({datasetName:n});s.append("reference_dataset",e.id)}void 0!==i&&s.append("reference_free",i.toString());for await(const e of this._getPaginated("/sessions",s))yield*e}async deleteProject({projectId:e,projectName:t}){let a;if(void 0===e&&void 0===t)throw new Error("Must provide projectName or projectId");if(void 0!==e&&void 0!==t)throw new Error("Must provide either projectName or projectId, not both");a=void 0===e?(await this.readProject({projectName:t})).id:e,(0,u.assertUuid)(a);const r=await this.caller.call(fetch,`${this.apiUrl}/sessions/${a}`,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(r,`delete session ${a} (${t})`)}async uploadCsv({csvFile:e,fileName:t,inputKeys:a,outputKeys:r,description:n,dataType:i,name:s}){const o=`${this.apiUrl}/datasets/upload`,l=new FormData;l.append("file",e,t),a.forEach((e=>{l.append("input_keys",e)})),r.forEach((e=>{l.append("output_keys",e)})),n&&l.append("description",n),i&&l.append("data_type",i),s&&l.append("name",s);const d=await this.caller.call(fetch,o,{method:"POST",headers:this.headers,body:l,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!d.ok){const e=await d.json();if(e.detail&&e.detail.includes("already exists"))throw new Error(`Dataset ${t} already exists`);throw new Error(`Failed to upload CSV: ${d.status} ${d.statusText}`)}return await d.json()}async createDataset(e,{description:t,dataType:a}={}){const r={name:e,description:t};a&&(r.data_type=a);const n=await this.caller.call(fetch,`${this.apiUrl}/datasets`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok){const t=await n.json();if(t.detail&&t.detail.includes("already exists"))throw new Error(`Dataset ${e} already exists`);throw new Error(`Failed to create dataset ${n.status} ${n.statusText}`)}return await n.json()}async readDataset({datasetId:e,datasetName:t}){let a="/datasets";const r=new URLSearchParams({limit:"1"});if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)(0,u.assertUuid)(e),a+=`/${e}`;else{if(void 0===t)throw new Error("Must provide datasetName or datasetId");r.append("name",t)}const n=await this._get(a,r);let i;if(Array.isArray(n)){if(0===n.length)throw new Error(`Dataset[id=${e}, name=${t}] not found`);i=n[0]}else i=n;return i}async hasDataset({datasetId:e,datasetName:t}){try{return await this.readDataset({datasetId:e,datasetName:t}),!0}catch(e){if(e instanceof Error&&e.message.toLocaleLowerCase().includes("not found"))return!1;throw e}}async diffDatasetVersions({datasetId:e,datasetName:t,fromVersion:a,toVersion:r}){let n=e;if(void 0===n&&void 0===t)throw new Error("Must provide either datasetName or datasetId");if(void 0!==n&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");void 0===n&&(n=(await this.readDataset({datasetName:t})).id);const i=new URLSearchParams({from_version:"string"==typeof a?a:a.toISOString(),to_version:"string"==typeof r?r:r.toISOString()});return await this._get(`/datasets/${n}/versions/diff`,i)}async readDatasetOpenaiFinetuning({datasetId:e,datasetName:t}){if(void 0!==e);else{if(void 0===t)throw new Error("Must provide datasetName or datasetId");e=(await this.readDataset({datasetName:t})).id}const a=await this._getResponse(`/datasets/${e}/openai_ft`);return(await a.text()).trim().split("\n").map((e=>JSON.parse(e)))}async*listDatasets({limit:e=100,offset:t=0,datasetIds:a,datasetName:r,datasetNameContains:n}={}){const i=new URLSearchParams({limit:e.toString(),offset:t.toString()});if(void 0!==a)for(const e of a)i.append("id",e);void 0!==r&&i.append("name",r),void 0!==n&&i.append("name_contains",n);for await(const e of this._getPaginated("/datasets",i))yield*e}async updateDataset(e){const{datasetId:t,datasetName:a,...r}=e;if(!t&&!a)throw new Error("Must provide either datasetName or datasetId");const n=t??(await this.readDataset({datasetName:a})).id;(0,u.assertUuid)(n);const i=await this.caller.call(fetch,`${this.apiUrl}/datasets/${n}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(r),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!i.ok)throw new Error(`Failed to update dataset ${n}: ${i.status} ${i.statusText}`);return await i.json()}async deleteDataset({datasetId:e,datasetName:t}){let a="/datasets",r=e;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==t&&(r=(await this.readDataset({datasetName:t})).id),void 0===r)throw new Error("Must provide datasetName or datasetId");(0,u.assertUuid)(r),a+=`/${r}`;const n=await this.caller.call(fetch,this.apiUrl+a,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!n.ok)throw new Error(`Failed to delete ${a}: ${n.status} ${n.statusText}`);await n.json()}async createExample(e,t,{datasetId:a,datasetName:r,createdAt:n,exampleId:i,metadata:s,split:o}){let l=a;if(void 0===l&&void 0===r)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==r)throw new Error("Must provide either datasetName or datasetId, not both");void 0===l&&(l=(await this.readDataset({datasetName:r})).id);const d=n||new Date,p={dataset_id:l,inputs:e,outputs:t,created_at:d?.toISOString(),id:i,metadata:s,split:o},u=await this.caller.call(fetch,`${this.apiUrl}/examples`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(p),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!u.ok)throw new Error(`Failed to create example: ${u.status} ${u.statusText}`);return await u.json()}async createExamples(e){const{inputs:t,outputs:a,metadata:r,sourceRunIds:n,exampleIds:i,datasetId:s,datasetName:o}=e;let l=s;if(void 0===l&&void 0===o)throw new Error("Must provide either datasetName or datasetId");if(void 0!==l&&void 0!==o)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0===l){const e=await this.readDataset({datasetName:o});l=e.id}const d=t.map(((t,s)=>({dataset_id:l,inputs:t,outputs:a?a[s]:void 0,metadata:r?r[s]:void 0,split:e.splits?e.splits[s]:void 0,id:i?i[s]:void 0,source_run_id:n?n[s]:void 0}))),p=await this.caller.call(fetch,`${this.apiUrl}/examples/bulk`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(d),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!p.ok)throw new Error(`Failed to create examples: ${p.status} ${p.statusText}`);return await p.json()}async createLLMExample(e,t,a){return this.createExample({input:e},{output:t},a)}async createChatExample(e,t,a){const r=e.map((e=>(0,l.isLangChainMessage)(e)?(0,l.convertLangChainMessageToExample)(e):e)),n=(0,l.isLangChainMessage)(t)?(0,l.convertLangChainMessageToExample)(t):t;return this.createExample({input:r},{output:n},a)}async readExample(e){(0,u.assertUuid)(e);const t=`/examples/${e}`;return await this._get(t)}async*listExamples({datasetId:e,datasetName:t,exampleIds:a,asOf:r,splits:n,inlineS3Urls:i,metadata:s,limit:o,offset:l,filter:d}={}){let p;if(void 0!==e&&void 0!==t)throw new Error("Must provide either datasetName or datasetId, not both");if(void 0!==e)p=e;else{if(void 0===t)throw new Error("Must provide a datasetName or datasetId");p=(await this.readDataset({datasetName:t})).id}const u=new URLSearchParams({dataset:p}),c=r?"string"==typeof r?r:r?.toISOString():void 0;c&&u.append("as_of",c);const m=i??!0;if(u.append("inline_s3_urls",m.toString()),void 0!==a)for(const e of a)u.append("id",e);if(void 0!==n)for(const e of n)u.append("splits",e);if(void 0!==s){const e=JSON.stringify(s);u.append("metadata",e)}void 0!==o&&u.append("limit",o.toString()),void 0!==l&&u.append("offset",l.toString()),void 0!==d&&u.append("filter",d);let h=0;for await(const e of this._getPaginated("/examples",u)){for(const t of e)yield t,h++;if(void 0!==o&&h>=o)break}}async deleteExample(e){(0,u.assertUuid)(e);const t=`/examples/${e}`,a=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to delete ${t}: ${a.status} ${a.statusText}`);await a.json()}async updateExample(e,t){(0,u.assertUuid)(e);const a=await this.caller.call(fetch,`${this.apiUrl}/examples/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(t),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to update example ${e}: ${a.status} ${a.statusText}`);return await a.json()}async evaluateRun(e,t,{sourceInfo:a,loadChildRuns:r,referenceExample:n}={loadChildRuns:!1}){let i;if((0,c.warnOnce)("This method is deprecated and will be removed in future LangSmith versions, use `evaluate` from `langsmith/evaluation` instead."),"string"==typeof e)i=await this.readRun(e,{loadChildRuns:r});else{if("object"!=typeof e||!("id"in e))throw new Error("Invalid run type: "+typeof e);i=e}null!==i.reference_example_id&&void 0!==i.reference_example_id&&(n=await this.readExample(i.reference_example_id));const s=await t.evaluateRun(i,n),[o,l]=await this._logEvaluationFeedback(s,i,a);return l[0]}async createFeedback(e,t,{score:a,value:r,correction:n,comment:i,sourceInfo:o,feedbackSourceType:l="api",sourceRunId:d,feedbackId:p,feedbackConfig:c,projectId:m,comparativeExperimentId:f}){if(!e&&!m)throw new Error("One of runId or projectId must be provided");if(e&&m)throw new Error("Only one of runId or projectId can be provided");const b={type:l??"api",metadata:o??{}};void 0===d||void 0===b?.metadata||b.metadata.__run||(b.metadata.__run={run_id:d}),void 0!==b?.metadata&&void 0!==b.metadata.__run?.run_id&&(0,u.assertUuid)(b.metadata.__run.run_id);const g={id:p??s.v4(),run_id:e,key:t,score:a,value:r,correction:n,comment:i,feedback_source:b,comparative_experiment_id:f,feedbackConfig:c,session_id:m},v=`${this.apiUrl}/feedback`,y=await this.caller.call(fetch,v,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(g),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await h(y,"create feedback"),g}async updateFeedback(e,{score:t,value:a,correction:r,comment:n}){const i={};null!=t&&(i.score=t),null!=a&&(i.value=a),null!=r&&(i.correction=r),null!=n&&(i.comment=n),(0,u.assertUuid)(e);const s=await this.caller.call(fetch,`${this.apiUrl}/feedback/${e}`,{method:"PATCH",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(i),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});await h(s,"update feedback")}async readFeedback(e){(0,u.assertUuid)(e);const t=`/feedback/${e}`;return await this._get(t)}async deleteFeedback(e){(0,u.assertUuid)(e);const t=`/feedback/${e}`,a=await this.caller.call(fetch,this.apiUrl+t,{method:"DELETE",headers:this.headers,signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});if(!a.ok)throw new Error(`Failed to delete ${t}: ${a.status} ${a.statusText}`);await a.json()}async*listFeedback({runIds:e,feedbackKeys:t,feedbackSourceTypes:a}={}){const r=new URLSearchParams;if(e&&r.append("run",e.join(",")),t)for(const e of t)r.append("key",e);if(a)for(const e of a)r.append("source",e);for await(const e of this._getPaginated("/feedback",r))yield*e}async createPresignedFeedbackToken(e,t,{expiration:a,feedbackConfig:r}={}){const n={run_id:e,feedback_key:t,feedback_config:r};a?"string"==typeof a?n.expires_at=a:(a?.hours||a?.minutes||a?.days)&&(n.expires_in=a):n.expires_in={hours:3};const i=await this.caller.call(fetch,`${this.apiUrl}/feedback/tokens`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(n),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await i.json()}async createComparativeExperiment({name:e,experimentIds:t,referenceDatasetId:a,createdAt:r,description:n,metadata:i,id:s}){if(0===t.length)throw new Error("At least one experiment is required");if(a||(a=(await this.readProject({projectId:t[0]})).reference_dataset_id),null==!a)throw new Error("A reference dataset is required");const o={id:s,name:e,experiment_ids:t,reference_dataset_id:a,description:n,created_at:(r??new Date)?.toISOString(),extra:{}};i&&(o.extra.metadata=i);const l=await this.caller.call(fetch,`${this.apiUrl}/datasets/comparative`,{method:"POST",headers:{...this.headers,"Content-Type":"application/json"},body:JSON.stringify(o),signal:AbortSignal.timeout(this.timeout_ms),...this.fetchOptions});return await l.json()}async*listPresignedFeedbackTokens(e){(0,u.assertUuid)(e);const t=new URLSearchParams({run_id:e});for await(const e of this._getPaginated("/feedback/tokens",t))yield*e}_selectEvalResults(e){let t;return t="results"in e?e.results:[e],t}async _logEvaluationFeedback(e,t,a){const r=this._selectEvalResults(e),n=[];for(const e of r){let r=a||{};e.evaluatorInfo&&(r={...e.evaluatorInfo,...r});let i=null;e.targetRunId?i=e.targetRunId:t&&(i=t.id),n.push(await this.createFeedback(i,e.key,{score:e.score,value:e.value,comment:e.comment,correction:e.correction,sourceInfo:r,sourceRunId:e.sourceRunId,feedbackConfig:e.feedbackConfig,feedbackSourceType:"model"}))}return[r,n]}async logEvaluationFeedback(e,t,a){const[r]=await this._logEvaluationFeedback(e,t,a);return r}}t.Client=v},51698:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTracingEnabled=void 0;const r=a(51400);t.isTracingEnabled=e=>void 0!==e?e:!!["LANGSMITH_TRACING_V2","LANGCHAIN_TRACING_V2","LANGSMITH_TRACING","LANGCHAIN_TRACING"].find((e=>"true"===(0,r.getEnvironmentVariable)(e)))},33635:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.__version__=t.RunTree=t.Client=void 0;var r=a(71188);Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return r.Client}});var n=a(1626);Object.defineProperty(t,"RunTree",{enumerable:!0,get:function(){return n.RunTree}}),t.__version__="0.1.36"},1626:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.isRunnableConfigLike=t.isRunTree=t.RunTree=t.convertToDottedOrderFormat=void 0;const s=i(a(50881)),o=a(51400),l=a(71188),d=a(51698),p=a(37215);function u(e,t,a=1){const r=a.toFixed(0).slice(0,3).padStart(3,"0");return`${new Date(e).toISOString().slice(0,-1)}${r}Z`.replace(/[-:.]/g,"")+t}t.convertToDottedOrderFormat=u;class c{constructor(e,t){Object.defineProperty(this,"metadata",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.metadata=e,this.tags=t}static fromHeader(e){const t=e.split(",");let a={},r=[];for(const e of t){const[t,n]=e.split("="),i=decodeURIComponent(n);"langsmith-metadata"===t?a=JSON.parse(i):"langsmith-tags"===t&&(r=i.split(","))}return new c(a,r)}toHeader(){const e=[];return this.metadata&&Object.keys(this.metadata).length>0&&e.push(`langsmith-metadata=${encodeURIComponent(JSON.stringify(this.metadata))}`),this.tags&&this.tags.length>0&&e.push(`langsmith-tags=${encodeURIComponent(this.tags.join(","))}`),e.join(",")}}class m{constructor(e){Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"run_type",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"project_name",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"parent_run",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_runs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"start_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"end_time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"extra",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tags",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"error",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"serialized",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"inputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"outputs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reference_example_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"client",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"trace_id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"dotted_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"tracingEnabled",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"child_execution_order",{enumerable:!0,configurable:!0,writable:!0,value:void 0});const t=m.getDefaultConfig(),{metadata:a,...r}=e,n=r.client??new l.Client,i={...a,...r?.extra?.metadata};if(r.extra={...r.extra,metadata:i},Object.assign(this,{...t,...r,client:n}),this.trace_id||(this.parent_run?this.trace_id=this.parent_run.trace_id??this.id:this.trace_id=this.id),this.execution_order??=1,this.child_execution_order??=1,!this.dotted_order){const e=u(this.start_time,this.id,this.execution_order);this.parent_run?this.dotted_order=this.parent_run.dotted_order+"."+e:this.dotted_order=e}}static getDefaultConfig(){return{id:s.v4(),run_type:"chain",project_name:(0,o.getEnvironmentVariable)("LANGCHAIN_PROJECT")??(0,o.getEnvironmentVariable)("LANGCHAIN_SESSION")??"default",child_runs:[],api_url:(0,o.getEnvironmentVariable)("LANGCHAIN_ENDPOINT")??"http://localhost:1984",api_key:(0,o.getEnvironmentVariable)("LANGCHAIN_API_KEY"),caller_options:{},start_time:Date.now(),serialized:{},inputs:{},extra:{}}}createChild(e){const t=this.child_execution_order+1,a=new m({...e,parent_run:this,project_name:this.project_name,client:this.client,tracingEnabled:this.tracingEnabled,execution_order:t,child_execution_order:t}),r=new Set;let n=this;for(;null!=n&&!r.has(n.id);)r.add(n.id),n.child_execution_order=Math.max(n.child_execution_order,t),n=n.parent_run;return this.child_runs.push(a),a}async end(e,t,a=Date.now()){this.outputs=this.outputs??e,this.error=this.error??t,this.end_time=this.end_time??a}_convertToCreate(e,t,a=!0){const r=e.extra??{};if(r.runtime||(r.runtime={}),t)for(const[e,a]of Object.entries(t))r.runtime[e]||(r.runtime[e]=a);let n,i;return a?(i=e.parent_run?.id,n=[]):(n=e.child_runs.map((e=>this._convertToCreate(e,t,a))),i=void 0),{id:e.id,name:e.name,start_time:e.start_time,end_time:e.end_time,run_type:e.run_type,reference_example_id:e.reference_example_id,extra:r,serialized:e.serialized,error:e.error,inputs:e.inputs,outputs:e.outputs,session_name:e.project_name,child_runs:n,parent_run_id:i,trace_id:e.trace_id,dotted_order:e.dotted_order,tags:e.tags}}async postRun(e=!0){const t=await(0,o.getRuntimeEnvironment)(),a=await this._convertToCreate(this,t,!0);if(await this.client.createRun(a),!e){(0,p.warnOnce)("Posting with excludeChildRuns=false is deprecated and will be removed in a future version.");for(const e of this.child_runs)await e.postRun(!1)}}async patchRun(){const e={end_time:this.end_time,error:this.error,inputs:this.inputs,outputs:this.outputs,parent_run_id:this.parent_run?.id,reference_example_id:this.reference_example_id,extra:this.extra,events:this.events,dotted_order:this.dotted_order,trace_id:this.trace_id,tags:this.tags};await this.client.updateRun(this.id,e)}toJSON(){return this._convertToCreate(this,void 0,!1)}static fromRunnableConfig(e,t){const a=e?.callbacks;let r,n,i,s=(0,d.isTracingEnabled)();if(a){const e=a?.getParentRunId?.()??"",t=a?.handlers?.find((e=>"langchain_tracer"==e?.name));r=t?.getRun?.(e),n=t?.projectName,i=t?.client,s=s||!!t}return r?new m({name:r.name,id:r.id,client:i,tracingEnabled:s,project_name:n,tags:[...new Set((r?.tags??[]).concat(e?.tags??[]))],extra:{metadata:{...r?.extra?.metadata,...e?.metadata}}}).createChild(t):new m({...t,client:i,tracingEnabled:s,project_name:n})}static fromDottedOrder(e){return this.fromHeaders({"langsmith-trace":e})}static fromHeaders(e,t){const a="get"in e&&"function"==typeof e.get?{"langsmith-trace":e.get("langsmith-trace"),baggage:e.get("baggage")}:e,r=a["langsmith-trace"];if(!r||"string"!=typeof r)return;const n=r.trim(),i=n.split(".").map((e=>{const[t,a]=e.split("Z");return{strTime:t,time:Date.parse(t+"Z"),uuid:a}})),s=i[0].uuid,o={...t,name:t?.name??"parent",run_type:t?.run_type??"chain",start_time:t?.start_time??Date.now(),id:i.at(-1)?.uuid,trace_id:s,dotted_order:n};if(a.baggage&&"string"==typeof a.baggage){const e=c.fromHeader(a.baggage);o.metadata=e.metadata,o.tags=e.tags}return new m(o)}toHeaders(e){const t={"langsmith-trace":this.dotted_order,baggage:new c(this.extra?.metadata,this.tags).toHeader()};if(e)for(const[a,r]of Object.entries(t))e.set(a,r);return t}}function h(e){return Array.isArray(e)&&e.some((e=>"string"==typeof e.name&&"langchain_tracer"===e.name))}t.RunTree=m,t.isRunTree=function(e){return void 0!==e&&"function"==typeof e.createChild&&"function"==typeof e.postRun},t.isRunnableConfigLike=function(e){return void 0!==e&&"object"==typeof e.callbacks&&(h(e.callbacks?.handlers)||h(e.callbacks))}},68457:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTraceableFunction=t.ROOT=t.withRunTree=t.getCurrentRunTree=t.AsyncLocalStorageProviderSingleton=void 0;class a{getStore(){}run(e,t){return t()}}t.AsyncLocalStorageProviderSingleton=new class{constructor(){Object.defineProperty(this,"asyncLocalStorage",{enumerable:!0,configurable:!0,writable:!0,value:new a}),Object.defineProperty(this,"hasBeenInitialized",{enumerable:!0,configurable:!0,writable:!0,value:!1})}getInstance(){return this.asyncLocalStorage}initializeGlobalInstance(e){this.hasBeenInitialized||(this.hasBeenInitialized=!0,this.asyncLocalStorage=e)}},t.getCurrentRunTree=()=>{const e=t.AsyncLocalStorageProviderSingleton.getInstance().getStore();if(void 0===e)throw new Error(["Could not get the current run tree.","","Please make sure you are calling this method within a traceable function or the tracing is enabled."].join("\n"));return e},t.withRunTree=function(e,a){const r=t.AsyncLocalStorageProviderSingleton.getInstance();return new Promise(((t,n)=>{r.run(e,(()=>{Promise.resolve(a()).then(t).catch(n)}))}))},t.ROOT=Symbol.for("langsmith:traceable:root"),t.isTraceableFunction=function(e){return"function"==typeof e&&"langsmith:traceable"in e}},57831:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.assertUuid=void 0;const s=i(a(50881));t.assertUuid=function(e){if(!s.validate(e))throw new Error(`Invalid UUID: ${e}`)}},69737:function(e,t,a){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AsyncCaller=void 0;const n=r(a(24116)),i=r(a(73290)),s=[400,401,403,404,405,406,407,408],o=[409];t.AsyncCaller=class{constructor(e){Object.defineProperty(this,"maxConcurrency",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"maxRetries",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"queue",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"onFailedResponseHook",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxConcurrency=e.maxConcurrency??1/0,this.maxRetries=e.maxRetries??6,"default"in i.default?this.queue=new i.default.default({concurrency:this.maxConcurrency}):this.queue=new i.default({concurrency:this.maxConcurrency}),this.onFailedResponseHook=e?.onFailedResponseHook}call(e,...t){const a=this.onFailedResponseHook;return this.queue.add((()=>(0,n.default)((()=>e(...t).catch((e=>{throw e instanceof Error?e:new Error(e)}))),{async onFailedAttempt(e){if(e.message.startsWith("Cancel")||e.message.startsWith("TimeoutError")||e.message.startsWith("AbortError"))throw e;if("ECONNABORTED"===e?.code)throw e;const t=e?.response,r=t?.status;if(r){if(s.includes(+r))throw e;if(o.includes(+r))return;a&&await a(t)}},retries:this.maxRetries,randomize:!0})),{throwOnTimeout:!0})}callWithOptions(e,t,...a){return e.signal?Promise.race([this.call(t,...a),new Promise(((t,a)=>{e.signal?.addEventListener("abort",(()=>{a(new Error("AbortError"))}))}))]):this.call(t,...a)}fetch(...e){return this.call((()=>fetch(...e).then((e=>e.ok?e:Promise.reject(e)))))}}},51400:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShas=t.setEnvironmentVariable=t.getEnvironmentVariable=t.getEnvironmentVariables=t.getLangChainEnvVarsMetadata=t.getLangChainEnvVars=t.getRuntimeEnvironment=t.getEnv=t.isNode=t.isDeno=t.isJsDom=t.isWebWorker=t.isBrowser=void 0;const r=a(33635);let n,i,s;function o(){try{return"undefined"!=typeof process&&process.env?Object.entries(process.env).reduce(((e,[t,a])=>(e[t]=String(a),e)),{}):void 0}catch(e){return}}function l(e){try{return"undefined"!=typeof process?process.env?.[e]:void 0}catch(e){return}}function d(){if(void 0!==s)return s;const e=["VERCEL_GIT_COMMIT_SHA","NEXT_PUBLIC_VERCEL_GIT_COMMIT_SHA","COMMIT_REF","RENDER_GIT_COMMIT","CI_COMMIT_SHA","CIRCLE_SHA1","CF_PAGES_COMMIT_SHA","REACT_APP_GIT_SHA","SOURCE_VERSION","GITHUB_SHA","TRAVIS_COMMIT","GIT_COMMIT","BUILD_VCS_NUMBER","bamboo_planRepository_revision","Build.SourceVersion","BITBUCKET_COMMIT","DRONE_COMMIT_SHA","SEMAPHORE_GIT_SHA","BUILDKITE_COMMIT"],t={};for(const a of e){const e=l(a);void 0!==e&&(t[a]=e)}return s=t,t}t.isBrowser=()=>"undefined"!=typeof window&&void 0!==window.document,t.isWebWorker=()=>"object"==typeof globalThis&&globalThis.constructor&&"DedicatedWorkerGlobalScope"===globalThis.constructor.name,t.isJsDom=()=>"undefined"!=typeof window&&"nodejs"===window.name||"undefined"!=typeof navigator&&(navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")),t.isDeno=()=>"undefined"!=typeof Deno,t.isNode=()=>"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node&&!(0,t.isDeno)(),t.getEnv=()=>n||(n=(0,t.isBrowser)()?"browser":(0,t.isNode)()?"node":(0,t.isWebWorker)()?"webworker":(0,t.isJsDom)()?"jsdom":(0,t.isDeno)()?"deno":"other",n),t.getRuntimeEnvironment=async function(){if(void 0===i){const e=(0,t.getEnv)(),a=d();i={library:"langsmith",runtime:e,sdk:"langsmith-js",sdk_version:r.__version__,...a}}return i},t.getLangChainEnvVars=function(){const e=o()||{},t={};for(const[a,r]of Object.entries(e))a.startsWith("LANGCHAIN_")&&"string"==typeof r&&(t[a]=r);for(const e in t)if((e.toLowerCase().includes("key")||e.toLowerCase().includes("secret")||e.toLowerCase().includes("token"))&&"string"==typeof t[e]){const a=t[e];t[e]=a.slice(0,2)+"*".repeat(a.length-4)+a.slice(-2)}return t},t.getLangChainEnvVarsMetadata=function(){const e=o()||{},t={},a=["LANGCHAIN_API_KEY","LANGCHAIN_ENDPOINT","LANGCHAIN_TRACING_V2","LANGCHAIN_PROJECT","LANGCHAIN_SESSION"];for(const[r,n]of Object.entries(e))!r.startsWith("LANGCHAIN_")||"string"!=typeof n||a.includes(r)||r.toLowerCase().includes("key")||r.toLowerCase().includes("secret")||r.toLowerCase().includes("token")||("LANGCHAIN_REVISION_ID"===r?t.revision_id=n:t[r]=n);return t},t.getEnvironmentVariables=o,t.getEnvironmentVariable=l,t.setEnvironmentVariable=function(e,t){"undefined"!=typeof process&&(process.env[e]=t)},t.getShas=d},18291:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertLangChainMessageToExample=t.isLangChainMessage=void 0,t.isLangChainMessage=function(e){return"function"==typeof e?._getType},t.convertLangChainMessageToExample=function(e){const t={type:e._getType(),data:{content:e.content}};return e?.additional_kwargs&&Object.keys(e.additional_kwargs).length>0&&(t.data.additional_kwargs={...e.additional_kwargs}),t}},37215:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.warnOnce=void 0;const a={};t.warnOnce=function(e){a[e]||(console.warn(e),a[e]=!0)}},21210:(e,t,a)=>{e.exports=a(33635)},27262:(e,t,a)=>{e.exports=a(68457)},24356:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MultipartBody=void 0;class a{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}t.MultipartBody=a},10759:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(31951),t)},12212:(e,t,a)=>{const r=a(83085),n=a(10759);r.kind||r.setShims(n.getRuntime(),{auto:!0});for(const e of Object.keys(r))Object.defineProperty(t,e,{get:()=>r[e]})},31951:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getRuntime=void 0;const o=i(a(17645)),l=i(a(25970)),d=s(a(95692)),p=a(66584),u=a(73024),c=a(96795),m=a(57075),h=a(24356),f=a(45010);let b=!1;async function g(e,...t){const{fileFromPath:r}=await Promise.resolve().then((()=>i(a(36929))));return b||(console.warn(`fileFromPath is deprecated; use fs.createReadStream(${JSON.stringify(e)}) instead`),b=!0),await r(e,...t)}const v=new d.default({keepAlive:!0,timeout:3e5}),y=new d.default.HttpsAgent({keepAlive:!0,timeout:3e5});async function _(e,t){const a=new c.FormDataEncoder(e),r=m.Readable.from(a),n=new h.MultipartBody(r),i={...t.headers,...a.headers,"Content-Length":a.contentLength};return{...t,body:n,headers:i}}t.getRuntime=function(){return"undefined"==typeof AbortController&&(globalThis.AbortController=p.AbortController),{kind:"node",fetch:o.default,Request:o.Request,Response:o.Response,Headers:o.Headers,FormData:l.FormData,Blob:l.Blob,File:l.File,ReadableStream:f.ReadableStream,getMultipartRequestOptions:_,getDefaultAgent:e=>e.startsWith("https")?y:v,fileFromPath:g,isFsReadStream:e=>e instanceof u.ReadStream}}},83085:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setShims=t.isFsReadStream=t.fileFromPath=t.getDefaultAgent=t.getMultipartRequestOptions=t.ReadableStream=t.File=t.Blob=t.FormData=t.Headers=t.Response=t.Request=t.fetch=t.kind=t.auto=void 0,t.auto=!1,t.kind=void 0,t.fetch=void 0,t.Request=void 0,t.Response=void 0,t.Headers=void 0,t.FormData=void 0,t.Blob=void 0,t.File=void 0,t.ReadableStream=void 0,t.getMultipartRequestOptions=void 0,t.getDefaultAgent=void 0,t.fileFromPath=void 0,t.isFsReadStream=void 0,t.setShims=function(e,a={auto:!1}){if(t.auto)throw new Error(`you must \`import 'openai/shims/${e.kind}'\` before importing anything else from openai`);if(t.kind)throw new Error(`can't \`import 'openai/shims/${e.kind}'\` after \`import 'openai/shims/${t.kind}'\``);t.auto=a.auto,t.kind=e.kind,t.fetch=e.fetch,t.Request=e.Request,t.Response=e.Response,t.Headers=e.Headers,t.FormData=e.FormData,t.Blob=e.Blob,t.File=e.File,t.ReadableStream=e.ReadableStream,t.getMultipartRequestOptions=e.getMultipartRequestOptions,t.getDefaultAgent=e.getDefaultAgent,t.fileFromPath=e.fileFromPath,t.isFsReadStream=e.isFsReadStream}},88757:function(e,t,a){"use strict";var r,n=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},i=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.isObj=t.toBase64=t.getRequiredHeader=t.isHeadersProtocol=t.isRunningInBrowser=t.debug=t.hasOwn=t.isEmptyObj=t.maybeCoerceBoolean=t.maybeCoerceFloat=t.maybeCoerceInteger=t.coerceBoolean=t.coerceFloat=t.coerceInteger=t.readEnv=t.ensurePresent=t.castToError=t.sleep=t.safeJSON=t.isRequestOptions=t.createResponseHeaders=t.PagePromise=t.AbstractPage=t.APIClient=t.APIPromise=t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=void 0;const s=a(35392),o=a(6716),l=a(89526),d=a(12212),p=a(64042);var u=a(64042);async function c(e){const{response:t}=e;if(e.options.stream)return C("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):o.Stream.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const a=t.headers.get("content-type");if(a?.includes("application/json")||a?.includes("application/vnd.api+json")){const e=await t.json();return C("response",t.status,t.url,t.headers,e),e}const r=await t.text();return C("response",t.status,t.url,t.headers,r),r}Object.defineProperty(t,"maybeMultipartFormRequestOptions",{enumerable:!0,get:function(){return u.maybeMultipartFormRequestOptions}}),Object.defineProperty(t,"multipartFormRequestOptions",{enumerable:!0,get:function(){return u.multipartFormRequestOptions}}),Object.defineProperty(t,"createForm",{enumerable:!0,get:function(){return u.createForm}});class m extends Promise{constructor(e,t=c){super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new m(this.responsePromise,(async t=>e(await this.parseResponse(t))))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}t.APIPromise=m,t.APIClient=class{constructor({baseURL:e,maxRetries:t=2,timeout:a=6e5,httpAgent:r,fetch:n}){this.baseURL=e,this.maxRetries=O("maxRetries",t),this.timeout=O("timeout",a),this.httpAgent=r,this.fetch=n??d.fetch}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),..._(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${E()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,a){return this.request(Promise.resolve(a).then((async a=>{const r=a&&(0,p.isBlobLike)(a?.body)?new DataView(await a.body.arrayBuffer()):a?.body instanceof DataView?a.body:a?.body instanceof ArrayBuffer?new DataView(a.body):a&&ArrayBuffer.isView(a?.body)?new DataView(a.body.buffer):a?.body;return{method:e,path:t,...a,body:r}})))}getAPIList(e,t,a){return this.requestAPIList(t,{method:"get",path:e,...a})}calculateContentLength(e){if("string"==typeof e){if("undefined"!=typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e).length.toString()}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){const{method:t,path:a,query:r,headers:n={}}=e,i=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"==typeof e.body?e.body:(0,p.isMultipartBody)(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,s=this.calculateContentLength(i),o=this.buildURL(a,r);"timeout"in e&&O("timeout",e.timeout);const l=e.timeout??this.timeout,u=e.httpAgent??this.httpAgent??(0,d.getDefaultAgent)(o),c=l+1e3;return"number"==typeof u?.options?.timeout&&c>(u.options.timeout??0)&&(u.options.timeout=c),this.idempotencyHeader&&"get"!==t&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),n[this.idempotencyHeader]=e.idempotencyKey),{req:{method:t,...i&&{body:i},headers:this.buildHeaders({options:e,headers:n,contentLength:s}),...u&&{agent:u},signal:e.signal??null},url:o,timeout:l}}buildHeaders({options:e,headers:t,contentLength:a}){const r={};return a&&(r["content-length"]=a),S(r,this.defaultHeaders(e)),S(r,t),(0,p.isMultipartBody)(e.body)&&"node"!==d.kind&&delete r["content-type"],this.validateHeaders(r,t),r}async prepareOptions(e){}async prepareRequest(e,{url:t,options:a}){}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,a,r){return l.APIError.generate(e,t,a,r)}request(e,t=null){return new m(this.makeRequest(e,t))}async makeRequest(e,a){const r=await e;null==a&&(a=r.maxRetries??this.maxRetries),await this.prepareOptions(r);const{req:n,url:i,timeout:s}=this.buildRequest(r);if(await this.prepareRequest(n,{url:i,options:r}),C("request",i,r,n.headers),r.signal?.aborted)throw new l.APIUserAbortError;const o=new AbortController,d=await this.fetchWithTimeout(i,n,s,o).catch(t.castToError);if(d instanceof Error){if(r.signal?.aborted)throw new l.APIUserAbortError;if(a)return this.retryRequest(r,a);if("AbortError"===d.name)throw new l.APIConnectionTimeoutError;throw new l.APIConnectionError({cause:d})}const p=(0,t.createResponseHeaders)(d.headers);if(!d.ok){if(a&&this.shouldRetry(d))return C(`response (error; retrying, ${a} attempts remaining)`,d.status,i,p),this.retryRequest(r,a,p);const e=await d.text().catch((e=>(0,t.castToError)(e).message)),n=(0,t.safeJSON)(e),s=n?void 0:e;throw C(`response (error; ${a?"(error; no more retries left)":"(error; not retryable)"})`,d.status,i,p,s),this.makeStatusError(d.status,n,s,p)}return{response:d,options:r,controller:o}}requestAPIList(e,t){const a=this.makeRequest(t,null);return new f(this,a,e)}buildURL(e,t){const a=P(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return T(r)||(t={...r,...t}),"object"==typeof t&&t&&!Array.isArray(t)&&(a.search=this.stringifyQuery(t)),a.toString()}stringifyQuery(e){return Object.entries(e).filter((([e,t])=>void 0!==t)).map((([e,t])=>{if("string"==typeof t||"number"==typeof t||"boolean"==typeof t)return`${encodeURIComponent(e)}=${encodeURIComponent(t)}`;if(null===t)return`${encodeURIComponent(e)}=`;throw new l.OpenAIError(`Cannot stringify type ${typeof t}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,a,r){const{signal:n,...i}=t||{};n&&n.addEventListener("abort",(()=>r.abort()));const s=setTimeout((()=>r.abort()),a);return this.getRequestClient().fetch.call(void 0,e,{signal:r.signal,...i}).finally((()=>{clearTimeout(s)}))}getRequestClient(){return{fetch:this.fetch}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||409===e.status||429===e.status||e.status>=500)}async retryRequest(e,a,r){let n;const i=r?.["retry-after-ms"];if(i){const e=parseFloat(i);Number.isNaN(e)||(n=e)}const s=r?.["retry-after"];if(s&&!n){const e=parseFloat(s);n=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(n&&0<=n&&n<6e4)){const t=e.maxRetries??this.maxRetries;n=this.calculateDefaultRetryTimeoutMillis(a,t)}return await(0,t.sleep)(n),this.makeRequest(e,a-1)}calculateDefaultRetryTimeoutMillis(e,t){const a=t-e;return Math.min(.5*Math.pow(2,a),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${s.VERSION}`}};class h{constructor(e,t,a,i){r.set(this,void 0),n(this,r,e,"f"),this.options=i,this.response=t,this.body=a}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageInfo()}async getNextPage(){const e=this.nextPageInfo();if(!e)throw new l.OpenAIError("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");const t={...this.options};if("params"in e&&"object"==typeof t.query)t.query={...t.query,...e.params};else if("url"in e){const a=[...Object.entries(t.query||{}),...e.url.searchParams.entries()];for(const[t,r]of a)e.url.searchParams.set(t,r);t.query=void 0,t.path=e.url.toString()}return await i(this,r,"f").requestAPIList(this.constructor,t)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(r=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}t.AbstractPage=h;class f extends m{constructor(e,t,a){super(t,(async t=>new a(e,t.response,await c(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}t.PagePromise=f,t.createResponseHeaders=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const a=t.toString();return e[a.toLowerCase()]||e[a]}});const b={method:!0,path:!0,query:!0,body:!0,headers:!0,maxRetries:!0,stream:!0,timeout:!0,httpAgent:!0,signal:!0,idempotencyKey:!0,__binaryRequest:!0,__binaryResponse:!0,__streamClass:!0};t.isRequestOptions=e=>"object"==typeof e&&null!==e&&!T(e)&&Object.keys(e).every((e=>A(b,e)));const g=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",v=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let y;const _=()=>y??(y=(()=>{if("undefined"!=typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":v(Deno.build.os),"X-Stainless-Arch":g(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"==typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!=typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":v(process.platform),"X-Stainless-Arch":g(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"==typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:a}of e){const e=a.exec(navigator.userAgent);if(e)return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":s.VERSION,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}})());t.safeJSON=e=>{try{return JSON.parse(e)}catch(e){return}};const w=new RegExp("^(?:[a-z]+:)?//","i"),P=e=>w.test(e);t.sleep=e=>new Promise((t=>setTimeout(t,e)));const O=(e,t)=>{if("number"!=typeof t||!Number.isInteger(t))throw new l.OpenAIError(`${e} must be an integer`);if(t<0)throw new l.OpenAIError(`${e} must be a positive integer`);return t};function T(e){if(!e)return!0;for(const t in e)return!1;return!0}function A(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function S(e,t){for(const a in t){if(!A(t,a))continue;const r=a.toLowerCase();if(!r)continue;const n=t[a];null===n?delete e[r]:void 0!==n&&(e[r]=n)}}function C(e,...t){"undefined"!=typeof process&&"true"===process?.env?.DEBUG&&console.log(`OpenAI:DEBUG:${e}`,...t)}t.castToError=e=>e instanceof Error?e:new Error(e),t.ensurePresent=e=>{if(null==e)throw new l.OpenAIError(`Expected a value to be given but received ${e} instead.`);return e},t.readEnv=e=>"undefined"!=typeof process?process.env?.[e]?.trim()??void 0:"undefined"!=typeof Deno?Deno.env?.get?.(e)?.trim():void 0,t.coerceInteger=e=>{if("number"==typeof e)return Math.round(e);if("string"==typeof e)return parseInt(e,10);throw new l.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceFloat=e=>{if("number"==typeof e)return e;if("string"==typeof e)return parseFloat(e);throw new l.OpenAIError(`Could not coerce ${e} (type: ${typeof e}) into a number`)},t.coerceBoolean=e=>"boolean"==typeof e?e:"string"==typeof e?"true"===e:Boolean(e),t.maybeCoerceInteger=e=>{if(void 0!==e)return(0,t.coerceInteger)(e)},t.maybeCoerceFloat=e=>{if(void 0!==e)return(0,t.coerceFloat)(e)},t.maybeCoerceBoolean=e=>{if(void 0!==e)return(0,t.coerceBoolean)(e)},t.isEmptyObj=T,t.hasOwn=A,t.debug=C;const E=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}));t.isRunningInBrowser=()=>"undefined"!=typeof window&&void 0!==window.document&&"undefined"!=typeof navigator,t.isHeadersProtocol=e=>"function"==typeof e?.get,t.getRequiredHeader=(e,a)=>{const r=a.toLowerCase();if((0,t.isHeadersProtocol)(e)){const t=a[0]?.toUpperCase()+a.substring(1).replace(/([^\w])(\w)/g,((e,t,a)=>t+a.toUpperCase()));for(const n of[a,r,a.toUpperCase(),t]){const t=e.get(n);if(t)return t}}for(const[t,n]of Object.entries(e))if(t.toLowerCase()===r)return Array.isArray(n)?(n.length<=1||console.warn(`Received ${n.length} entries for the ${a} header, using the first entry.`),n[0]):n;throw new Error(`Could not find ${a} header`)},t.toBase64=e=>{if(!e)return"";if("undefined"!=typeof Buffer)return Buffer.from(e).toString("base64");if("undefined"!=typeof btoa)return btoa(e);throw new l.OpenAIError("Cannot generate b64 string; Expected `Buffer` or `btoa` to be defined")},t.isObj=function(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}},89526:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalServerError=t.RateLimitError=t.UnprocessableEntityError=t.ConflictError=t.NotFoundError=t.PermissionDeniedError=t.AuthenticationError=t.BadRequestError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIUserAbortError=t.APIError=t.OpenAIError=void 0;const r=a(88757);class n extends Error{}t.OpenAIError=n;class i extends n{constructor(e,t,a,r){super(`${i.makeMessage(e,t,a)}`),this.status=e,this.headers=r,this.request_id=r?.["x-request-id"];const n=t;this.error=n,this.code=n?.code,this.param=n?.param,this.type=n?.type}static makeMessage(e,t,a){const r=t?.message?"string"==typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):a;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,a,n){if(!e)return new s({cause:(0,r.castToError)(t)});const f=t?.error;return 400===e?new o(e,f,a,n):401===e?new l(e,f,a,n):403===e?new d(e,f,a,n):404===e?new p(e,f,a,n):409===e?new u(e,f,a,n):422===e?new c(e,f,a,n):429===e?new m(e,f,a,n):e>=500?new h(e,f,a,n):new i(e,f,a,n)}}t.APIError=i,t.APIUserAbortError=class extends i{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0),this.status=void 0}};class s extends i{constructor({message:e,cause:t}){super(void 0,void 0,e||"Connection error.",void 0),this.status=void 0,t&&(this.cause=t)}}t.APIConnectionError=s,t.APIConnectionTimeoutError=class extends s{constructor({message:e}={}){super({message:e??"Request timed out."})}};class o extends i{constructor(){super(...arguments),this.status=400}}t.BadRequestError=o;class l extends i{constructor(){super(...arguments),this.status=401}}t.AuthenticationError=l;class d extends i{constructor(){super(...arguments),this.status=403}}t.PermissionDeniedError=d;class p extends i{constructor(){super(...arguments),this.status=404}}t.NotFoundError=p;class u extends i{constructor(){super(...arguments),this.status=409}}t.ConflictError=u;class c extends i{constructor(){super(...arguments),this.status=422}}t.UnprocessableEntityError=c;class m extends i{constructor(){super(...arguments),this.status=429}}t.RateLimitError=m;class h extends i{}t.InternalServerError=h},32012:function(e,t,a){"use strict";var r,n=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&n(t,e,a);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AzureOpenAI=t.fileFromPath=t.toFile=t.UnprocessableEntityError=t.PermissionDeniedError=t.InternalServerError=t.AuthenticationError=t.BadRequestError=t.RateLimitError=t.ConflictError=t.NotFoundError=t.APIUserAbortError=t.APIConnectionTimeoutError=t.APIConnectionError=t.APIError=t.OpenAIError=t.OpenAI=void 0;const o=s(a(88757)),l=s(a(89526)),d=s(a(64042)),p=s(a(2510)),u=s(a(33946));class c extends o.APIClient{constructor({baseURL:e=o.readEnv("OPENAI_BASE_URL"),apiKey:t=o.readEnv("OPENAI_API_KEY"),organization:a=o.readEnv("OPENAI_ORG_ID")??null,project:r=o.readEnv("OPENAI_PROJECT_ID")??null,...n}={}){if(void 0===t)throw new l.OpenAIError("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:a,project:r,...n,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&o.isRunningInBrowser())throw new l.OpenAIError("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");super({baseURL:i.baseURL,timeout:i.timeout??6e5,httpAgent:i.httpAgent,maxRetries:i.maxRetries,fetch:i.fetch}),this.completions=new u.Completions(this),this.chat=new u.Chat(this),this.embeddings=new u.Embeddings(this),this.files=new u.Files(this),this.images=new u.Images(this),this.audio=new u.Audio(this),this.moderations=new u.Moderations(this),this.models=new u.Models(this),this.fineTuning=new u.FineTuning(this),this.beta=new u.Beta(this),this.batches=new u.Batches(this),this._options=i,this.apiKey=t,this.organization=a,this.project=r}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project,...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}t.OpenAI=c,r=c,c.OpenAI=r,c.OpenAIError=l.OpenAIError,c.APIError=l.APIError,c.APIConnectionError=l.APIConnectionError,c.APIConnectionTimeoutError=l.APIConnectionTimeoutError,c.APIUserAbortError=l.APIUserAbortError,c.NotFoundError=l.NotFoundError,c.ConflictError=l.ConflictError,c.RateLimitError=l.RateLimitError,c.BadRequestError=l.BadRequestError,c.AuthenticationError=l.AuthenticationError,c.InternalServerError=l.InternalServerError,c.PermissionDeniedError=l.PermissionDeniedError,c.UnprocessableEntityError=l.UnprocessableEntityError,c.toFile=d.toFile,c.fileFromPath=d.fileFromPath,t.OpenAIError=l.OpenAIError,t.APIError=l.APIError,t.APIConnectionError=l.APIConnectionError,t.APIConnectionTimeoutError=l.APIConnectionTimeoutError,t.APIUserAbortError=l.APIUserAbortError,t.NotFoundError=l.NotFoundError,t.ConflictError=l.ConflictError,t.RateLimitError=l.RateLimitError,t.BadRequestError=l.BadRequestError,t.AuthenticationError=l.AuthenticationError,t.InternalServerError=l.InternalServerError,t.PermissionDeniedError=l.PermissionDeniedError,t.UnprocessableEntityError=l.UnprocessableEntityError,t.toFile=d.toFile,t.fileFromPath=d.fileFromPath,function(e){e.Page=p.Page,e.CursorPage=p.CursorPage,e.Completions=u.Completions,e.Chat=u.Chat,e.Embeddings=u.Embeddings,e.Files=u.Files,e.FileObjectsPage=u.FileObjectsPage,e.Images=u.Images,e.Audio=u.Audio,e.Moderations=u.Moderations,e.Models=u.Models,e.ModelsPage=u.ModelsPage,e.FineTuning=u.FineTuning,e.Beta=u.Beta,e.Batches=u.Batches,e.BatchesPage=u.BatchesPage}(c=t.OpenAI||(t.OpenAI={}));class m extends c{constructor({baseURL:e=o.readEnv("OPENAI_BASE_URL"),apiKey:t=o.readEnv("AZURE_OPENAI_API_KEY"),apiVersion:a=o.readEnv("OPENAI_API_VERSION"),endpoint:r,deployment:n,azureADTokenProvider:i,dangerouslyAllowBrowser:s,...d}={}){if(!a)throw new l.OpenAIError("The OPENAI_API_VERSION environment variable is missing or empty; either provide it, or instantiate the AzureOpenAI client with an apiVersion option, like new AzureOpenAI({ apiVersion: 'My API Version' }).");if("function"==typeof i&&(s=!0),!i&&!t)throw new l.OpenAIError("Missing credentials. Please pass one of `apiKey` and `azureADTokenProvider`, or set the `AZURE_OPENAI_API_KEY` environment variable.");if(i&&t)throw new l.OpenAIError("The `apiKey` and `azureADTokenProvider` arguments are mutually exclusive; only one can be passed at a time.");if(t??(t=f),d.defaultQuery={...d.defaultQuery,"api-version":a},e){if(r)throw new l.OpenAIError("baseURL and endpoint are mutually exclusive")}else{if(r||(r=process.env.AZURE_OPENAI_ENDPOINT),!r)throw new l.OpenAIError("Must provide one of the `baseURL` or `endpoint` arguments, or the `AZURE_OPENAI_ENDPOINT` environment variable");e=`${r}/openai`}super({apiKey:t,baseURL:e,...d,...void 0!==s?{dangerouslyAllowBrowser:s}:{}}),this.apiVersion="",this._azureADTokenProvider=i,this.apiVersion=a,this._deployment=n}buildRequest(e){if(h.has(e.path)&&"post"===e.method&&void 0!==e.body){if(!o.isObj(e.body))throw new Error("Expected request body to be an object");const t=this._deployment||e.body.model;delete e.body.model,void 0===t||this.baseURL.includes("/deployments")||(e.path=`/deployments/${t}${e.path}`)}return super.buildRequest(e)}async _getAzureADToken(){if("function"==typeof this._azureADTokenProvider){const e=await this._azureADTokenProvider();if(!e||"string"!=typeof e)throw new l.OpenAIError(`Expected 'azureADTokenProvider' argument to return a string but it returned ${e}`);return e}}authHeaders(e){return{}}async prepareOptions(e){if(e.headers?.Authorization||e.headers?.["api-key"])return super.prepareOptions(e);const t=await this._getAzureADToken();if(e.headers??(e.headers={}),t)e.headers.Authorization=`Bearer ${t}`;else{if(this.apiKey===f)throw new l.OpenAIError("Unable to handle auth");e.headers["api-key"]=this.apiKey}return super.prepareOptions(e)}}t.AzureOpenAI=m;const h=new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations"]),f="<Missing Key>";t=e.exports=c,e.exports.AzureOpenAI=m,t.default=c},72124:function(e,t,a){"use strict";var r,n,i,s,o,l,d,p,u,c,m,h,f=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},b=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractAssistantStreamRunner=void 0;const g=a(89526);t.AbstractAssistantStreamRunner=class{constructor(){this.controller=new AbortController,r.set(this,void 0),n.set(this,(()=>{})),i.set(this,(()=>{})),s.set(this,void 0),o.set(this,(()=>{})),l.set(this,(()=>{})),d.set(this,{}),p.set(this,!1),u.set(this,!1),c.set(this,!1),m.set(this,!1),h.set(this,(e=>{if(f(this,u,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new g.APIUserAbortError),e instanceof g.APIUserAbortError)return f(this,c,!0,"f"),this._emit("abort",e);if(e instanceof g.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new g.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new g.OpenAIError(String(e)))})),f(this,r,new Promise(((e,t)=>{f(this,n,e,"f"),f(this,i,t,"f")})),"f"),f(this,s,new Promise(((e,t)=>{f(this,o,e,"f"),f(this,l,t,"f")})),"f"),b(this,r,"f").catch((()=>{})),b(this,s,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emit("end")}),b(this,h,"f"))}),0)}_addRun(e){return e}_connected(){this.ended||(b(this,n,"f").call(this),this._emit("connect"))}get ended(){return b(this,p,"f")}get errored(){return b(this,u,"f")}get aborted(){return b(this,c,"f")}abort(){this.controller.abort()}on(e,t){return(b(this,d,"f")[e]||(b(this,d,"f")[e]=[])).push({listener:t}),this}off(e,t){const a=b(this,d,"f")[e];if(!a)return this;const r=a.findIndex((e=>e.listener===t));return r>=0&&a.splice(r,1),this}once(e,t){return(b(this,d,"f")[e]||(b(this,d,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,a)=>{f(this,m,!0,"f"),"error"!==e&&this.once("error",a),this.once(e,t)}))}async done(){f(this,m,!0,"f"),await b(this,s,"f")}_emit(e,...t){if(b(this,p,"f"))return;"end"===e&&(f(this,p,!0,"f"),b(this,o,"f").call(this));const a=b(this,d,"f")[e];if(a&&(b(this,d,"f")[e]=a.filter((e=>!e.once)),a.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return b(this,m,"f")||a?.length||Promise.reject(e),b(this,i,"f").call(this,e),b(this,l,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];b(this,m,"f")||a?.length||Promise.reject(e),b(this,i,"f").call(this,e),b(this,l,"f").call(this,e),this._emit("end")}}async _threadAssistantStream(e,t,a){return await this._createThreadAssistantStream(t,e,a)}async _runAssistantStream(e,t,a,r){return await this._createAssistantStream(t,e,a,r)}async _runToolAssistantStream(e,t,a,r,n){return await this._createToolAssistantStream(a,e,t,r,n)}async _createThreadAssistantStream(e,t,a){const r=a?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const n=await e.createAndRun({...t,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addRun(n)}async _createToolAssistantStream(e,t,a,r,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const s=await e.submitToolOutputs(t,a,{...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addRun(s)}async _createAssistantStream(e,t,a,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const i=await e.create(t,{...a,stream:!1},{...r,signal:this.controller.signal});return this._connected(),this._addRun(i)}},r=new WeakMap,n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,c=new WeakMap,m=new WeakMap,h=new WeakMap},71118:function(e,t,a){"use strict";var r,n,i,s,o,l,d,p,u,c,m,h,f,b,g,v,y,_,w,P,O=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a},T=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractChatCompletionRunner=void 0;const A=a(89526),S=a(64691),C=a(46289),E=10;t.AbstractChatCompletionRunner=class{constructor(){r.add(this),this.controller=new AbortController,n.set(this,void 0),i.set(this,(()=>{})),s.set(this,(()=>{})),o.set(this,void 0),l.set(this,(()=>{})),d.set(this,(()=>{})),p.set(this,{}),this._chatCompletions=[],this.messages=[],u.set(this,!1),c.set(this,!1),m.set(this,!1),h.set(this,!1),_.set(this,(e=>{if(O(this,c,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new A.APIUserAbortError),e instanceof A.APIUserAbortError)return O(this,m,!0,"f"),this._emit("abort",e);if(e instanceof A.OpenAIError)return this._emit("error",e);if(e instanceof Error){const t=new A.OpenAIError(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new A.OpenAIError(String(e)))})),O(this,n,new Promise(((e,t)=>{O(this,i,e,"f"),O(this,s,t,"f")})),"f"),O(this,o,new Promise(((e,t)=>{O(this,l,e,"f"),O(this,d,t,"f")})),"f"),T(this,n,"f").catch((()=>{})),T(this,o,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),T(this,_,"f"))}),0)}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e,t=!0){if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),((0,C.isFunctionMessage)(e)||(0,C.isToolMessage)(e))&&e.content)this._emit("functionCallResult",e.content);else if((0,C.isAssistantMessage)(e)&&e.function_call)this._emit("functionCall",e.function_call);else if((0,C.isAssistantMessage)(e)&&e.tool_calls)for(const t of e.tool_calls)"function"===t.type&&this._emit("functionCall",t.function)}_connected(){this.ended||(T(this,i,"f").call(this),this._emit("connect"))}get ended(){return T(this,u,"f")}get errored(){return T(this,c,"f")}get aborted(){return T(this,m,"f")}abort(){this.controller.abort()}on(e,t){return(T(this,p,"f")[e]||(T(this,p,"f")[e]=[])).push({listener:t}),this}off(e,t){const a=T(this,p,"f")[e];if(!a)return this;const r=a.findIndex((e=>e.listener===t));return r>=0&&a.splice(r,1),this}once(e,t){return(T(this,p,"f")[e]||(T(this,p,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,a)=>{O(this,h,!0,"f"),"error"!==e&&this.once("error",a),this.once(e,t)}))}async done(){O(this,h,!0,"f"),await T(this,o,"f")}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new A.OpenAIError("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),T(this,r,"m",f).call(this)}async finalMessage(){return await this.done(),T(this,r,"m",b).call(this)}async finalFunctionCall(){return await this.done(),T(this,r,"m",g).call(this)}async finalFunctionCallResult(){return await this.done(),T(this,r,"m",v).call(this)}async totalUsage(){return await this.done(),T(this,r,"m",y).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emit(e,...t){if(T(this,u,"f"))return;"end"===e&&(O(this,u,!0,"f"),T(this,l,"f").call(this));const a=T(this,p,"f")[e];if(a&&(T(this,p,"f")[e]=a.filter((e=>!e.once)),a.forEach((({listener:e})=>e(...t)))),"abort"===e){const e=t[0];return T(this,h,"f")||a?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),void this._emit("end")}if("error"===e){const e=t[0];T(this,h,"f")||a?.length||Promise.reject(e),T(this,s,"f").call(this,e),T(this,d,"f").call(this,e),this._emit("end")}}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=T(this,r,"m",b).call(this);t&&this._emit("finalMessage",t);const a=T(this,r,"m",f).call(this);a&&this._emit("finalContent",a);const n=T(this,r,"m",g).call(this);n&&this._emit("finalFunctionCall",n);const i=T(this,r,"m",v).call(this);null!=i&&this._emit("finalFunctionCallResult",i),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",T(this,r,"m",y).call(this))}async _createChatCompletion(e,t,a){const n=a?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),T(this,r,"m",w).call(this,t);const i=await e.create({...t,stream:!1},{...a,signal:this.controller.signal});return this._connected(),this._addChatCompletion(i)}async _runChatCompletion(e,t,a){for(const e of t.messages)this._addMessage(e,!1);return await this._createChatCompletion(e,t,a)}async _runFunctions(e,t,a){const n="function",{function_call:i="auto",stream:s,...o}=t,l="string"!=typeof i&&i?.name,{maxChatCompletions:d=E}=a||{},p={};for(const e of t.functions)p[e.name||e.function.name]=e;const u=t.functions.map((e=>({name:e.name||e.function.name,parameters:e.parameters,description:e.description})));for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<d;++t){const t=await this._createChatCompletion(e,{...o,function_call:i,functions:u,messages:[...this.messages]},a),s=t.choices[0]?.message;if(!s)throw new A.OpenAIError("missing message in ChatCompletion response");if(!s.function_call)return;const{name:d,arguments:c}=s.function_call,m=p[d];if(!m){const e=`Invalid function_call: ${JSON.stringify(d)}. Available options are: ${u.map((e=>JSON.stringify(e.name))).join(", ")}. Please try again`;this._addMessage({role:n,name:d,content:e});continue}if(l&&l!==d){const e=`Invalid function_call: ${JSON.stringify(d)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:n,name:d,content:e});continue}let h;try{h=(0,S.isRunnableFunctionWithParse)(m)?await m.parse(c):c}catch(e){this._addMessage({role:n,name:d,content:e instanceof Error?e.message:String(e)});continue}const f=await m.function(h,this),b=T(this,r,"m",P).call(this,f);if(this._addMessage({role:n,name:d,content:b}),l)return}}async _runTools(e,t,a){const n="tool",{tool_choice:i="auto",stream:s,...o}=t,l="string"!=typeof i&&i?.function?.name,{maxChatCompletions:d=E}=a||{},p={};for(const e of t.tools)"function"===e.type&&(p[e.function.name||e.function.function.name]=e.function);const u="tools"in t?t.tools.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description}}:e)):void 0;for(const e of t.messages)this._addMessage(e,!1);for(let t=0;t<d;++t){const t=await this._createChatCompletion(e,{...o,tool_choice:i,tools:u,messages:[...this.messages]},a),s=t.choices[0]?.message;if(!s)throw new A.OpenAIError("missing message in ChatCompletion response");if(!s.tool_calls)return;for(const e of s.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:a,arguments:i}=e.function,s=p[a];if(!s){const e=`Invalid tool_call: ${JSON.stringify(a)}. Available options are: ${u.map((e=>JSON.stringify(e.function.name))).join(", ")}. Please try again`;this._addMessage({role:n,tool_call_id:t,content:e});continue}if(l&&l!==a){const e=`Invalid tool_call: ${JSON.stringify(a)}. ${JSON.stringify(l)} requested. Please try again`;this._addMessage({role:n,tool_call_id:t,content:e});continue}let o;try{o=(0,S.isRunnableFunctionWithParse)(s)?await s.parse(i):i}catch(e){const a=e instanceof Error?e.message:String(e);this._addMessage({role:n,tool_call_id:t,content:a});continue}const d=await s.function(o,this),c=T(this,r,"m",P).call(this,d);if(this._addMessage({role:n,tool_call_id:t,content:c}),l)return}}}},n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,c=new WeakMap,m=new WeakMap,h=new WeakMap,_=new WeakMap,r=new WeakSet,f=function(){return T(this,r,"m",b).call(this).content??null},b=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if((0,C.isAssistantMessage)(t)){const{function_call:e,...a}=t,r={...a,content:t.content??null};return e&&(r.function_call=e),r}}throw new A.OpenAIError("stream ended without producing a ChatCompletionMessage with role=assistant")},g=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,C.isAssistantMessage)(t)&&t?.function_call)return t.function_call;if((0,C.isAssistantMessage)(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},v=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if((0,C.isFunctionMessage)(t)&&null!=t.content)return t.content;if((0,C.isToolMessage)(t)&&null!=t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},y=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},w=function(e){if(null!=e.n&&e.n>1)throw new A.OpenAIError("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},P=function(e){return"string"==typeof e?e:void 0===e?"undefined":JSON.stringify(e)}},18868:function(e,t,a){"use strict";var r,n,i,s,o,l,d,p,u,c,m,h,f,b,g,v,y,_,w,P,O,T,A=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),S=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),C=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&A(t,e,a);return S(t,e),t},E=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},I=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantStream=void 0;const k=C(a(88757)),R=a(72124),j=a(6716),x=a(89526);class N extends R.AbstractAssistantStreamRunner{constructor(){super(...arguments),r.add(this),n.set(this,[]),i.set(this,{}),s.set(this,{}),o.set(this,void 0),l.set(this,void 0),d.set(this,void 0),p.set(this,void 0),u.set(this,void 0),c.set(this,void 0),m.set(this,void 0),h.set(this,void 0),f.set(this,void 0)}[(n=new WeakMap,i=new WeakMap,s=new WeakMap,o=new WeakMap,l=new WeakMap,d=new WeakMap,p=new WeakMap,u=new WeakMap,c=new WeakMap,m=new WeakMap,h=new WeakMap,f=new WeakMap,r=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let a=!1;return this.on("event",(a=>{const r=t.shift();r?r.resolve(a):e.push(a)})),this.on("end",(()=>{a=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{a=!0;for(const a of t)a.reject(e);t.length=0})),this.on("error",(e=>{a=!0;for(const a of t)a.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise(((e,a)=>t.push({resolve:e,reject:a}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new N;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const a=t?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const n=j.Stream.fromReadableStream(e,this.controller);for await(const e of n)E(this,r,"m",b).call(this,e);if(n.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(E(this,r,"m",g).call(this))}toReadableStream(){return new j.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,a,r,n){const i=new N;return i._run((()=>i._runToolAssistantStream(e,t,a,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),i}async _createToolAssistantStream(e,t,a,n,i){const s=i?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",(()=>this.controller.abort())));const o={...n,stream:!0},l=await e.submitToolOutputs(t,a,o,{...i,signal:this.controller.signal});this._connected();for await(const e of l)E(this,r,"m",b).call(this,e);if(l.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(E(this,r,"m",g).call(this))}static createThreadAssistantStream(e,t,a){const r=new N;return r._run((()=>r._threadAssistantStream(e,t,{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,a,r){const n=new N;return n._run((()=>n._runAssistantStream(e,t,a,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),n}currentEvent(){return E(this,m,"f")}currentRun(){return E(this,h,"f")}currentMessageSnapshot(){return E(this,o,"f")}currentRunStepSnapshot(){return E(this,f,"f")}async finalRunSteps(){return await this.done(),Object.values(E(this,i,"f"))}async finalMessages(){return await this.done(),Object.values(E(this,s,"f"))}async finalRun(){if(await this.done(),!E(this,l,"f"))throw Error("Final run was not received.");return E(this,l,"f")}async _createThreadAssistantStream(e,t,a){const n=a?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort())));const i={...t,stream:!0},s=await e.createAndRun(i,{...a,signal:this.controller.signal});this._connected();for await(const e of s)E(this,r,"m",b).call(this,e);if(s.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(E(this,r,"m",g).call(this))}async _createAssistantStream(e,t,a,n){const i=n?.signal;i&&(i.aborted&&this.controller.abort(),i.addEventListener("abort",(()=>this.controller.abort())));const s={...a,stream:!0},o=await e.create(t,s,{...n,signal:this.controller.signal});this._connected();for await(const e of o)E(this,r,"m",b).call(this,e);if(o.controller.signal?.aborted)throw new x.APIUserAbortError;return this._addRun(E(this,r,"m",g).call(this))}static accumulateDelta(e,t){for(const[a,r]of Object.entries(t)){if(!e.hasOwnProperty(a)){e[a]=r;continue}let t=e[a];if(null!=t)if("index"!==a&&"type"!==a){if("string"==typeof t&&"string"==typeof r)t+=r;else if("number"==typeof t&&"number"==typeof r)t+=r;else if(k.isObj(t)&&k.isObj(r))t=this.accumulateDelta(t,r);else{if(!Array.isArray(t)||!Array.isArray(r))throw Error(`Unhandled record type: ${a}, deltaValue: ${r}, accValue: ${t}`);if(t.every((e=>"string"==typeof e||"number"==typeof e))){t.push(...r);continue}}e[a]=t}else e[a]=r;else e[a]=r}return e}}t.AssistantStream=N,b=function(e){if(!this.ended)switch(I(this,m,e,"f"),E(this,r,"m",_).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":E(this,r,"m",T).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":E(this,r,"m",y).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":E(this,r,"m",v).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},g=function(){if(this.ended)throw new x.OpenAIError("stream has ended, this shouldn't happen");if(!E(this,l,"f"))throw Error("Final run has not been received");return E(this,l,"f")},v=function(e){const[t,a]=E(this,r,"m",P).call(this,e,E(this,o,"f"));I(this,o,t,"f"),E(this,s,"f")[t.id]=t;for(const e of a){const a=t.content[e.index];"text"==a?.type&&this._emit("textCreated",a.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const a of e.data.delta.content){if("text"==a.type&&a.text){let e=a.text,r=t.content[a.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(a.index!=E(this,d,"f")){if(E(this,p,"f"))switch(E(this,p,"f").type){case"text":this._emit("textDone",E(this,p,"f").text,E(this,o,"f"));break;case"image_file":this._emit("imageFileDone",E(this,p,"f").image_file,E(this,o,"f"))}I(this,d,a.index,"f")}I(this,p,t.content[a.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==E(this,d,"f")){const t=e.data.content[E(this,d,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,E(this,o,"f"));break;case"text":this._emit("textDone",t.text,E(this,o,"f"))}}E(this,o,"f")&&this._emit("messageDone",e.data),I(this,o,void 0,"f")}},y=function(e){const t=E(this,r,"m",w).call(this,e);switch(I(this,f,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const a=e.data.delta;if(a.step_details&&"tool_calls"==a.step_details.type&&a.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of a.step_details.tool_calls)e.index==E(this,u,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(E(this,c,"f")&&this._emit("toolCallDone",E(this,c,"f")),I(this,u,e.index,"f"),I(this,c,t.step_details.tool_calls[e.index],"f"),E(this,c,"f")&&this._emit("toolCallCreated",E(this,c,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":I(this,f,void 0,"f"),"tool_calls"==e.data.step_details.type&&E(this,c,"f")&&(this._emit("toolCallDone",E(this,c,"f")),I(this,c,void 0,"f")),this._emit("runStepDone",e.data,t)}},_=function(e){E(this,n,"f").push(e),this._emit("event",e)},w=function(e){switch(e.event){case"thread.run.step.created":return E(this,i,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=E(this,i,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let a=e.data;if(a.delta){const r=N.accumulateDelta(t,a.delta);E(this,i,"f")[e.data.id]=r}return E(this,i,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":E(this,i,"f")[e.data.id]=e.data}if(E(this,i,"f")[e.data.id])return E(this,i,"f")[e.data.id];throw new Error("No snapshot available")},P=function(e,t){let a=[];switch(e.event){case"thread.message.created":return[e.data,a];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let n=e.data;if(n.delta.content)for(const e of n.delta.content)if(e.index in t.content){let a=t.content[e.index];t.content[e.index]=E(this,r,"m",O).call(this,e,a)}else t.content[e.index]=e,a.push(e);return[t,a];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,a];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},O=function(e,t){return N.accumulateDelta(t,e)},T=function(e){switch(I(this,h,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":I(this,l,e.data,"f"),E(this,c,"f")&&(this._emit("toolCallDone",E(this,c,"f")),I(this,c,void 0,"f"))}}},44648:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionRunner=void 0;const r=a(71118),n=a(46289);class i extends r.AbstractChatCompletionRunner{static runFunctions(e,t,a){const r=new i,n={...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,n))),r}static runTools(e,t,a){const r=new i,n={...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,n))),r}_addMessage(e){super._addMessage(e),(0,n.isAssistantMessage)(e)&&e.content&&this._emit("content",e.content)}}t.ChatCompletionRunner=i},95126:function(e,t,a){"use strict";var r,n,i,s,o,l,d=this&&this.__classPrivateFieldGet||function(e,t,a,r){if("a"===a&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===a?r:"a"===a?r.call(e):r?r.value:t.get(e)},p=this&&this.__classPrivateFieldSet||function(e,t,a,r,n){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!n:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?n.call(e,a):n?n.value=a:t.set(e,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStream=void 0;const u=a(89526),c=a(71118),m=a(6716);class h extends c.AbstractChatCompletionRunner{constructor(){super(...arguments),r.add(this),n.set(this,void 0)}get currentChatCompletionSnapshot(){return d(this,n,"f")}static fromReadableStream(e){const t=new h;return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,a){const r=new h;return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,a){const n=a?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),d(this,r,"m",i).call(this);const l=await e.create({...t,stream:!0},{...a,signal:this.controller.signal});this._connected();for await(const e of l)d(this,r,"m",s).call(this,e);if(l.controller.signal?.aborted)throw new u.APIUserAbortError;return this._addChatCompletion(d(this,r,"m",o).call(this))}async _fromReadableStream(e,t){const a=t?.signal;a&&(a.aborted&&this.controller.abort(),a.addEventListener("abort",(()=>this.controller.abort()))),d(this,r,"m",i).call(this),this._connected();const n=m.Stream.fromReadableStream(e,this.controller);let l;for await(const e of n)l&&l!==e.id&&this._addChatCompletion(d(this,r,"m",o).call(this)),d(this,r,"m",s).call(this,e),l=e.id;if(n.controller.signal?.aborted)throw new u.APIUserAbortError;return this._addChatCompletion(d(this,r,"m",o).call(this))}[(n=new WeakMap,r=new WeakSet,i=function(){this.ended||p(this,n,void 0,"f")},s=function(e){if(this.ended)return;const t=d(this,r,"m",l).call(this,e);this._emit("chunk",e,t);const a=e.choices[0]?.delta?.content,n=t.choices[0]?.message;null!=a&&"assistant"===n?.role&&n?.content&&this._emit("content",a,n.content)},o=function(){if(this.ended)throw new u.OpenAIError("stream has ended, this shouldn't happen");const e=d(this,n,"f");if(!e)throw new u.OpenAIError("request ended without sending any chunks");return p(this,n,void 0,"f"),function(e){const{id:t,choices:a,created:r,model:n,system_fingerprint:i,...s}=e;return{...s,id:t,choices:a.map((({message:t,finish_reason:a,index:r,logprobs:n,...i})=>{if(!a)throw new u.OpenAIError(`missing finish_reason for choice ${r}`);const{content:s=null,function_call:o,tool_calls:l,...d}=t,p=t.role;if(!p)throw new u.OpenAIError(`missing role for choice ${r}`);if(o){const{arguments:e,name:t}=o;if(null==e)throw new u.OpenAIError(`missing function_call.arguments for choice ${r}`);if(!t)throw new u.OpenAIError(`missing function_call.name for choice ${r}`);return{...i,message:{content:s,function_call:{arguments:e,name:t},role:p},finish_reason:a,index:r,logprobs:n}}return l?{...i,index:r,finish_reason:a,logprobs:n,message:{...d,role:p,content:s,tool_calls:l.map(((t,a)=>{const{function:n,type:i,id:s,...o}=t,{arguments:l,name:d,...p}=n||{};if(null==s)throw new u.OpenAIError(`missing choices[${r}].tool_calls[${a}].id\n${f(e)}`);if(null==i)throw new u.OpenAIError(`missing choices[${r}].tool_calls[${a}].type\n${f(e)}`);if(null==d)throw new u.OpenAIError(`missing choices[${r}].tool_calls[${a}].function.name\n${f(e)}`);if(null==l)throw new u.OpenAIError(`missing choices[${r}].tool_calls[${a}].function.arguments\n${f(e)}`);return{...o,id:s,type:i,function:{...p,name:d,arguments:l}}}))}}:{...i,message:{...d,content:s,role:p},finish_reason:a,index:r,logprobs:n}})),created:r,model:n,object:"chat.completion",...i?{system_fingerprint:i}:{}}}(e)},l=function(e){var t,a,r;let i=d(this,n,"f");const{choices:s,...o}=e;i?Object.assign(i,o):i=p(this,n,{...o,choices:[]},"f");for(const{delta:n,finish_reason:s,index:o,logprobs:l=null,...d}of e.choices){let e=i.choices[o];if(e||(e=i.choices[o]={finish_reason:s,index:o,message:{},logprobs:l,...d}),l)if(e.logprobs){const{content:a,...r}=l;Object.assign(e.logprobs,r),a&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...a))}else e.logprobs=Object.assign({},l);if(s&&(e.finish_reason=s),Object.assign(e,d),!n)continue;const{content:p,function_call:u,role:c,tool_calls:m,...h}=n;if(Object.assign(e.message,h),p&&(e.message.content=(e.message.content||"")+p),c&&(e.message.role=c),u&&(e.message.function_call?(u.name&&(e.message.function_call.name=u.name),u.arguments&&((a=e.message.function_call).arguments??(a.arguments=""),e.message.function_call.arguments+=u.arguments)):e.message.function_call=u),m){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:a,type:n,function:i,...s}of m){const o=(r=e.message.tool_calls)[t]??(r[t]={});Object.assign(o,s),a&&(o.id=a),n&&(o.type=n),i&&(o.function??(o.function={arguments:""})),i?.name&&(o.function.name=i.name),i?.arguments&&(o.function.arguments+=i.arguments)}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let a=!1;return this.on("chunk",(a=>{const r=t.shift();r?r.resolve(a):e.push(a)})),this.on("end",(()=>{a=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{a=!0;for(const a of t)a.reject(e);t.length=0})),this.on("error",(e=>{a=!0;for(const a of t)a.reject(e);t.length=0})),{next:async()=>e.length?{value:e.shift(),done:!1}:a?{value:void 0,done:!0}:new Promise(((e,a)=>t.push({resolve:e,reject:a}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0})),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new m.Stream(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function f(e){return JSON.stringify(e)}t.ChatCompletionStream=h},67730:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChatCompletionStreamingRunner=void 0;const r=a(95126);class n extends r.ChatCompletionStream{static fromReadableStream(e){const t=new n;return t._run((()=>t._fromReadableStream(e))),t}static runFunctions(e,t,a){const r=new n,i={...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"runFunctions"}};return r._run((()=>r._runFunctions(e,t,i))),r}static runTools(e,t,a){const r=new n,i={...a,headers:{...a?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,i))),r}}t.ChatCompletionStreamingRunner=n},64691:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParsingToolFunction=t.ParsingFunction=t.isRunnableFunctionWithParse=void 0,t.isRunnableFunctionWithParse=function(e){return"function"==typeof e.parse},t.ParsingFunction=class{constructor(e){this.function=e.function,this.parse=e.parse,this.parameters=e.parameters,this.description=e.description,this.name=e.name}},t.ParsingToolFunction=class{constructor(e){this.type="function",this.function=e}}},73346:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.allSettledWithThrow=void 0,t.allSettledWithThrow=async e=>{const t=await Promise.allSettled(e),a=t.filter((e=>"rejected"===e.status));if(a.length){for(const e of a)console.error(e.reason);throw new Error(`${a.length} promise(s) failed - see the above errors`)}const r=[];for(const e of t)"fulfilled"===e.status&&r.push(e.value);return r}},46289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isPresent=t.isToolMessage=t.isFunctionMessage=t.isAssistantMessage=void 0,t.isAssistantMessage=e=>"assistant"===e?.role,t.isFunctionMessage=e=>"function"===e?.role,t.isToolMessage=e=>"tool"===e?.role,t.isPresent=function(e){return null!=e}},2510:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CursorPage=t.Page=void 0;const r=a(88757);class n extends r.AbstractPage{constructor(e,t,a,r){super(e,t,a,r),this.data=a.data||[],this.object=a.object}getPaginatedItems(){return this.data??[]}nextPageParams(){return null}nextPageInfo(){return null}}t.Page=n;class i extends r.AbstractPage{constructor(e,t,a,r){super(e,t,a,r),this.data=a.data||[]}getPaginatedItems(){return this.data??[]}nextPageParams(){const e=this.nextPageInfo();if(!e)return null;if("params"in e)return e.params;const t=Object.fromEntries(e.url.searchParams);return Object.keys(t).length?t:null}nextPageInfo(){const e=this.getPaginatedItems();if(!e.length)return null;const t=e[e.length-1]?.id;return t?{params:{after:t}}:null}}t.CursorPage=i},32802:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.APIResource=void 0,t.APIResource=class{constructor(e){this._client=e}}},1253:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Audio=void 0;const s=a(32802),o=i(a(5113)),l=i(a(33694)),d=i(a(17655));class p extends s.APIResource{constructor(){super(...arguments),this.transcriptions=new l.Transcriptions(this._client),this.translations=new d.Translations(this._client),this.speech=new o.Speech(this._client)}}t.Audio=p,function(e){e.Transcriptions=l.Transcriptions,e.Translations=d.Translations,e.Speech=o.Speech}(p=t.Audio||(t.Audio={}))},5113:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Speech=void 0;const r=a(32802);class n extends r.APIResource{create(e,t){return this._client.post("/audio/speech",{body:e,...t,__binaryResponse:!0})}}t.Speech=n,n=t.Speech||(t.Speech={})},33694:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Transcriptions=void 0;const r=a(32802),n=a(88757);class i extends r.APIResource{create(e,t){return this._client.post("/audio/transcriptions",(0,n.multipartFormRequestOptions)({body:e,...t}))}}t.Transcriptions=i,i=t.Transcriptions||(t.Transcriptions={})},17655:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const r=a(32802),n=a(88757);class i extends r.APIResource{create(e,t){return this._client.post("/audio/translations",(0,n.multipartFormRequestOptions)({body:e,...t}))}}t.Translations=i,i=t.Translations||(t.Translations={})},32530:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.BatchesPage=t.Batches=void 0;const s=a(32802),o=a(88757),l=i(a(32530)),d=a(2510);class p extends s.APIResource{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/batches/${e}`,t)}list(e={},t){return(0,o.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/batches",u,{query:e,...t})}cancel(e,t){return this._client.post(`/batches/${e}/cancel`,t)}}t.Batches=p;class u extends d.CursorPage{}t.BatchesPage=u,function(e){e.BatchesPage=l.BatchesPage}(p=t.Batches||(t.Batches={}))},92964:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AssistantsPage=t.Assistants=void 0;const s=a(32802),o=a(88757),l=i(a(92964)),d=a(2510);class p extends s.APIResource{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,a){return this._client.post(`/assistants/${e}`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e={},t){return(0,o.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/assistants",u,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/assistants/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}t.Assistants=p;class u extends d.CursorPage{}t.AssistantsPage=u,function(e){e.AssistantsPage=l.AssistantsPage}(p=t.Assistants||(t.Assistants={}))},6183:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Beta=void 0;const s=a(32802),o=i(a(92964)),l=i(a(41356)),d=i(a(2682)),p=i(a(97734));class u extends s.APIResource{constructor(){super(...arguments),this.vectorStores=new p.VectorStores(this._client),this.chat=new l.Chat(this._client),this.assistants=new o.Assistants(this._client),this.threads=new d.Threads(this._client)}}t.Beta=u,function(e){e.VectorStores=p.VectorStores,e.VectorStoresPage=p.VectorStoresPage,e.Chat=l.Chat,e.Assistants=o.Assistants,e.AssistantsPage=o.AssistantsPage,e.Threads=d.Threads}(u=t.Beta||(t.Beta={}))},41356:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const s=a(32802),o=i(a(68111));class l extends s.APIResource{constructor(){super(...arguments),this.completions=new o.Completions(this._client)}}t.Chat=l,function(e){e.Completions=o.Completions}(l=t.Chat||(t.Chat={}))},68111:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=t.ChatCompletionStream=t.ParsingToolFunction=t.ParsingFunction=t.ChatCompletionStreamingRunner=t.ChatCompletionRunner=void 0;const r=a(32802),n=a(44648);var i=a(44648);Object.defineProperty(t,"ChatCompletionRunner",{enumerable:!0,get:function(){return i.ChatCompletionRunner}});const s=a(67730);var o=a(67730);Object.defineProperty(t,"ChatCompletionStreamingRunner",{enumerable:!0,get:function(){return o.ChatCompletionStreamingRunner}});var l=a(64691);Object.defineProperty(t,"ParsingFunction",{enumerable:!0,get:function(){return l.ParsingFunction}}),Object.defineProperty(t,"ParsingToolFunction",{enumerable:!0,get:function(){return l.ParsingToolFunction}});const d=a(95126);var p=a(95126);Object.defineProperty(t,"ChatCompletionStream",{enumerable:!0,get:function(){return p.ChatCompletionStream}});class u extends r.APIResource{runFunctions(e,t){return e.stream?s.ChatCompletionStreamingRunner.runFunctions(this._client.chat.completions,e,t):n.ChatCompletionRunner.runFunctions(this._client.chat.completions,e,t)}runTools(e,t){return e.stream?s.ChatCompletionStreamingRunner.runTools(this._client.chat.completions,e,t):n.ChatCompletionRunner.runTools(this._client.chat.completions,e,t)}stream(e,t){return d.ChatCompletionStream.createChatCompletion(this._client.chat.completions,e,t)}}t.Completions=u},96059:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.MessagesPage=t.Messages=void 0;const s=a(32802),o=a(88757),l=i(a(96059)),d=a(2510);class p extends s.APIResource{create(e,t,a){return this._client.post(`/threads/${e}/messages`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}retrieve(e,t,a){return this._client.get(`/threads/${e}/messages/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}update(e,t,a,r){return this._client.post(`/threads/${e}/messages/${t}`,{body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},a){return(0,o.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/messages`,u,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}del(e,t,a){return this._client.delete(`/threads/${e}/messages/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}}t.Messages=p;class u extends d.CursorPage{}t.MessagesPage=u,function(e){e.MessagesPage=l.MessagesPage}(p=t.Messages||(t.Messages={}))},41946:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RunsPage=t.Runs=void 0;const s=a(32802),o=a(88757),l=a(18868),d=a(88757),p=i(a(41946)),u=i(a(57733)),c=a(2510);class m extends s.APIResource{constructor(){super(...arguments),this.steps=new u.Steps(this._client)}create(e,t,a){return this._client.post(`/threads/${e}/runs`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers},stream:t.stream??!1})}retrieve(e,t,a){return this._client.get(`/threads/${e}/runs/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}update(e,t,a,r){return this._client.post(`/threads/${e}/runs/${t}`,{body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t={},a){return(0,o.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/threads/${e}/runs`,h,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}cancel(e,t,a){return this._client.post(`/threads/${e}/runs/${t}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}async createAndPoll(e,t,a){const r=await this.create(e,t,a);return await this.poll(e,r.id,a)}createAndStream(e,t,a){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,a)}async poll(e,t,a){const r={...a?.headers,"X-Stainless-Poll-Helper":"true"};for(a?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:n,response:i}=await this.retrieve(e,t,{...a,headers:{...a?.headers,...r}}).withResponse();switch(n.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(a?.pollIntervalMs)e=a.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const a=parseInt(t);isNaN(a)||(e=a)}}await(0,d.sleep)(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return n}}}stream(e,t,a){return l.AssistantStream.createAssistantStream(e,this._client.beta.threads.runs,t,a)}submitToolOutputs(e,t,a,r){return this._client.post(`/threads/${e}/runs/${t}/submit_tool_outputs`,{body:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers},stream:a.stream??!1})}async submitToolOutputsAndPoll(e,t,a,r){const n=await this.submitToolOutputs(e,t,a,r);return await this.poll(e,n.id,r)}submitToolOutputsStream(e,t,a,r){return l.AssistantStream.createToolAssistantStream(e,t,this._client.beta.threads.runs,a,r)}}t.Runs=m;class h extends c.CursorPage{}t.RunsPage=h,function(e){e.RunsPage=p.RunsPage,e.Steps=u.Steps,e.RunStepsPage=u.RunStepsPage}(m=t.Runs||(t.Runs={}))},57733:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.RunStepsPage=t.Steps=void 0;const s=a(32802),o=a(88757),l=i(a(57733)),d=a(2510);class p extends s.APIResource{retrieve(e,t,a,r){return this._client.get(`/threads/${e}/runs/${t}/steps/${a}`,{...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}list(e,t,a={},r){return(0,o.isRequestOptions)(a)?this.list(e,t,{},a):this._client.getAPIList(`/threads/${e}/runs/${t}/steps`,u,{query:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}}t.Steps=p;class u extends d.CursorPage{}t.RunStepsPage=u,function(e){e.RunStepsPage=l.RunStepsPage}(p=t.Steps||(t.Steps={}))},2682:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Threads=void 0;const s=a(32802),o=a(88757),l=a(18868),d=i(a(96059)),p=i(a(41946));class u extends s.APIResource{constructor(){super(...arguments),this.runs=new p.Runs(this._client),this.messages=new d.Messages(this._client)}create(e={},t){return(0,o.isRequestOptions)(e)?this.create({},e):this._client.post("/threads",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,a){return this._client.post(`/threads/${e}`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}del(e,t){return this._client.delete(`/threads/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers},stream:e.stream??!1})}async createAndRunPoll(e,t){const a=await this.createAndRun(e,t);return await this.runs.poll(a.thread_id,a.id,t)}createAndRunStream(e,t){return l.AssistantStream.createThreadAssistantStream(e,this._client.beta.threads,t)}}t.Threads=u,function(e){e.Runs=p.Runs,e.RunsPage=p.RunsPage,e.Messages=d.Messages,e.MessagesPage=d.MessagesPage}(u=t.Threads||(t.Threads={}))},33159:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoreFilesPage=t.FileBatches=void 0;const r=a(32802),n=a(88757),i=a(88757),s=a(73346),o=a(44113);Object.defineProperty(t,"VectorStoreFilesPage",{enumerable:!0,get:function(){return o.VectorStoreFilesPage}});class l extends r.APIResource{create(e,t,a){return this._client.post(`/vector_stores/${e}/file_batches`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}retrieve(e,t,a){return this._client.get(`/vector_stores/${e}/file_batches/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}cancel(e,t,a){return this._client.post(`/vector_stores/${e}/file_batches/${t}/cancel`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}async createAndPoll(e,t,a){const r=await this.create(e,t);return await this.poll(e,r.id,a)}listFiles(e,t,a={},r){return(0,n.isRequestOptions)(a)?this.listFiles(e,t,{},a):this._client.getAPIList(`/vector_stores/${e}/file_batches/${t}/files`,o.VectorStoreFilesPage,{query:a,...r,headers:{"OpenAI-Beta":"assistants=v2",...r?.headers}})}async poll(e,t,a){const r={...a?.headers,"X-Stainless-Poll-Helper":"true"};for(a?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const{data:n,response:s}=await this.retrieve(e,t,{...a,headers:r}).withResponse();switch(n.status){case"in_progress":let e=5e3;if(a?.pollIntervalMs)e=a.pollIntervalMs;else{const t=s.headers.get("openai-poll-after-ms");if(t){const a=parseInt(t);isNaN(a)||(e=a)}}await(0,i.sleep)(e);break;case"failed":case"cancelled":case"completed":return n}}}async uploadAndPoll(e,{files:t,fileIds:a=[]},r){if(null===t||0==t.length)throw new Error("No files provided to process.");const n=r?.maxConcurrency??5,i=Math.min(n,t.length),o=this._client,l=t.values(),d=[...a],p=Array(i).fill(l).map((async function(e){for(let t of e){const e=await o.files.create({file:t,purpose:"assistants"},r);d.push(e.id)}}));return await(0,s.allSettledWithThrow)(p),await this.createAndPoll(e,{file_ids:d})}}t.FileBatches=l,l=t.FileBatches||(t.FileBatches={})},44113:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoreFilesPage=t.Files=void 0;const s=a(32802),o=a(88757),l=a(88757),d=i(a(44113)),p=a(2510);class u extends s.APIResource{create(e,t,a){return this._client.post(`/vector_stores/${e}/files`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}retrieve(e,t,a){return this._client.get(`/vector_stores/${e}/files/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e,t={},a){return(0,o.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/vector_stores/${e}/files`,c,{query:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}del(e,t,a){return this._client.delete(`/vector_stores/${e}/files/${t}`,{...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}async createAndPoll(e,t,a){const r=await this.create(e,t,a);return await this.poll(e,r.id,a)}async poll(e,t,a){const r={...a?.headers,"X-Stainless-Poll-Helper":"true"};for(a?.pollIntervalMs&&(r["X-Stainless-Custom-Poll-Interval"]=a.pollIntervalMs.toString());;){const n=await this.retrieve(e,t,{...a,headers:r}).withResponse(),i=n.data;switch(i.status){case"in_progress":let e=5e3;if(a?.pollIntervalMs)e=a.pollIntervalMs;else{const t=n.response.headers.get("openai-poll-after-ms");if(t){const a=parseInt(t);isNaN(a)||(e=a)}}await(0,l.sleep)(e);break;case"failed":case"completed":return i}}}async upload(e,t,a){const r=await this._client.files.create({file:t,purpose:"assistants"},a);return this.create(e,{file_id:r.id},a)}async uploadAndPoll(e,t,a){const r=await this.upload(e,t,a);return await this.poll(e,r.id,a)}}t.Files=u;class c extends p.CursorPage{}t.VectorStoreFilesPage=c,function(e){e.VectorStoreFilesPage=d.VectorStoreFilesPage}(u=t.Files||(t.Files={}))},97734:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.VectorStoresPage=t.VectorStores=void 0;const s=a(32802),o=a(88757),l=i(a(97734)),d=i(a(33159)),p=i(a(44113)),u=a(2510);class c extends s.APIResource{constructor(){super(...arguments),this.files=new p.Files(this._client),this.fileBatches=new d.FileBatches(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}retrieve(e,t){return this._client.get(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}update(e,t,a){return this._client.post(`/vector_stores/${e}`,{body:t,...a,headers:{"OpenAI-Beta":"assistants=v2",...a?.headers}})}list(e={},t){return(0,o.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/vector_stores",m,{query:e,...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}del(e,t){return this._client.delete(`/vector_stores/${e}`,{...t,headers:{"OpenAI-Beta":"assistants=v2",...t?.headers}})}}t.VectorStores=c;class m extends u.CursorPage{}t.VectorStoresPage=m,function(e){e.VectorStoresPage=l.VectorStoresPage,e.Files=p.Files,e.VectorStoreFilesPage=p.VectorStoreFilesPage,e.FileBatches=d.FileBatches}(c=t.VectorStores||(t.VectorStores={}))},76111:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=void 0;const s=a(32802),o=i(a(96374));class l extends s.APIResource{constructor(){super(...arguments),this.completions=new o.Completions(this._client)}}t.Chat=l,function(e){e.Completions=o.Completions}(l=t.Chat||(t.Chat={}))},96374:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=a(32802);class n extends r.APIResource{create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=n,n=t.Completions||(t.Completions={})},7949:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Chat=t.Completions=void 0;var r=a(96374);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return r.Completions}});var n=a(76111);Object.defineProperty(t,"Chat",{enumerable:!0,get:function(){return n.Chat}})},79045:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Completions=void 0;const r=a(32802);class n extends r.APIResource{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}t.Completions=n,n=t.Completions||(t.Completions={})},1242:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Embeddings=void 0;const r=a(32802);class n extends r.APIResource{create(e,t){return this._client.post("/embeddings",{body:e,...t})}}t.Embeddings=n,n=t.Embeddings||(t.Embeddings={})},61461:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FileObjectsPage=t.Files=void 0;const s=a(32802),o=a(88757),l=a(88757),d=a(89526),p=i(a(61461)),u=a(88757),c=a(2510);class m extends s.APIResource{create(e,t){return this._client.post("/files",(0,u.multipartFormRequestOptions)({body:e,...t}))}retrieve(e,t){return this._client.get(`/files/${e}`,t)}list(e={},t){return(0,o.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/files",h,{query:e,...t})}del(e,t){return this._client.delete(`/files/${e}`,t)}content(e,t){return this._client.get(`/files/${e}/content`,{...t,__binaryResponse:!0})}retrieveContent(e,t){return this._client.get(`/files/${e}/content`,{...t,headers:{Accept:"application/json",...t?.headers}})}async waitForProcessing(e,{pollInterval:t=5e3,maxWait:a=18e5}={}){const r=new Set(["processed","error","deleted"]),n=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await(0,l.sleep)(t),i=await this.retrieve(e),Date.now()-n>a)throw new d.APIConnectionTimeoutError({message:`Giving up on waiting for file ${e} to finish processing after ${a} milliseconds.`});return i}}t.Files=m;class h extends c.Page{}t.FileObjectsPage=h,function(e){e.FileObjectsPage=p.FileObjectsPage}(m=t.Files||(t.Files={}))},33453:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuning=void 0;const s=a(32802),o=i(a(71718));class l extends s.APIResource{constructor(){super(...arguments),this.jobs=new o.Jobs(this._client)}}t.FineTuning=l,function(e){e.Jobs=o.Jobs,e.FineTuningJobsPage=o.FineTuningJobsPage,e.FineTuningJobEventsPage=o.FineTuningJobEventsPage}(l=t.FineTuning||(t.FineTuning={}))},33955:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuningJobCheckpointsPage=t.Checkpoints=void 0;const s=a(32802),o=a(88757),l=i(a(33955)),d=a(2510);class p extends s.APIResource{list(e,t={},a){return(0,o.isRequestOptions)(t)?this.list(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/checkpoints`,u,{query:t,...a})}}t.Checkpoints=p;class u extends d.CursorPage{}t.FineTuningJobCheckpointsPage=u,function(e){e.FineTuningJobCheckpointsPage=l.FineTuningJobCheckpointsPage}(p=t.Checkpoints||(t.Checkpoints={}))},71718:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.FineTuningJobEventsPage=t.FineTuningJobsPage=t.Jobs=void 0;const s=a(32802),o=a(88757),l=i(a(71718)),d=i(a(33955)),p=a(2510);class u extends s.APIResource{constructor(){super(...arguments),this.checkpoints=new d.Checkpoints(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(`/fine_tuning/jobs/${e}`,t)}list(e={},t){return(0,o.isRequestOptions)(e)?this.list({},e):this._client.getAPIList("/fine_tuning/jobs",c,{query:e,...t})}cancel(e,t){return this._client.post(`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e,t={},a){return(0,o.isRequestOptions)(t)?this.listEvents(e,{},t):this._client.getAPIList(`/fine_tuning/jobs/${e}/events`,m,{query:t,...a})}}t.Jobs=u;class c extends p.CursorPage{}t.FineTuningJobsPage=c;class m extends p.CursorPage{}t.FineTuningJobEventsPage=m,function(e){e.FineTuningJobsPage=l.FineTuningJobsPage,e.FineTuningJobEventsPage=l.FineTuningJobEventsPage,e.Checkpoints=d.Checkpoints,e.FineTuningJobCheckpointsPage=d.FineTuningJobCheckpointsPage}(u=t.Jobs||(t.Jobs={}))},87370:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Images=void 0;const r=a(32802),n=a(88757);class i extends r.APIResource{createVariation(e,t){return this._client.post("/images/variations",(0,n.multipartFormRequestOptions)({body:e,...t}))}edit(e,t){return this._client.post("/images/edits",(0,n.multipartFormRequestOptions)({body:e,...t}))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}t.Images=i,i=t.Images||(t.Images={})},33946:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=t.Models=t.ModelsPage=t.Images=t.FineTuning=t.Files=t.FileObjectsPage=t.Embeddings=t.Completions=t.Beta=t.Batches=t.BatchesPage=t.Audio=void 0,n(a(7949),t),n(a(55653),t);var i=a(1253);Object.defineProperty(t,"Audio",{enumerable:!0,get:function(){return i.Audio}});var s=a(32530);Object.defineProperty(t,"BatchesPage",{enumerable:!0,get:function(){return s.BatchesPage}}),Object.defineProperty(t,"Batches",{enumerable:!0,get:function(){return s.Batches}});var o=a(6183);Object.defineProperty(t,"Beta",{enumerable:!0,get:function(){return o.Beta}});var l=a(79045);Object.defineProperty(t,"Completions",{enumerable:!0,get:function(){return l.Completions}});var d=a(1242);Object.defineProperty(t,"Embeddings",{enumerable:!0,get:function(){return d.Embeddings}});var p=a(61461);Object.defineProperty(t,"FileObjectsPage",{enumerable:!0,get:function(){return p.FileObjectsPage}}),Object.defineProperty(t,"Files",{enumerable:!0,get:function(){return p.Files}});var u=a(33453);Object.defineProperty(t,"FineTuning",{enumerable:!0,get:function(){return u.FineTuning}});var c=a(87370);Object.defineProperty(t,"Images",{enumerable:!0,get:function(){return c.Images}});var m=a(99458);Object.defineProperty(t,"ModelsPage",{enumerable:!0,get:function(){return m.ModelsPage}}),Object.defineProperty(t,"Models",{enumerable:!0,get:function(){return m.Models}});var h=a(24975);Object.defineProperty(t,"Moderations",{enumerable:!0,get:function(){return h.Moderations}})},99458:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),i=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var a in e)"default"!==a&&Object.prototype.hasOwnProperty.call(e,a)&&r(t,e,a);return n(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ModelsPage=t.Models=void 0;const s=a(32802),o=i(a(99458)),l=a(2510);class d extends s.APIResource{retrieve(e,t){return this._client.get(`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",p,e)}del(e,t){return this._client.delete(`/models/${e}`,t)}}t.Models=d;class p extends l.Page{}t.ModelsPage=p,function(e){e.ModelsPage=o.ModelsPage}(d=t.Models||(t.Models={}))},24975:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Moderations=void 0;const r=a(32802);class n extends r.APIResource{create(e,t){return this._client.post("/moderations",{body:e,...t})}}t.Moderations=n,n=t.Moderations||(t.Moderations={})},55653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},6716:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readableStreamAsyncIterable=t._decodeChunks=t._iterSSEMessages=t.Stream=void 0;const r=a(12212),n=a(89526),i=a(89526);class s{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let a=!1;return new s((async function*(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let r=!1;try{for await(const a of o(e,t))if(!r)if(a.data.startsWith("[DONE]"))r=!0;else if(null===a.event){let e;try{e=JSON.parse(a.data)}catch(e){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),e}if(e&&e.error)throw new i.APIError(void 0,e.error,void 0,void 0);yield e}else{let e;try{e=JSON.parse(a.data)}catch(e){throw console.error("Could not parse message into JSON:",a.data),console.error("From chunk:",a.raw),e}if("error"==a.event)throw new i.APIError(void 0,e.error,e.message,void 0);yield{event:a.event,data:e}}r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let a=!1;return new s((async function*(){if(a)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");a=!0;let r=!1;try{for await(const t of async function*(){const t=new p,a=u(e);for await(const e of a)for(const a of t.decode(e))yield a;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;throw e}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],a=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=a.next();e.push(r),t.push(r)}return r.shift()}});return[new s((()=>r(e)),this.controller),new s((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const a=new TextEncoder;return new r.ReadableStream({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:n}=await t.next();if(n)return e.close();const i=a.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(t){e.error(t)}},async cancel(){await(t.return?.())}})}}async function*o(e,t){if(!e.body)throw t.abort(),new n.OpenAIError("Attempted to iterate over a response with no body");const a=new d,r=new p,i=u(e.body);for await(const e of async function*(e){let t=new Uint8Array;for await(const a of e){if(null==a)continue;const e=a instanceof ArrayBuffer?new Uint8Array(a):"string"==typeof a?(new TextEncoder).encode(a):a;let r,n=new Uint8Array(t.length+e.length);for(n.set(t),n.set(e,t.length),t=n;-1!==(r=l(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(i))for(const t of r.decode(e)){const e=a.decode(t);e&&(yield e)}for(const e of r.flush()){const t=a.decode(e);t&&(yield t)}}function l(e){for(let t=0;t<e.length-2;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}t.Stream=s,t._iterSSEMessages=o;class d{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,a,r]=function(e,t){const a=e.indexOf(":");return-1!==a?[e.substring(0,a),":",e.substring(a+1)]:[e,"",""]}(e);return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class p{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const a=p.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(p.NEWLINE_REGEXP);return a&&r.pop(),1!==r.length||a?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),a||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"==typeof e)return e;if("undefined"!=typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new n.OpenAIError(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!=typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new n.OpenAIError(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new n.OpenAIError("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function u(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(e){throw t.releaseLock(),e}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}p.NEWLINE_CHARS=new Set(["\n","\r"]),p.NEWLINE_REGEXP=/\r\n|[\n\r]/g,t._decodeChunks=function(e){const t=new p,a=[];for(const r of e)a.push(...t.decode(r));return a},t.readableStreamAsyncIterable=u},64042:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createForm=t.multipartFormRequestOptions=t.maybeMultipartFormRequestOptions=t.isMultipartBody=t.toFile=t.isUploadable=t.isBlobLike=t.isFileLike=t.isResponseLike=t.fileFromPath=void 0;const r=a(12212);var n=a(12212);async function i(e,a,n){if(e=await e,n??(n=(0,t.isFileLike)(e)?{lastModified:e.lastModified,type:e.type}:{}),(0,t.isResponseLike)(e)){const t=await e.blob();return a||(a=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file"),new r.File([t],a,n)}const i=await async function(e){let a=[];if("string"==typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)a.push(e);else if((0,t.isBlobLike)(e))a.push(await e.arrayBuffer());else{if(!o(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){return`[${Object.getOwnPropertyNames(e).map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const t of e)a.push(t)}return a}(e);if(a||(a=function(e){return s(e.name)||s(e.filename)||s(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n.type){const e=i[0]?.type;"string"==typeof e&&(n={...n,type:e})}return new r.File(i,a,n)}Object.defineProperty(t,"fileFromPath",{enumerable:!0,get:function(){return n.fileFromPath}}),t.isResponseLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.url&&"function"==typeof e.blob,t.isFileLike=e=>null!=e&&"object"==typeof e&&"string"==typeof e.name&&"number"==typeof e.lastModified&&(0,t.isBlobLike)(e),t.isBlobLike=e=>null!=e&&"object"==typeof e&&"number"==typeof e.size&&"string"==typeof e.type&&"function"==typeof e.text&&"function"==typeof e.slice&&"function"==typeof e.arrayBuffer,t.isUploadable=e=>(0,t.isFileLike)(e)||(0,t.isResponseLike)(e)||(0,r.isFsReadStream)(e),t.toFile=i;const s=e=>"string"==typeof e?e:"undefined"!=typeof Buffer&&e instanceof Buffer?String(e):void 0,o=e=>null!=e&&"object"==typeof e&&"function"==typeof e[Symbol.asyncIterator];t.isMultipartBody=e=>e&&"object"==typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],t.maybeMultipartFormRequestOptions=async e=>{if(!l(e.body))return e;const a=await(0,t.createForm)(e.body);return(0,r.getMultipartRequestOptions)(a,e)},t.multipartFormRequestOptions=async e=>{const a=await(0,t.createForm)(e.body);return(0,r.getMultipartRequestOptions)(a,e)},t.createForm=async e=>{const t=new r.FormData;return await Promise.all(Object.entries(e||{}).map((([e,a])=>d(t,e,a)))),t};const l=e=>{if((0,t.isUploadable)(e))return!0;if(Array.isArray(e))return e.some(l);if(e&&"object"==typeof e)for(const t in e)if(l(e[t]))return!0;return!1},d=async(e,a,r)=>{if(void 0!==r){if(null==r)throw new TypeError(`Received null for "${a}"; to pass null in FormData, you must use the string 'null'`);if("string"==typeof r||"number"==typeof r||"boolean"==typeof r)e.append(a,String(r));else if((0,t.isUploadable)(r)){const t=await i(r);e.append(a,t)}else if(Array.isArray(r))await Promise.all(r.map((t=>d(e,a+"[]",t))));else{if("object"!=typeof r)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`);await Promise.all(Object.entries(r).map((([t,r])=>d(e,`${a}[${t}]`,r))))}}}},35392:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VERSION=void 0,t.VERSION="4.51.0"},92626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDefaultOptions=t.defaultOptions=t.ignoreOverride=void 0,t.ignoreOverride=Symbol("Let zodToJsonSchema decide on which parser to use"),t.defaultOptions={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},t.getDefaultOptions=e=>"string"==typeof e?{...t.defaultOptions,name:e}:{...t.defaultOptions,...e}},11076:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRefs=void 0;const r=a(92626);t.getRefs=e=>{const t=(0,r.getDefaultOptions)(e),a=void 0!==t.name?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:a,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map((([e,a])=>[a._def,{def:a._def,path:[...t.basePath,t.definitionPath,e],jsonSchema:void 0}])))}}},98950:(e,t)=>{"use strict";function a(e,t,a,r){r?.errorMessages&&a&&(e.errorMessage={...e.errorMessage,[t]:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.setResponseValueAndErrors=t.addErrorMessage=void 0,t.addErrorMessage=a,t.setResponseValueAndErrors=function(e,t,r,n,i){e[t]=r,a(e,t,n,i)}},39340:function(e,t,a){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,a,r){void 0===r&&(r=a);var n=Object.getOwnPropertyDescriptor(t,a);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[a]}}),Object.defineProperty(e,r,n)}:function(e,t,a,r){void 0===r&&(r=a),e[r]=t[a]}),n=this&&this.__exportStar||function(e,t){for(var a in e)"default"===a||Object.prototype.hasOwnProperty.call(t,a)||r(t,e,a)};Object.defineProperty(t,"__esModule",{value:!0}),n(a(92626),t),n(a(11076),t),n(a(98950),t),n(a(73524),t),n(a(62909),t),n(a(98598),t),n(a(87236),t),n(a(28147),t),n(a(46163),t),n(a(16260),t),n(a(85187),t),n(a(29606),t),n(a(68385),t),n(a(76750),t),n(a(40686),t),n(a(34836),t),n(a(39137),t),n(a(96773),t),n(a(63237),t),n(a(37294),t),n(a(41854),t),n(a(31114),t),n(a(46172),t),n(a(65867),t),n(a(79225),t),n(a(93858),t),n(a(89729),t),n(a(87054),t),n(a(34519),t),n(a(73178),t),n(a(22793),t),n(a(97987),t),n(a(78348),t),n(a(95973),t),n(a(34633),t);const i=a(34633);t.default=i.zodToJsonSchema},73524:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDef=void 0;const r=a(21614),n=a(62909),i=a(98598),s=a(87236),o=a(28147),l=a(46163),d=a(16260),p=a(85187),u=a(29606),c=a(68385),m=a(76750),h=a(40686),f=a(34836),b=a(39137),g=a(96773),v=a(63237),y=a(37294),_=a(41854),w=a(31114),P=a(46172),O=a(65867),T=a(79225),A=a(93858),S=a(87054),C=a(34519),E=a(73178),I=a(22793),k=a(97987),R=a(78348),j=a(95973),x=a(89729),N=a(92626);function M(e,t,a=!1){const r=t.seen.get(e);if(t.override){const n=t.override?.(e,t,r,a);if(n!==N.ignoreOverride)return n}if(r&&!a){const e=D(r,t);if(void 0!==e)return e}const n={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,n);const i=$(e,e.typeName,t);return i&&F(e,t,i),n.jsonSchema=i,i}t.parseDef=M;const D=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:L(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every(((e,a)=>t.currentPath[a]===e))?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):"seen"===t.$refStrategy?{}:void 0}},L=(e,t)=>{let a=0;for(;a<e.length&&a<t.length&&e[a]===t[a];a++);return[(e.length-a).toString(),...t.slice(a)].join("/")},$=(e,t,a)=>{switch(t){case r.ZodFirstPartyTypeKind.ZodString:return(0,E.parseStringDef)(e,a);case r.ZodFirstPartyTypeKind.ZodNumber:return(0,w.parseNumberDef)(e,a);case r.ZodFirstPartyTypeKind.ZodObject:return(0,P.parseObjectDef)(e,a);case r.ZodFirstPartyTypeKind.ZodBigInt:return(0,s.parseBigintDef)(e,a);case r.ZodFirstPartyTypeKind.ZodBoolean:return(0,o.parseBooleanDef)();case r.ZodFirstPartyTypeKind.ZodDate:return(0,p.parseDateDef)(e,a);case r.ZodFirstPartyTypeKind.ZodUndefined:return(0,k.parseUndefinedDef)();case r.ZodFirstPartyTypeKind.ZodNull:return(0,y.parseNullDef)(a);case r.ZodFirstPartyTypeKind.ZodArray:return(0,i.parseArrayDef)(e,a);case r.ZodFirstPartyTypeKind.ZodUnion:case r.ZodFirstPartyTypeKind.ZodDiscriminatedUnion:return(0,R.parseUnionDef)(e,a);case r.ZodFirstPartyTypeKind.ZodIntersection:return(0,h.parseIntersectionDef)(e,a);case r.ZodFirstPartyTypeKind.ZodTuple:return(0,I.parseTupleDef)(e,a);case r.ZodFirstPartyTypeKind.ZodRecord:return(0,S.parseRecordDef)(e,a);case r.ZodFirstPartyTypeKind.ZodLiteral:return(0,f.parseLiteralDef)(e,a);case r.ZodFirstPartyTypeKind.ZodEnum:return(0,m.parseEnumDef)(e);case r.ZodFirstPartyTypeKind.ZodNativeEnum:return(0,g.parseNativeEnumDef)(e);case r.ZodFirstPartyTypeKind.ZodNullable:return(0,_.parseNullableDef)(e,a);case r.ZodFirstPartyTypeKind.ZodOptional:return(0,O.parseOptionalDef)(e,a);case r.ZodFirstPartyTypeKind.ZodMap:return(0,b.parseMapDef)(e,a);case r.ZodFirstPartyTypeKind.ZodSet:return(0,C.parseSetDef)(e,a);case r.ZodFirstPartyTypeKind.ZodLazy:return M(e.getter()._def,a);case r.ZodFirstPartyTypeKind.ZodPromise:return(0,A.parsePromiseDef)(e,a);case r.ZodFirstPartyTypeKind.ZodNaN:case r.ZodFirstPartyTypeKind.ZodNever:return(0,v.parseNeverDef)();case r.ZodFirstPartyTypeKind.ZodEffects:return(0,c.parseEffectsDef)(e,a);case r.ZodFirstPartyTypeKind.ZodAny:return(0,n.parseAnyDef)();case r.ZodFirstPartyTypeKind.ZodUnknown:return(0,j.parseUnknownDef)();case r.ZodFirstPartyTypeKind.ZodDefault:return(0,u.parseDefaultDef)(e,a);case r.ZodFirstPartyTypeKind.ZodBranded:return(0,l.parseBrandedDef)(e,a);case r.ZodFirstPartyTypeKind.ZodReadonly:return(0,x.parseReadonlyDef)(e,a);case r.ZodFirstPartyTypeKind.ZodCatch:return(0,d.parseCatchDef)(e,a);case r.ZodFirstPartyTypeKind.ZodPipeline:return(0,T.parsePipelineDef)(e,a);case r.ZodFirstPartyTypeKind.ZodFunction:case r.ZodFirstPartyTypeKind.ZodVoid:case r.ZodFirstPartyTypeKind.ZodSymbol:default:return}},F=(e,t,a)=>(e.description&&(a.description=e.description,t.markdownDescription&&(a.markdownDescription=e.description)),a)},62909:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseAnyDef=void 0,t.parseAnyDef=function(){return{}}},98598:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseArrayDef=void 0;const r=a(21614),n=a(98950),i=a(73524);t.parseArrayDef=function(e,t){const a={type:"array"};return e.type?._def?.typeName!==r.ZodFirstPartyTypeKind.ZodAny&&(a.items=(0,i.parseDef)(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&(0,n.setResponseValueAndErrors)(a,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&(0,n.setResponseValueAndErrors)(a,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&((0,n.setResponseValueAndErrors)(a,"minItems",e.exactLength.value,e.exactLength.message,t),(0,n.setResponseValueAndErrors)(a,"maxItems",e.exactLength.value,e.exactLength.message,t)),a}},87236:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBigintDef=void 0;const r=a(98950);t.parseBigintDef=function(e,t){const a={type:"integer",format:"int64"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"min":"jsonSchema7"===t.target?n.inclusive?(0,r.setResponseValueAndErrors)(a,"minimum",n.value,n.message,t):(0,r.setResponseValueAndErrors)(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),(0,r.setResponseValueAndErrors)(a,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?(0,r.setResponseValueAndErrors)(a,"maximum",n.value,n.message,t):(0,r.setResponseValueAndErrors)(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),(0,r.setResponseValueAndErrors)(a,"maximum",n.value,n.message,t));break;case"multipleOf":(0,r.setResponseValueAndErrors)(a,"multipleOf",n.value,n.message,t)}return a}},28147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBooleanDef=void 0,t.parseBooleanDef=function(){return{type:"boolean"}}},46163:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseBrandedDef=void 0;const r=a(73524);t.parseBrandedDef=function(e,t){return(0,r.parseDef)(e.type._def,t)}},16260:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseCatchDef=void 0;const r=a(73524);t.parseCatchDef=(e,t)=>(0,r.parseDef)(e.innerType._def,t)},85187:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDateDef=void 0;const r=a(98950);t.parseDateDef=function e(t,a,r){const i=r??a.dateStrategy;if(Array.isArray(i))return{anyOf:i.map(((r,n)=>e(t,a,r)))};switch(i){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return n(t,a)}};const n=(e,t)=>{const a={type:"integer",format:"unix-time"};if("openApi3"===t.target)return a;for(const n of e.checks)switch(n.kind){case"min":(0,r.setResponseValueAndErrors)(a,"minimum",n.value,n.message,t);break;case"max":(0,r.setResponseValueAndErrors)(a,"maximum",n.value,n.message,t)}return a}},29606:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseDefaultDef=void 0;const r=a(73524);t.parseDefaultDef=function(e,t){return{...(0,r.parseDef)(e.innerType._def,t),default:e.defaultValue()}}},68385:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEffectsDef=void 0;const r=a(73524);t.parseEffectsDef=function(e,t){return"input"===t.effectStrategy?(0,r.parseDef)(e.schema._def,t):{}}},76750:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseEnumDef=void 0,t.parseEnumDef=function(e){return{type:"string",enum:e.values}}},40686:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseIntersectionDef=void 0;const r=a(73524);t.parseIntersectionDef=function(e,t){const a=[(0,r.parseDef)(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),(0,r.parseDef)(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter((e=>!!e));let n="jsonSchema2019-09"===t.target?{unevaluatedProperties:!1}:void 0;const i=[];return a.forEach((e=>{if("type"in(t=e)&&"string"===t.type||!("allOf"in t)){let t=e;if("additionalProperties"in e&&!1===e.additionalProperties){const{additionalProperties:a,...r}=e;t=r}else n=void 0;i.push(t)}else i.push(...e.allOf),void 0===e.unevaluatedProperties&&(n=void 0);var t})),i.length?{allOf:i,...n}:void 0}},34836:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseLiteralDef=void 0,t.parseLiteralDef=function(e,t){const a=typeof e.value;return"bigint"!==a&&"number"!==a&&"boolean"!==a&&"string"!==a?{type:Array.isArray(e.value)?"array":"object"}:"openApi3"===t.target?{type:"bigint"===a?"integer":a,enum:[e.value]}:{type:"bigint"===a?"integer":a,const:e.value}}},39137:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseMapDef=void 0;const r=a(73524),n=a(87054);t.parseMapDef=function(e,t){return"record"===t.mapStrategy?(0,n.parseRecordDef)(e,t):{type:"array",maxItems:125,items:{type:"array",items:[(0,r.parseDef)(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},(0,r.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{}],minItems:2,maxItems:2}}}},96773:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNativeEnumDef=void 0,t.parseNativeEnumDef=function(e){const t=e.values,a=Object.keys(e.values).filter((e=>"number"!=typeof t[t[e]])).map((e=>t[e])),r=Array.from(new Set(a.map((e=>typeof e))));return{type:1===r.length?"string"===r[0]?"string":"number":["string","number"],enum:a}}},63237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNeverDef=void 0,t.parseNeverDef=function(){return{not:{}}}},37294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullDef=void 0,t.parseNullDef=function(e){return"openApi3"===e.target?{enum:["null"],nullable:!0}:{type:"null"}}},41854:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNullableDef=void 0;const r=a(73524),n=a(78348);t.parseNullableDef=function(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return"openApi3"===t.target?{type:n.primitiveMappings[e.innerType._def.typeName],nullable:!0}:{type:[n.primitiveMappings[e.innerType._def.typeName],"null"]};if("openApi3"===t.target){const a=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath]});return a&&"$ref"in a?{allOf:[a],nullable:!0}:a&&{...a,nullable:!0}}const a=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return a&&{anyOf:[a,{type:"null"}]}}},31114:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseNumberDef=void 0;const r=a(98950);t.parseNumberDef=function(e,t){const a={type:"number"};if(!e.checks)return a;for(const n of e.checks)switch(n.kind){case"int":a.type="integer",(0,r.addErrorMessage)(a,"type",n.message,t);break;case"min":"jsonSchema7"===t.target?n.inclusive?(0,r.setResponseValueAndErrors)(a,"minimum",n.value,n.message,t):(0,r.setResponseValueAndErrors)(a,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(a.exclusiveMinimum=!0),(0,r.setResponseValueAndErrors)(a,"minimum",n.value,n.message,t));break;case"max":"jsonSchema7"===t.target?n.inclusive?(0,r.setResponseValueAndErrors)(a,"maximum",n.value,n.message,t):(0,r.setResponseValueAndErrors)(a,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(a.exclusiveMaximum=!0),(0,r.setResponseValueAndErrors)(a,"maximum",n.value,n.message,t));break;case"multipleOf":(0,r.setResponseValueAndErrors)(a,"multipleOf",n.value,n.message,t)}return a}},46172:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseObjectDef=t.parseObjectDefX=void 0;const r=a(73524);function n(e,t){return"strict"===t.removeAdditionalStrategy?"ZodNever"===e.catchall._def.typeName?"strict"!==e.unknownKeys:(0,r.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:"ZodNever"===e.catchall._def.typeName?"passthrough"===e.unknownKeys:(0,r.parseDef)(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}t.parseObjectDefX=function(e,t){Object.keys(e.shape()).reduce(((a,n)=>{let i=e.shape()[n];const s=i.isOptional();s||(i={...i._def.innerSchema});const o=(0,r.parseDef)(i._def,{...t,currentPath:[...t.currentPath,"properties",n],propertyPath:[...t.currentPath,"properties",n]});return void 0!==o&&(a.properties[n]=o,s||(a.required||(a.required=[]),a.required.push(n))),a}),{type:"object",properties:{},additionalProperties:n(e,t)});const a={type:"object",...Object.entries(e.shape()).reduce(((e,[a,n])=>{if(void 0===n||void 0===n._def)return e;const i=(0,r.parseDef)(n._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});return void 0===i?e:{properties:{...e.properties,[a]:i},required:n.isOptional()?e.required:[...e.required,a]}}),{properties:{},required:[]}),additionalProperties:n(e,t)};return a.required.length||delete a.required,a},t.parseObjectDef=function(e,t){const a={type:"object",...Object.entries(e.shape()).reduce(((e,[a,n])=>{if(void 0===n||void 0===n._def)return e;const i=(0,r.parseDef)(n._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});return void 0===i?e:{properties:{...e.properties,[a]:i},required:n.isOptional()?e.required:[...e.required,a]}}),{properties:{},required:[]}),additionalProperties:n(e,t)};return a.required.length||delete a.required,a}},65867:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseOptionalDef=void 0;const r=a(73524);t.parseOptionalDef=(e,t)=>{if(t.currentPath.toString()===t.propertyPath?.toString())return(0,r.parseDef)(e.innerType._def,t);const a=(0,r.parseDef)(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return a?{anyOf:[{not:{}},a]}:{}}},79225:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePipelineDef=void 0;const r=a(73524);t.parsePipelineDef=(e,t)=>{if("input"===t.pipeStrategy)return(0,r.parseDef)(e.in._def,t);if("output"===t.pipeStrategy)return(0,r.parseDef)(e.out._def,t);const a=(0,r.parseDef)(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]});return{allOf:[a,(0,r.parseDef)(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",a?"1":"0"]})].filter((e=>void 0!==e))}}},93858:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parsePromiseDef=void 0;const r=a(73524);t.parsePromiseDef=function(e,t){return(0,r.parseDef)(e.type._def,t)}},89729:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseReadonlyDef=void 0;const r=a(73524);t.parseReadonlyDef=(e,t)=>(0,r.parseDef)(e.innerType._def,t)},87054:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRecordDef=void 0;const r=a(21614),n=a(73524),i=a(73178);t.parseRecordDef=function(e,t){if("openApi3"===t.target&&e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce(((a,r)=>({...a,[r]:(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",r]})??{}})),{}),additionalProperties:!1};const a={type:"object",additionalProperties:(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if("openApi3"===t.target)return a;if(e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodString&&e.keyType._def.checks?.length){const r=Object.entries((0,i.parseStringDef)(e.keyType._def,t)).reduce(((e,[t,a])=>"type"===t?e:{...e,[t]:a}),{});return{...a,propertyNames:r}}return e.keyType?._def.typeName===r.ZodFirstPartyTypeKind.ZodEnum?{...a,propertyNames:{enum:e.keyType._def.values}}:a}},34519:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseSetDef=void 0;const r=a(98950),n=a(73524);t.parseSetDef=function(e,t){const a={type:"array",uniqueItems:!0,items:(0,n.parseDef)(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&(0,r.setResponseValueAndErrors)(a,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&(0,r.setResponseValueAndErrors)(a,"maxItems",e.maxSize.value,e.maxSize.message,t),a}},73178:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseStringDef=t.zodPatterns=void 0;const r=a(98950);t.zodPatterns={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u"),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/},t.parseStringDef=function(e,a){const o={type:"string"};function l(e){return"escape"===a.patternStrategy?n(e):e}if(e.checks)for(const n of e.checks)switch(n.kind){case"min":(0,r.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,n.value):n.value,n.message,a);break;case"max":(0,r.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,n.value):n.value,n.message,a);break;case"email":switch(a.emailStrategy){case"format:email":i(o,"email",n.message,a);break;case"format:idn-email":i(o,"idn-email",n.message,a);break;case"pattern:zod":s(o,t.zodPatterns.email,n.message,a)}break;case"url":i(o,"uri",n.message,a);break;case"uuid":i(o,"uuid",n.message,a);break;case"regex":s(o,n.regex,n.message,a);break;case"cuid":s(o,t.zodPatterns.cuid,n.message,a);break;case"cuid2":s(o,t.zodPatterns.cuid2,n.message,a);break;case"startsWith":s(o,RegExp(`^${l(n.value)}`),n.message,a);break;case"endsWith":s(o,RegExp(`${l(n.value)}$`),n.message,a);break;case"datetime":i(o,"date-time",n.message,a);break;case"date":i(o,"date",n.message,a);break;case"time":i(o,"time",n.message,a);break;case"duration":i(o,"duration",n.message,a);break;case"length":(0,r.setResponseValueAndErrors)(o,"minLength","number"==typeof o.minLength?Math.max(o.minLength,n.value):n.value,n.message,a),(0,r.setResponseValueAndErrors)(o,"maxLength","number"==typeof o.maxLength?Math.min(o.maxLength,n.value):n.value,n.message,a);break;case"includes":s(o,RegExp(l(n.value)),n.message,a);break;case"ip":"v6"!==n.version&&i(o,"ipv4",n.message,a),"v4"!==n.version&&i(o,"ipv6",n.message,a);break;case"emoji":s(o,t.zodPatterns.emoji,n.message,a);break;case"ulid":s(o,t.zodPatterns.ulid,n.message,a);break;case"base64":switch(a.base64Strategy){case"format:binary":i(o,"binary",n.message,a);break;case"contentEncoding:base64":(0,r.setResponseValueAndErrors)(o,"contentEncoding","base64",n.message,a);break;case"pattern:zod":s(o,t.zodPatterns.base64,n.message,a)}break;case"nanoid":s(o,t.zodPatterns.nanoid,n.message,a)}return o};const n=e=>Array.from(e).map((e=>/[a-zA-Z0-9]/.test(e)?e:`\\${e}`)).join(""),i=(e,t,a,n)=>{e.format||e.anyOf?.some((e=>e.format))?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.anyOf.push({format:t,...a&&n.errorMessages&&{errorMessage:{format:a}}})):(0,r.setResponseValueAndErrors)(e,"format",t,a,n)},s=(e,t,a,n)=>{e.pattern||e.allOf?.some((e=>e.pattern))?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,0===Object.keys(e.errorMessage).length&&delete e.errorMessage)),e.allOf.push({pattern:o(t,n),...a&&n.errorMessages&&{errorMessage:{pattern:a}}})):(0,r.setResponseValueAndErrors)(e,"pattern",o(t,n),a,n)},o=(e,t)=>{if(!t.applyRegexFlags||!e.flags)return e.source;const a=e.flags.includes("i"),r=e.flags.includes("m"),n=e.flags.includes("s"),i=a?e.source.toLowerCase():e.source;let s="",o=!1,l=!1,d=!1;for(let e=0;e<i.length;e++)if(o)s+=i[e],o=!1;else{if(a)if(l){if(i[e].match(/[a-z]/)){d?(s+=i[e],s+=`${i[e-2]}-${i[e]}`.toUpperCase(),d=!1):"-"===i[e+1]&&i[e+2]?.match(/[a-z]/)?(s+=i[e],d=!0):s+=`${i[e]}${i[e].toUpperCase()}`;continue}}else if(i[e].match(/[a-z]/)){s+=`[${i[e]}${i[e].toUpperCase()}]`;continue}if(r){if("^"===i[e]){s+="(^|(?<=[\r\n]))";continue}if("$"===i[e]){s+="($|(?=[\r\n]))";continue}}n&&"."===i[e]?s+=l?`${i[e]}\r\n`:`[${i[e]}\r\n]`:(s+=i[e],"\\"===i[e]?o=!0:l&&"]"===i[e]?l=!1:l||"["!==i[e]||(l=!0))}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}},22793:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseTupleDef=void 0;const r=a(73524);t.parseTupleDef=function(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map(((e,a)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${a}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[]),additionalItems:(0,r.parseDef)(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map(((e,a)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"items",`${a}`]}))).reduce(((e,t)=>void 0===t?e:[...e,t]),[])}}},97987:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUndefinedDef=void 0,t.parseUndefinedDef=function(){return{not:{}}}},78348:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnionDef=t.primitiveMappings=void 0;const r=a(73524);t.primitiveMappings={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"},t.parseUnionDef=function(e,a){if("openApi3"===a.target)return n(e,a);const r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every((e=>e._def.typeName in t.primitiveMappings&&(!e._def.checks||!e._def.checks.length)))){const e=r.reduce(((e,a)=>{const r=t.primitiveMappings[a._def.typeName];return r&&!e.includes(r)?[...e,r]:e}),[]);return{type:e.length>1?e:e[0]}}if(r.every((e=>"ZodLiteral"===e._def.typeName&&!e.description))){const e=r.reduce(((e,t)=>{const a=typeof t._def.value;switch(a){case"string":case"number":case"boolean":return[...e,a];case"bigint":return[...e,"integer"];case"object":if(null===t._def.value)return[...e,"null"];default:return e}}),[]);if(e.length===r.length){const t=e.filter(((e,t,a)=>a.indexOf(e)===t));return{type:t.length>1?t:t[0],enum:r.reduce(((e,t)=>e.includes(t._def.value)?e:[...e,t._def.value]),[])}}}else if(r.every((e=>"ZodEnum"===e._def.typeName)))return{type:"string",enum:r.reduce(((e,t)=>[...e,...t._def.values.filter((t=>!e.includes(t)))]),[])};return n(e,a)};const n=(e,t)=>{const a=(e.options instanceof Map?Array.from(e.options.values()):e.options).map(((e,a)=>(0,r.parseDef)(e._def,{...t,currentPath:[...t.currentPath,"anyOf",`${a}`]}))).filter((e=>!!e&&(!t.strictUnions||"object"==typeof e&&Object.keys(e).length>0)));return a.length?{anyOf:a}:void 0}},95973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseUnknownDef=void 0,t.parseUnknownDef=function(){return{}}},34633:(e,t,a)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.zodToJsonSchema=void 0;const r=a(73524),n=a(11076);t.zodToJsonSchema=(e,t)=>{const a=(0,n.getRefs)(t),i="object"==typeof t&&t.definitions?Object.entries(t.definitions).reduce(((e,[t,n])=>({...e,[t]:(0,r.parseDef)(n._def,{...a,currentPath:[...a.basePath,a.definitionPath,t]},!0)??{}})),{}):void 0,s="string"==typeof t?t:"title"===t?.nameStrategy?void 0:t?.name,o=(0,r.parseDef)(e._def,void 0===s?a:{...a,currentPath:[...a.basePath,a.definitionPath,s]},!1)??{},l="object"==typeof t&&void 0!==t.name&&"title"===t.nameStrategy?t.name:void 0;void 0!==l&&(o.title=l);const d=void 0===s?i?{...o,[a.definitionPath]:i}:o:{$ref:[..."relative"===a.$refStrategy?[]:a.basePath,a.definitionPath,s].join("/"),[a.definitionPath]:{...i,[s]:o}};return"jsonSchema7"===a.target?d.$schema="http://json-schema.org/draft-07/schema#":"jsonSchema2019-09"===a.target&&(d.$schema="https://json-schema.org/draft/2019-09/schema#"),d}},17645:(e,t,a)=>{"use strict";a.r(t),a.d(t,{AbortError:()=>W,FetchError:()=>m,Headers:()=>k,Request:()=>Z,Response:()=>$,default:()=>Q});var r=a(2203),n=a(58611),i=a(87016),s=a(53417),o=a(65692);const l=require("zlib"),d=r.Readable,p=Symbol("buffer"),u=Symbol("type");class c{constructor(){this[u]="";const e=arguments[0],t=arguments[1],a=[];let r=0;if(e){const t=e,n=Number(t.length);for(let e=0;e<n;e++){const n=t[e];let i;i=n instanceof Buffer?n:ArrayBuffer.isView(n)?Buffer.from(n.buffer,n.byteOffset,n.byteLength):n instanceof ArrayBuffer?Buffer.from(n):n instanceof c?n[p]:Buffer.from("string"==typeof n?n:String(n)),r+=i.length,a.push(i)}}this[p]=Buffer.concat(a);let n=t&&void 0!==t.type&&String(t.type).toLowerCase();n&&!/[^\u0020-\u007E]/.test(n)&&(this[u]=n)}get size(){return this[p].length}get type(){return this[u]}text(){return Promise.resolve(this[p].toString())}arrayBuffer(){const e=this[p],t=e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength);return Promise.resolve(t)}stream(){const e=new d;return e._read=function(){},e.push(this[p]),e.push(null),e}toString(){return"[object Blob]"}slice(){const e=this.size,t=arguments[0],a=arguments[1];let r,n;r=void 0===t?0:t<0?Math.max(e+t,0):Math.min(t,e),n=void 0===a?e:a<0?Math.max(e+a,0):Math.min(a,e);const i=Math.max(n-r,0),s=this[p].slice(r,r+i),o=new c([],{type:arguments[2]});return o[p]=s,o}}function m(e,t,a){Error.call(this,e),this.message=e,this.type=t,a&&(this.code=this.errno=a.code),Error.captureStackTrace(this,this.constructor)}let h;Object.defineProperties(c.prototype,{size:{enumerable:!0},type:{enumerable:!0},slice:{enumerable:!0}}),Object.defineProperty(c.prototype,Symbol.toStringTag,{value:"Blob",writable:!1,enumerable:!1,configurable:!0}),m.prototype=Object.create(Error.prototype),m.prototype.constructor=m,m.prototype.name="FetchError";try{h=require("encoding").convert}catch(e){}const f=Symbol("Body internals"),b=r.PassThrough;function g(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=a.size;let i=void 0===n?0:n;var s=a.timeout;let o=void 0===s?0:s;null==e?e=null:y(e)?e=Buffer.from(e.toString()):_(e)||Buffer.isBuffer(e)||("[object ArrayBuffer]"===Object.prototype.toString.call(e)?e=Buffer.from(e):ArrayBuffer.isView(e)?e=Buffer.from(e.buffer,e.byteOffset,e.byteLength):e instanceof r||(e=Buffer.from(String(e)))),this[f]={body:e,disturbed:!1,error:null},this.size=i,this.timeout=o,e instanceof r&&e.on("error",(function(e){const a="AbortError"===e.name?e:new m(`Invalid response body while trying to fetch ${t.url}: ${e.message}`,"system",e);t[f].error=a}))}function v(){var e=this;if(this[f].disturbed)return g.Promise.reject(new TypeError(`body used already for: ${this.url}`));if(this[f].disturbed=!0,this[f].error)return g.Promise.reject(this[f].error);let t=this.body;if(null===t)return g.Promise.resolve(Buffer.alloc(0));if(_(t)&&(t=t.stream()),Buffer.isBuffer(t))return g.Promise.resolve(t);if(!(t instanceof r))return g.Promise.resolve(Buffer.alloc(0));let a=[],n=0,i=!1;return new g.Promise((function(r,s){let o;e.timeout&&(o=setTimeout((function(){i=!0,s(new m(`Response timeout while trying to fetch ${e.url} (over ${e.timeout}ms)`,"body-timeout"))}),e.timeout)),t.on("error",(function(t){"AbortError"===t.name?(i=!0,s(t)):s(new m(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t))})),t.on("data",(function(t){if(!i&&null!==t){if(e.size&&n+t.length>e.size)return i=!0,void s(new m(`content size at ${e.url} over limit: ${e.size}`,"max-size"));n+=t.length,a.push(t)}})),t.on("end",(function(){if(!i){clearTimeout(o);try{r(Buffer.concat(a,n))}catch(t){s(new m(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t))}}}))}))}function y(e){return"object"==typeof e&&"function"==typeof e.append&&"function"==typeof e.delete&&"function"==typeof e.get&&"function"==typeof e.getAll&&"function"==typeof e.has&&"function"==typeof e.set&&("URLSearchParams"===e.constructor.name||"[object URLSearchParams]"===Object.prototype.toString.call(e)||"function"==typeof e.sort)}function _(e){return"object"==typeof e&&"function"==typeof e.arrayBuffer&&"string"==typeof e.type&&"function"==typeof e.stream&&"function"==typeof e.constructor&&"string"==typeof e.constructor.name&&/^(Blob|File)$/.test(e.constructor.name)&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}function w(e){let t,a,n=e.body;if(e.bodyUsed)throw new Error("cannot clone body after it is used");return n instanceof r&&"function"!=typeof n.getBoundary&&(t=new b,a=new b,n.pipe(t),n.pipe(a),e[f].body=t,n=a),n}function P(e){return null===e?null:"string"==typeof e?"text/plain;charset=UTF-8":y(e)?"application/x-www-form-urlencoded;charset=UTF-8":_(e)?e.type||null:Buffer.isBuffer(e)||"[object ArrayBuffer]"===Object.prototype.toString.call(e)||ArrayBuffer.isView(e)?null:"function"==typeof e.getBoundary?`multipart/form-data;boundary=${e.getBoundary()}`:e instanceof r?null:"text/plain;charset=UTF-8"}function O(e){const t=e.body;return null===t?0:_(t)?t.size:Buffer.isBuffer(t)?t.length:t&&"function"==typeof t.getLengthSync&&(t._lengthRetrievers&&0==t._lengthRetrievers.length||t.hasKnownLength&&t.hasKnownLength())?t.getLengthSync():null}g.prototype={get body(){return this[f].body},get bodyUsed(){return this[f].disturbed},arrayBuffer(){return v.call(this).then((function(e){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}))},blob(){let e=this.headers&&this.headers.get("content-type")||"";return v.call(this).then((function(t){return Object.assign(new c([],{type:e.toLowerCase()}),{[p]:t})}))},json(){var e=this;return v.call(this).then((function(t){try{return JSON.parse(t.toString())}catch(t){return g.Promise.reject(new m(`invalid json response body at ${e.url} reason: ${t.message}`,"invalid-json"))}}))},text(){return v.call(this).then((function(e){return e.toString()}))},buffer(){return v.call(this)},textConverted(){var e=this;return v.call(this).then((function(t){return function(e,t){if("function"!=typeof h)throw new Error("The package `encoding` must be installed to use the textConverted() function");const a=t.get("content-type");let r,n,i="utf-8";return a&&(r=/charset=([^;]*)/i.exec(a)),n=e.slice(0,1024).toString(),!r&&n&&(r=/<meta.+?charset=(['"])(.+?)\1/i.exec(n)),!r&&n&&(r=/<meta[\s]+?http-equiv=(['"])content-type\1[\s]+?content=(['"])(.+?)\2/i.exec(n),r||(r=/<meta[\s]+?content=(['"])(.+?)\1[\s]+?http-equiv=(['"])content-type\3/i.exec(n),r&&r.pop()),r&&(r=/charset=(.*)/i.exec(r.pop()))),!r&&n&&(r=/<\?xml.+?encoding=(['"])(.+?)\1/i.exec(n)),r&&(i=r.pop(),"gb2312"!==i&&"gbk"!==i||(i="gb18030")),h(e,"UTF-8",i).toString()}(t,e.headers)}))}},Object.defineProperties(g.prototype,{body:{enumerable:!0},bodyUsed:{enumerable:!0},arrayBuffer:{enumerable:!0},blob:{enumerable:!0},json:{enumerable:!0},text:{enumerable:!0}}),g.mixIn=function(e){for(const t of Object.getOwnPropertyNames(g.prototype))if(!(t in e)){const a=Object.getOwnPropertyDescriptor(g.prototype,t);Object.defineProperty(e,t,a)}},g.Promise=global.Promise;const T=/[^\^_`a-zA-Z\-0-9!#$%&'*+.|~]/,A=/[^\t\x20-\x7e\x80-\xff]/;function S(e){if(e=`${e}`,T.test(e)||""===e)throw new TypeError(`${e} is not a legal HTTP header name`)}function C(e){if(e=`${e}`,A.test(e))throw new TypeError(`${e} is not a legal HTTP header value`)}function E(e,t){t=t.toLowerCase();for(const a in e)if(a.toLowerCase()===t)return a}const I=Symbol("map");class k{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;if(this[I]=Object.create(null),e instanceof k){const t=e.raw(),a=Object.keys(t);for(const e of a)for(const a of t[e])this.append(e,a)}else if(null==e);else{if("object"!=typeof e)throw new TypeError("Provided initializer must be an object");{const t=e[Symbol.iterator];if(null!=t){if("function"!=typeof t)throw new TypeError("Header pairs must be iterable");const a=[];for(const t of e){if("object"!=typeof t||"function"!=typeof t[Symbol.iterator])throw new TypeError("Each header pair must be iterable");a.push(Array.from(t))}for(const e of a){if(2!==e.length)throw new TypeError("Each header pair must be a name/value tuple");this.append(e[0],e[1])}}else for(const t of Object.keys(e)){const a=e[t];this.append(t,a)}}}}get(e){S(e=`${e}`);const t=E(this[I],e);return void 0===t?null:this[I][t].join(", ")}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,a=R(this),r=0;for(;r<a.length;){var n=a[r];const i=n[0],s=n[1];e.call(t,s,i,this),a=R(this),r++}}set(e,t){t=`${t}`,S(e=`${e}`),C(t);const a=E(this[I],e);this[I][void 0!==a?a:e]=[t]}append(e,t){t=`${t}`,S(e=`${e}`),C(t);const a=E(this[I],e);void 0!==a?this[I][a].push(t):this[I][e]=[t]}has(e){return S(e=`${e}`),void 0!==E(this[I],e)}delete(e){S(e=`${e}`);const t=E(this[I],e);void 0!==t&&delete this[I][t]}raw(){return this[I]}keys(){return x(this,"key")}values(){return x(this,"value")}[Symbol.iterator](){return x(this,"key+value")}}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"key+value";return Object.keys(e[I]).sort().map("key"===t?function(e){return e.toLowerCase()}:"value"===t?function(t){return e[I][t].join(", ")}:function(t){return[t.toLowerCase(),e[I][t].join(", ")]})}k.prototype.entries=k.prototype[Symbol.iterator],Object.defineProperty(k.prototype,Symbol.toStringTag,{value:"Headers",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(k.prototype,{get:{enumerable:!0},forEach:{enumerable:!0},set:{enumerable:!0},append:{enumerable:!0},has:{enumerable:!0},delete:{enumerable:!0},keys:{enumerable:!0},values:{enumerable:!0},entries:{enumerable:!0}});const j=Symbol("internal");function x(e,t){const a=Object.create(N);return a[j]={target:e,kind:t,index:0},a}const N=Object.setPrototypeOf({next(){if(!this||Object.getPrototypeOf(this)!==N)throw new TypeError("Value of `this` is not a HeadersIterator");var e=this[j];const t=e.target,a=e.kind,r=e.index,n=R(t,a);return r>=n.length?{value:void 0,done:!0}:(this[j].index=r+1,{value:n[r],done:!1})}},Object.getPrototypeOf(Object.getPrototypeOf([][Symbol.iterator]())));function M(e){const t=Object.assign({__proto__:null},e[I]),a=E(e[I],"Host");return void 0!==a&&(t[a]=t[a][0]),t}Object.defineProperty(N,Symbol.toStringTag,{value:"HeadersIterator",writable:!1,enumerable:!1,configurable:!0});const D=Symbol("Response internals"),L=n.STATUS_CODES;class ${constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};g.call(this,e,t);const a=t.status||200,r=new k(t.headers);if(null!=e&&!r.has("Content-Type")){const t=P(e);t&&r.append("Content-Type",t)}this[D]={url:t.url,status:a,statusText:t.statusText||L[a],headers:r,counter:t.counter}}get url(){return this[D].url||""}get status(){return this[D].status}get ok(){return this[D].status>=200&&this[D].status<300}get redirected(){return this[D].counter>0}get statusText(){return this[D].statusText}get headers(){return this[D].headers}clone(){return new $(w(this),{url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected})}}g.mixIn($.prototype),Object.defineProperties($.prototype,{url:{enumerable:!0},status:{enumerable:!0},ok:{enumerable:!0},redirected:{enumerable:!0},statusText:{enumerable:!0},headers:{enumerable:!0},clone:{enumerable:!0}}),Object.defineProperty($.prototype,Symbol.toStringTag,{value:"Response",writable:!1,enumerable:!1,configurable:!0});const F=Symbol("Request internals"),q=i.URL||s.URL,V=i.parse,B=i.format;function z(e){return/^[a-zA-Z][a-zA-Z\d+\-.]*:/.exec(e)&&(e=new q(e).toString()),V(e)}const U="destroy"in r.Readable.prototype;function K(e){return"object"==typeof e&&"object"==typeof e[F]}class Z{constructor(e){let t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};K(e)?t=z(e.url):(t=e&&e.href?z(e.href):z(`${e}`),e={});let r=a.method||e.method||"GET";if(r=r.toUpperCase(),(null!=a.body||K(e)&&null!==e.body)&&("GET"===r||"HEAD"===r))throw new TypeError("Request with GET/HEAD method cannot have body");let n=null!=a.body?a.body:K(e)&&null!==e.body?w(e):null;g.call(this,n,{timeout:a.timeout||e.timeout||0,size:a.size||e.size||0});const i=new k(a.headers||e.headers||{});if(null!=n&&!i.has("Content-Type")){const e=P(n);e&&i.append("Content-Type",e)}let s=K(e)?e.signal:null;if("signal"in a&&(s=a.signal),null!=s&&!function(e){const t=e&&"object"==typeof e&&Object.getPrototypeOf(e);return!(!t||"AbortSignal"!==t.constructor.name)}(s))throw new TypeError("Expected signal to be an instanceof AbortSignal");this[F]={method:r,redirect:a.redirect||e.redirect||"follow",headers:i,parsedURL:t,signal:s},this.follow=void 0!==a.follow?a.follow:void 0!==e.follow?e.follow:20,this.compress=void 0!==a.compress?a.compress:void 0===e.compress||e.compress,this.counter=a.counter||e.counter||0,this.agent=a.agent||e.agent}get method(){return this[F].method}get url(){return B(this[F].parsedURL)}get headers(){return this[F].headers}get redirect(){return this[F].redirect}get signal(){return this[F].signal}clone(){return new Z(this)}}function W(e){Error.call(this,e),this.type="aborted",this.message=e,Error.captureStackTrace(this,this.constructor)}g.mixIn(Z.prototype),Object.defineProperty(Z.prototype,Symbol.toStringTag,{value:"Request",writable:!1,enumerable:!1,configurable:!0}),Object.defineProperties(Z.prototype,{method:{enumerable:!0},url:{enumerable:!0},headers:{enumerable:!0},redirect:{enumerable:!0},clone:{enumerable:!0},signal:{enumerable:!0}}),W.prototype=Object.create(Error.prototype),W.prototype.constructor=W,W.prototype.name="AbortError";const H=i.URL||s.URL,G=r.PassThrough;function J(e,t){if(!J.Promise)throw new Error("native promise missing, set fetch.Promise to your favorite alternative");return g.Promise=J.Promise,new J.Promise((function(a,i){const s=new Z(e,t),d=function(e){const t=e[F].parsedURL,a=new k(e[F].headers);if(a.has("Accept")||a.set("Accept","*/*"),!t.protocol||!t.hostname)throw new TypeError("Only absolute URLs are supported");if(!/^https?:$/.test(t.protocol))throw new TypeError("Only HTTP(S) protocols are supported");if(e.signal&&e.body instanceof r.Readable&&!U)throw new Error("Cancellation of streamed requests with AbortSignal is not supported in node < 8");let n=null;if(null==e.body&&/^(POST|PUT)$/i.test(e.method)&&(n="0"),null!=e.body){const t=O(e);"number"==typeof t&&(n=String(t))}n&&a.set("Content-Length",n),a.has("User-Agent")||a.set("User-Agent","node-fetch/1.0 (+https://github.com/bitinn/node-fetch)"),e.compress&&!a.has("Accept-Encoding")&&a.set("Accept-Encoding","gzip,deflate");let i=e.agent;return"function"==typeof i&&(i=i(t)),Object.assign({},t,{method:e.method,headers:M(a),agent:i})}(s),p=("https:"===d.protocol?o:n).request,u=s.signal;let c=null;const h=function(){let e=new W("The user aborted a request.");i(e),s.body&&s.body instanceof r.Readable&&Y(s.body,e),c&&c.body&&c.body.emit("error",e)};if(u&&u.aborted)return void h();const f=function(){h(),v()},b=p(d);let g;function v(){b.abort(),u&&u.removeEventListener("abort",f),clearTimeout(g)}u&&u.addEventListener("abort",f),s.timeout&&b.once("socket",(function(e){g=setTimeout((function(){i(new m(`network timeout at: ${s.url}`,"request-timeout")),v()}),s.timeout)})),b.on("error",(function(e){i(new m(`request to ${s.url} failed, reason: ${e.message}`,"system",e)),c&&c.body&&Y(c.body,e),v()})),function(e,t){let a;e.on("socket",(function(e){a=e})),e.on("response",(function(e){const r=e.headers;"chunked"!==r["transfer-encoding"]||r["content-length"]||e.once("close",(function(e){if(a&&a.listenerCount("data")>0&&!e){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",t(e)}}))}))}(b,(function(e){u&&u.aborted||c&&c.body&&Y(c.body,e)})),parseInt(process.version.substring(1))<14&&b.on("socket",(function(e){e.addListener("close",(function(t){const a=e.listenerCount("data")>0;if(c&&a&&!t&&(!u||!u.aborted)){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE",c.body.emit("error",e)}}))})),b.on("response",(function(e){clearTimeout(g);const t=function(e){const t=new k;for(const a of Object.keys(e))if(!T.test(a))if(Array.isArray(e[a]))for(const r of e[a])A.test(r)||(void 0===t[I][a]?t[I][a]=[r]:t[I][a].push(r));else A.test(e[a])||(t[I][a]=[e[a]]);return t}(e.headers);if(J.isRedirect(e.statusCode)){const n=t.get("Location");let o=null;try{o=null===n?null:new H(n,s.url).toString()}catch(e){if("manual"!==s.redirect)return i(new m(`uri requested responds with an invalid redirect URL: ${n}`,"invalid-redirect")),void v()}switch(s.redirect){case"error":return i(new m(`uri requested responds with a redirect, redirect mode is set to error: ${s.url}`,"no-redirect")),void v();case"manual":if(null!==o)try{t.set("Location",o)}catch(e){i(e)}break;case"follow":if(null===o)break;if(s.counter>=s.follow)return i(new m(`maximum redirect reached at: ${s.url}`,"max-redirect")),void v();const n={headers:new k(s.headers),follow:s.follow,counter:s.counter+1,agent:s.agent,compress:s.compress,method:s.method,body:s.body,signal:s.signal,timeout:s.timeout,size:s.size};if(!function(e,t){const a=new H(t).hostname,r=new H(e).hostname;return a===r||"."===a[a.length-r.length-1]&&a.endsWith(r)}(s.url,o)||(r=s.url,new H(o).protocol!==new H(r).protocol))for(const e of["authorization","www-authenticate","cookie","cookie2"])n.headers.delete(e);return 303!==e.statusCode&&s.body&&null===O(s)?(i(new m("Cannot follow redirect with body being a readable stream","unsupported-redirect")),void v()):(303!==e.statusCode&&(301!==e.statusCode&&302!==e.statusCode||"POST"!==s.method)||(n.method="GET",n.body=void 0,n.headers.delete("content-length")),a(J(new Z(o,n))),void v())}}var r;e.once("end",(function(){u&&u.removeEventListener("abort",f)}));let n=e.pipe(new G);const o={url:s.url,status:e.statusCode,statusText:e.statusMessage,headers:t,size:s.size,timeout:s.timeout,counter:s.counter},d=t.get("Content-Encoding");if(!s.compress||"HEAD"===s.method||null===d||204===e.statusCode||304===e.statusCode)return c=new $(n,o),void a(c);const p={flush:l.Z_SYNC_FLUSH,finishFlush:l.Z_SYNC_FLUSH};if("gzip"==d||"x-gzip"==d)return n=n.pipe(l.createGunzip(p)),c=new $(n,o),void a(c);if("deflate"==d||"x-deflate"==d){const t=e.pipe(new G);return t.once("data",(function(e){n=8==(15&e[0])?n.pipe(l.createInflate()):n.pipe(l.createInflateRaw()),c=new $(n,o),a(c)})),void t.on("end",(function(){c||(c=new $(n,o),a(c))}))}if("br"==d&&"function"==typeof l.createBrotliDecompress)return n=n.pipe(l.createBrotliDecompress()),c=new $(n,o),void a(c);c=new $(n,o),a(c)})),function(e,t){const a=t.body;null===a?e.end():_(a)?a.stream().pipe(e):Buffer.isBuffer(a)?(e.write(a),e.end()):a.pipe(e)}(b,s)}))}function Y(e,t){e.destroy?e.destroy(t):(e.emit("error",t),e.end())}J.isRedirect=function(e){return 301===e||302===e||303===e||307===e||308===e},J.Promise=global.Promise;const Q=J},92472:e=>{"use strict";e.exports=JSON.parse('[[[0,44],"disallowed_STD3_valid"],[[45,46],"valid"],[[47,47],"disallowed_STD3_valid"],[[48,57],"valid"],[[58,64],"disallowed_STD3_valid"],[[65,65],"mapped",[97]],[[66,66],"mapped",[98]],[[67,67],"mapped",[99]],[[68,68],"mapped",[100]],[[69,69],"mapped",[101]],[[70,70],"mapped",[102]],[[71,71],"mapped",[103]],[[72,72],"mapped",[104]],[[73,73],"mapped",[105]],[[74,74],"mapped",[106]],[[75,75],"mapped",[107]],[[76,76],"mapped",[108]],[[77,77],"mapped",[109]],[[78,78],"mapped",[110]],[[79,79],"mapped",[111]],[[80,80],"mapped",[112]],[[81,81],"mapped",[113]],[[82,82],"mapped",[114]],[[83,83],"mapped",[115]],[[84,84],"mapped",[116]],[[85,85],"mapped",[117]],[[86,86],"mapped",[118]],[[87,87],"mapped",[119]],[[88,88],"mapped",[120]],[[89,89],"mapped",[121]],[[90,90],"mapped",[122]],[[91,96],"disallowed_STD3_valid"],[[97,122],"valid"],[[123,127],"disallowed_STD3_valid"],[[128,159],"disallowed"],[[160,160],"disallowed_STD3_mapped",[32]],[[161,167],"valid",[],"NV8"],[[168,168],"disallowed_STD3_mapped",[32,776]],[[169,169],"valid",[],"NV8"],[[170,170],"mapped",[97]],[[171,172],"valid",[],"NV8"],[[173,173],"ignored"],[[174,174],"valid",[],"NV8"],[[175,175],"disallowed_STD3_mapped",[32,772]],[[176,177],"valid",[],"NV8"],[[178,178],"mapped",[50]],[[179,179],"mapped",[51]],[[180,180],"disallowed_STD3_mapped",[32,769]],[[181,181],"mapped",[956]],[[182,182],"valid",[],"NV8"],[[183,183],"valid"],[[184,184],"disallowed_STD3_mapped",[32,807]],[[185,185],"mapped",[49]],[[186,186],"mapped",[111]],[[187,187],"valid",[],"NV8"],[[188,188],"mapped",[49,8260,52]],[[189,189],"mapped",[49,8260,50]],[[190,190],"mapped",[51,8260,52]],[[191,191],"valid",[],"NV8"],[[192,192],"mapped",[224]],[[193,193],"mapped",[225]],[[194,194],"mapped",[226]],[[195,195],"mapped",[227]],[[196,196],"mapped",[228]],[[197,197],"mapped",[229]],[[198,198],"mapped",[230]],[[199,199],"mapped",[231]],[[200,200],"mapped",[232]],[[201,201],"mapped",[233]],[[202,202],"mapped",[234]],[[203,203],"mapped",[235]],[[204,204],"mapped",[236]],[[205,205],"mapped",[237]],[[206,206],"mapped",[238]],[[207,207],"mapped",[239]],[[208,208],"mapped",[240]],[[209,209],"mapped",[241]],[[210,210],"mapped",[242]],[[211,211],"mapped",[243]],[[212,212],"mapped",[244]],[[213,213],"mapped",[245]],[[214,214],"mapped",[246]],[[215,215],"valid",[],"NV8"],[[216,216],"mapped",[248]],[[217,217],"mapped",[249]],[[218,218],"mapped",[250]],[[219,219],"mapped",[251]],[[220,220],"mapped",[252]],[[221,221],"mapped",[253]],[[222,222],"mapped",[254]],[[223,223],"deviation",[115,115]],[[224,246],"valid"],[[247,247],"valid",[],"NV8"],[[248,255],"valid"],[[256,256],"mapped",[257]],[[257,257],"valid"],[[258,258],"mapped",[259]],[[259,259],"valid"],[[260,260],"mapped",[261]],[[261,261],"valid"],[[262,262],"mapped",[263]],[[263,263],"valid"],[[264,264],"mapped",[265]],[[265,265],"valid"],[[266,266],"mapped",[267]],[[267,267],"valid"],[[268,268],"mapped",[269]],[[269,269],"valid"],[[270,270],"mapped",[271]],[[271,271],"valid"],[[272,272],"mapped",[273]],[[273,273],"valid"],[[274,274],"mapped",[275]],[[275,275],"valid"],[[276,276],"mapped",[277]],[[277,277],"valid"],[[278,278],"mapped",[279]],[[279,279],"valid"],[[280,280],"mapped",[281]],[[281,281],"valid"],[[282,282],"mapped",[283]],[[283,283],"valid"],[[284,284],"mapped",[285]],[[285,285],"valid"],[[286,286],"mapped",[287]],[[287,287],"valid"],[[288,288],"mapped",[289]],[[289,289],"valid"],[[290,290],"mapped",[291]],[[291,291],"valid"],[[292,292],"mapped",[293]],[[293,293],"valid"],[[294,294],"mapped",[295]],[[295,295],"valid"],[[296,296],"mapped",[297]],[[297,297],"valid"],[[298,298],"mapped",[299]],[[299,299],"valid"],[[300,300],"mapped",[301]],[[301,301],"valid"],[[302,302],"mapped",[303]],[[303,303],"valid"],[[304,304],"mapped",[105,775]],[[305,305],"valid"],[[306,307],"mapped",[105,106]],[[308,308],"mapped",[309]],[[309,309],"valid"],[[310,310],"mapped",[311]],[[311,312],"valid"],[[313,313],"mapped",[314]],[[314,314],"valid"],[[315,315],"mapped",[316]],[[316,316],"valid"],[[317,317],"mapped",[318]],[[318,318],"valid"],[[319,320],"mapped",[108,183]],[[321,321],"mapped",[322]],[[322,322],"valid"],[[323,323],"mapped",[324]],[[324,324],"valid"],[[325,325],"mapped",[326]],[[326,326],"valid"],[[327,327],"mapped",[328]],[[328,328],"valid"],[[329,329],"mapped",[700,110]],[[330,330],"mapped",[331]],[[331,331],"valid"],[[332,332],"mapped",[333]],[[333,333],"valid"],[[334,334],"mapped",[335]],[[335,335],"valid"],[[336,336],"mapped",[337]],[[337,337],"valid"],[[338,338],"mapped",[339]],[[339,339],"valid"],[[340,340],"mapped",[341]],[[341,341],"valid"],[[342,342],"mapped",[343]],[[343,343],"valid"],[[344,344],"mapped",[345]],[[345,345],"valid"],[[346,346],"mapped",[347]],[[347,347],"valid"],[[348,348],"mapped",[349]],[[349,349],"valid"],[[350,350],"mapped",[351]],[[351,351],"valid"],[[352,352],"mapped",[353]],[[353,353],"valid"],[[354,354],"mapped",[355]],[[355,355],"valid"],[[356,356],"mapped",[357]],[[357,357],"valid"],[[358,358],"mapped",[359]],[[359,359],"valid"],[[360,360],"mapped",[361]],[[361,361],"valid"],[[362,362],"mapped",[363]],[[363,363],"valid"],[[364,364],"mapped",[365]],[[365,365],"valid"],[[366,366],"mapped",[367]],[[367,367],"valid"],[[368,368],"mapped",[369]],[[369,369],"valid"],[[370,370],"mapped",[371]],[[371,371],"valid"],[[372,372],"mapped",[373]],[[373,373],"valid"],[[374,374],"mapped",[375]],[[375,375],"valid"],[[376,376],"mapped",[255]],[[377,377],"mapped",[378]],[[378,378],"valid"],[[379,379],"mapped",[380]],[[380,380],"valid"],[[381,381],"mapped",[382]],[[382,382],"valid"],[[383,383],"mapped",[115]],[[384,384],"valid"],[[385,385],"mapped",[595]],[[386,386],"mapped",[387]],[[387,387],"valid"],[[388,388],"mapped",[389]],[[389,389],"valid"],[[390,390],"mapped",[596]],[[391,391],"mapped",[392]],[[392,392],"valid"],[[393,393],"mapped",[598]],[[394,394],"mapped",[599]],[[395,395],"mapped",[396]],[[396,397],"valid"],[[398,398],"mapped",[477]],[[399,399],"mapped",[601]],[[400,400],"mapped",[603]],[[401,401],"mapped",[402]],[[402,402],"valid"],[[403,403],"mapped",[608]],[[404,404],"mapped",[611]],[[405,405],"valid"],[[406,406],"mapped",[617]],[[407,407],"mapped",[616]],[[408,408],"mapped",[409]],[[409,411],"valid"],[[412,412],"mapped",[623]],[[413,413],"mapped",[626]],[[414,414],"valid"],[[415,415],"mapped",[629]],[[416,416],"mapped",[417]],[[417,417],"valid"],[[418,418],"mapped",[419]],[[419,419],"valid"],[[420,420],"mapped",[421]],[[421,421],"valid"],[[422,422],"mapped",[640]],[[423,423],"mapped",[424]],[[424,424],"valid"],[[425,425],"mapped",[643]],[[426,427],"valid"],[[428,428],"mapped",[429]],[[429,429],"valid"],[[430,430],"mapped",[648]],[[431,431],"mapped",[432]],[[432,432],"valid"],[[433,433],"mapped",[650]],[[434,434],"mapped",[651]],[[435,435],"mapped",[436]],[[436,436],"valid"],[[437,437],"mapped",[438]],[[438,438],"valid"],[[439,439],"mapped",[658]],[[440,440],"mapped",[441]],[[441,443],"valid"],[[444,444],"mapped",[445]],[[445,451],"valid"],[[452,454],"mapped",[100,382]],[[455,457],"mapped",[108,106]],[[458,460],"mapped",[110,106]],[[461,461],"mapped",[462]],[[462,462],"valid"],[[463,463],"mapped",[464]],[[464,464],"valid"],[[465,465],"mapped",[466]],[[466,466],"valid"],[[467,467],"mapped",[468]],[[468,468],"valid"],[[469,469],"mapped",[470]],[[470,470],"valid"],[[471,471],"mapped",[472]],[[472,472],"valid"],[[473,473],"mapped",[474]],[[474,474],"valid"],[[475,475],"mapped",[476]],[[476,477],"valid"],[[478,478],"mapped",[479]],[[479,479],"valid"],[[480,480],"mapped",[481]],[[481,481],"valid"],[[482,482],"mapped",[483]],[[483,483],"valid"],[[484,484],"mapped",[485]],[[485,485],"valid"],[[486,486],"mapped",[487]],[[487,487],"valid"],[[488,488],"mapped",[489]],[[489,489],"valid"],[[490,490],"mapped",[491]],[[491,491],"valid"],[[492,492],"mapped",[493]],[[493,493],"valid"],[[494,494],"mapped",[495]],[[495,496],"valid"],[[497,499],"mapped",[100,122]],[[500,500],"mapped",[501]],[[501,501],"valid"],[[502,502],"mapped",[405]],[[503,503],"mapped",[447]],[[504,504],"mapped",[505]],[[505,505],"valid"],[[506,506],"mapped",[507]],[[507,507],"valid"],[[508,508],"mapped",[509]],[[509,509],"valid"],[[510,510],"mapped",[511]],[[511,511],"valid"],[[512,512],"mapped",[513]],[[513,513],"valid"],[[514,514],"mapped",[515]],[[515,515],"valid"],[[516,516],"mapped",[517]],[[517,517],"valid"],[[518,518],"mapped",[519]],[[519,519],"valid"],[[520,520],"mapped",[521]],[[521,521],"valid"],[[522,522],"mapped",[523]],[[523,523],"valid"],[[524,524],"mapped",[525]],[[525,525],"valid"],[[526,526],"mapped",[527]],[[527,527],"valid"],[[528,528],"mapped",[529]],[[529,529],"valid"],[[530,530],"mapped",[531]],[[531,531],"valid"],[[532,532],"mapped",[533]],[[533,533],"valid"],[[534,534],"mapped",[535]],[[535,535],"valid"],[[536,536],"mapped",[537]],[[537,537],"valid"],[[538,538],"mapped",[539]],[[539,539],"valid"],[[540,540],"mapped",[541]],[[541,541],"valid"],[[542,542],"mapped",[543]],[[543,543],"valid"],[[544,544],"mapped",[414]],[[545,545],"valid"],[[546,546],"mapped",[547]],[[547,547],"valid"],[[548,548],"mapped",[549]],[[549,549],"valid"],[[550,550],"mapped",[551]],[[551,551],"valid"],[[552,552],"mapped",[553]],[[553,553],"valid"],[[554,554],"mapped",[555]],[[555,555],"valid"],[[556,556],"mapped",[557]],[[557,557],"valid"],[[558,558],"mapped",[559]],[[559,559],"valid"],[[560,560],"mapped",[561]],[[561,561],"valid"],[[562,562],"mapped",[563]],[[563,563],"valid"],[[564,566],"valid"],[[567,569],"valid"],[[570,570],"mapped",[11365]],[[571,571],"mapped",[572]],[[572,572],"valid"],[[573,573],"mapped",[410]],[[574,574],"mapped",[11366]],[[575,576],"valid"],[[577,577],"mapped",[578]],[[578,578],"valid"],[[579,579],"mapped",[384]],[[580,580],"mapped",[649]],[[581,581],"mapped",[652]],[[582,582],"mapped",[583]],[[583,583],"valid"],[[584,584],"mapped",[585]],[[585,585],"valid"],[[586,586],"mapped",[587]],[[587,587],"valid"],[[588,588],"mapped",[589]],[[589,589],"valid"],[[590,590],"mapped",[591]],[[591,591],"valid"],[[592,680],"valid"],[[681,685],"valid"],[[686,687],"valid"],[[688,688],"mapped",[104]],[[689,689],"mapped",[614]],[[690,690],"mapped",[106]],[[691,691],"mapped",[114]],[[692,692],"mapped",[633]],[[693,693],"mapped",[635]],[[694,694],"mapped",[641]],[[695,695],"mapped",[119]],[[696,696],"mapped",[121]],[[697,705],"valid"],[[706,709],"valid",[],"NV8"],[[710,721],"valid"],[[722,727],"valid",[],"NV8"],[[728,728],"disallowed_STD3_mapped",[32,774]],[[729,729],"disallowed_STD3_mapped",[32,775]],[[730,730],"disallowed_STD3_mapped",[32,778]],[[731,731],"disallowed_STD3_mapped",[32,808]],[[732,732],"disallowed_STD3_mapped",[32,771]],[[733,733],"disallowed_STD3_mapped",[32,779]],[[734,734],"valid",[],"NV8"],[[735,735],"valid",[],"NV8"],[[736,736],"mapped",[611]],[[737,737],"mapped",[108]],[[738,738],"mapped",[115]],[[739,739],"mapped",[120]],[[740,740],"mapped",[661]],[[741,745],"valid",[],"NV8"],[[746,747],"valid",[],"NV8"],[[748,748],"valid"],[[749,749],"valid",[],"NV8"],[[750,750],"valid"],[[751,767],"valid",[],"NV8"],[[768,831],"valid"],[[832,832],"mapped",[768]],[[833,833],"mapped",[769]],[[834,834],"valid"],[[835,835],"mapped",[787]],[[836,836],"mapped",[776,769]],[[837,837],"mapped",[953]],[[838,846],"valid"],[[847,847],"ignored"],[[848,855],"valid"],[[856,860],"valid"],[[861,863],"valid"],[[864,865],"valid"],[[866,866],"valid"],[[867,879],"valid"],[[880,880],"mapped",[881]],[[881,881],"valid"],[[882,882],"mapped",[883]],[[883,883],"valid"],[[884,884],"mapped",[697]],[[885,885],"valid"],[[886,886],"mapped",[887]],[[887,887],"valid"],[[888,889],"disallowed"],[[890,890],"disallowed_STD3_mapped",[32,953]],[[891,893],"valid"],[[894,894],"disallowed_STD3_mapped",[59]],[[895,895],"mapped",[1011]],[[896,899],"disallowed"],[[900,900],"disallowed_STD3_mapped",[32,769]],[[901,901],"disallowed_STD3_mapped",[32,776,769]],[[902,902],"mapped",[940]],[[903,903],"mapped",[183]],[[904,904],"mapped",[941]],[[905,905],"mapped",[942]],[[906,906],"mapped",[943]],[[907,907],"disallowed"],[[908,908],"mapped",[972]],[[909,909],"disallowed"],[[910,910],"mapped",[973]],[[911,911],"mapped",[974]],[[912,912],"valid"],[[913,913],"mapped",[945]],[[914,914],"mapped",[946]],[[915,915],"mapped",[947]],[[916,916],"mapped",[948]],[[917,917],"mapped",[949]],[[918,918],"mapped",[950]],[[919,919],"mapped",[951]],[[920,920],"mapped",[952]],[[921,921],"mapped",[953]],[[922,922],"mapped",[954]],[[923,923],"mapped",[955]],[[924,924],"mapped",[956]],[[925,925],"mapped",[957]],[[926,926],"mapped",[958]],[[927,927],"mapped",[959]],[[928,928],"mapped",[960]],[[929,929],"mapped",[961]],[[930,930],"disallowed"],[[931,931],"mapped",[963]],[[932,932],"mapped",[964]],[[933,933],"mapped",[965]],[[934,934],"mapped",[966]],[[935,935],"mapped",[967]],[[936,936],"mapped",[968]],[[937,937],"mapped",[969]],[[938,938],"mapped",[970]],[[939,939],"mapped",[971]],[[940,961],"valid"],[[962,962],"deviation",[963]],[[963,974],"valid"],[[975,975],"mapped",[983]],[[976,976],"mapped",[946]],[[977,977],"mapped",[952]],[[978,978],"mapped",[965]],[[979,979],"mapped",[973]],[[980,980],"mapped",[971]],[[981,981],"mapped",[966]],[[982,982],"mapped",[960]],[[983,983],"valid"],[[984,984],"mapped",[985]],[[985,985],"valid"],[[986,986],"mapped",[987]],[[987,987],"valid"],[[988,988],"mapped",[989]],[[989,989],"valid"],[[990,990],"mapped",[991]],[[991,991],"valid"],[[992,992],"mapped",[993]],[[993,993],"valid"],[[994,994],"mapped",[995]],[[995,995],"valid"],[[996,996],"mapped",[997]],[[997,997],"valid"],[[998,998],"mapped",[999]],[[999,999],"valid"],[[1000,1000],"mapped",[1001]],[[1001,1001],"valid"],[[1002,1002],"mapped",[1003]],[[1003,1003],"valid"],[[1004,1004],"mapped",[1005]],[[1005,1005],"valid"],[[1006,1006],"mapped",[1007]],[[1007,1007],"valid"],[[1008,1008],"mapped",[954]],[[1009,1009],"mapped",[961]],[[1010,1010],"mapped",[963]],[[1011,1011],"valid"],[[1012,1012],"mapped",[952]],[[1013,1013],"mapped",[949]],[[1014,1014],"valid",[],"NV8"],[[1015,1015],"mapped",[1016]],[[1016,1016],"valid"],[[1017,1017],"mapped",[963]],[[1018,1018],"mapped",[1019]],[[1019,1019],"valid"],[[1020,1020],"valid"],[[1021,1021],"mapped",[891]],[[1022,1022],"mapped",[892]],[[1023,1023],"mapped",[893]],[[1024,1024],"mapped",[1104]],[[1025,1025],"mapped",[1105]],[[1026,1026],"mapped",[1106]],[[1027,1027],"mapped",[1107]],[[1028,1028],"mapped",[1108]],[[1029,1029],"mapped",[1109]],[[1030,1030],"mapped",[1110]],[[1031,1031],"mapped",[1111]],[[1032,1032],"mapped",[1112]],[[1033,1033],"mapped",[1113]],[[1034,1034],"mapped",[1114]],[[1035,1035],"mapped",[1115]],[[1036,1036],"mapped",[1116]],[[1037,1037],"mapped",[1117]],[[1038,1038],"mapped",[1118]],[[1039,1039],"mapped",[1119]],[[1040,1040],"mapped",[1072]],[[1041,1041],"mapped",[1073]],[[1042,1042],"mapped",[1074]],[[1043,1043],"mapped",[1075]],[[1044,1044],"mapped",[1076]],[[1045,1045],"mapped",[1077]],[[1046,1046],"mapped",[1078]],[[1047,1047],"mapped",[1079]],[[1048,1048],"mapped",[1080]],[[1049,1049],"mapped",[1081]],[[1050,1050],"mapped",[1082]],[[1051,1051],"mapped",[1083]],[[1052,1052],"mapped",[1084]],[[1053,1053],"mapped",[1085]],[[1054,1054],"mapped",[1086]],[[1055,1055],"mapped",[1087]],[[1056,1056],"mapped",[1088]],[[1057,1057],"mapped",[1089]],[[1058,1058],"mapped",[1090]],[[1059,1059],"mapped",[1091]],[[1060,1060],"mapped",[1092]],[[1061,1061],"mapped",[1093]],[[1062,1062],"mapped",[1094]],[[1063,1063],"mapped",[1095]],[[1064,1064],"mapped",[1096]],[[1065,1065],"mapped",[1097]],[[1066,1066],"mapped",[1098]],[[1067,1067],"mapped",[1099]],[[1068,1068],"mapped",[1100]],[[1069,1069],"mapped",[1101]],[[1070,1070],"mapped",[1102]],[[1071,1071],"mapped",[1103]],[[1072,1103],"valid"],[[1104,1104],"valid"],[[1105,1116],"valid"],[[1117,1117],"valid"],[[1118,1119],"valid"],[[1120,1120],"mapped",[1121]],[[1121,1121],"valid"],[[1122,1122],"mapped",[1123]],[[1123,1123],"valid"],[[1124,1124],"mapped",[1125]],[[1125,1125],"valid"],[[1126,1126],"mapped",[1127]],[[1127,1127],"valid"],[[1128,1128],"mapped",[1129]],[[1129,1129],"valid"],[[1130,1130],"mapped",[1131]],[[1131,1131],"valid"],[[1132,1132],"mapped",[1133]],[[1133,1133],"valid"],[[1134,1134],"mapped",[1135]],[[1135,1135],"valid"],[[1136,1136],"mapped",[1137]],[[1137,1137],"valid"],[[1138,1138],"mapped",[1139]],[[1139,1139],"valid"],[[1140,1140],"mapped",[1141]],[[1141,1141],"valid"],[[1142,1142],"mapped",[1143]],[[1143,1143],"valid"],[[1144,1144],"mapped",[1145]],[[1145,1145],"valid"],[[1146,1146],"mapped",[1147]],[[1147,1147],"valid"],[[1148,1148],"mapped",[1149]],[[1149,1149],"valid"],[[1150,1150],"mapped",[1151]],[[1151,1151],"valid"],[[1152,1152],"mapped",[1153]],[[1153,1153],"valid"],[[1154,1154],"valid",[],"NV8"],[[1155,1158],"valid"],[[1159,1159],"valid"],[[1160,1161],"valid",[],"NV8"],[[1162,1162],"mapped",[1163]],[[1163,1163],"valid"],[[1164,1164],"mapped",[1165]],[[1165,1165],"valid"],[[1166,1166],"mapped",[1167]],[[1167,1167],"valid"],[[1168,1168],"mapped",[1169]],[[1169,1169],"valid"],[[1170,1170],"mapped",[1171]],[[1171,1171],"valid"],[[1172,1172],"mapped",[1173]],[[1173,1173],"valid"],[[1174,1174],"mapped",[1175]],[[1175,1175],"valid"],[[1176,1176],"mapped",[1177]],[[1177,1177],"valid"],[[1178,1178],"mapped",[1179]],[[1179,1179],"valid"],[[1180,1180],"mapped",[1181]],[[1181,1181],"valid"],[[1182,1182],"mapped",[1183]],[[1183,1183],"valid"],[[1184,1184],"mapped",[1185]],[[1185,1185],"valid"],[[1186,1186],"mapped",[1187]],[[1187,1187],"valid"],[[1188,1188],"mapped",[1189]],[[1189,1189],"valid"],[[1190,1190],"mapped",[1191]],[[1191,1191],"valid"],[[1192,1192],"mapped",[1193]],[[1193,1193],"valid"],[[1194,1194],"mapped",[1195]],[[1195,1195],"valid"],[[1196,1196],"mapped",[1197]],[[1197,1197],"valid"],[[1198,1198],"mapped",[1199]],[[1199,1199],"valid"],[[1200,1200],"mapped",[1201]],[[1201,1201],"valid"],[[1202,1202],"mapped",[1203]],[[1203,1203],"valid"],[[1204,1204],"mapped",[1205]],[[1205,1205],"valid"],[[1206,1206],"mapped",[1207]],[[1207,1207],"valid"],[[1208,1208],"mapped",[1209]],[[1209,1209],"valid"],[[1210,1210],"mapped",[1211]],[[1211,1211],"valid"],[[1212,1212],"mapped",[1213]],[[1213,1213],"valid"],[[1214,1214],"mapped",[1215]],[[1215,1215],"valid"],[[1216,1216],"disallowed"],[[1217,1217],"mapped",[1218]],[[1218,1218],"valid"],[[1219,1219],"mapped",[1220]],[[1220,1220],"valid"],[[1221,1221],"mapped",[1222]],[[1222,1222],"valid"],[[1223,1223],"mapped",[1224]],[[1224,1224],"valid"],[[1225,1225],"mapped",[1226]],[[1226,1226],"valid"],[[1227,1227],"mapped",[1228]],[[1228,1228],"valid"],[[1229,1229],"mapped",[1230]],[[1230,1230],"valid"],[[1231,1231],"valid"],[[1232,1232],"mapped",[1233]],[[1233,1233],"valid"],[[1234,1234],"mapped",[1235]],[[1235,1235],"valid"],[[1236,1236],"mapped",[1237]],[[1237,1237],"valid"],[[1238,1238],"mapped",[1239]],[[1239,1239],"valid"],[[1240,1240],"mapped",[1241]],[[1241,1241],"valid"],[[1242,1242],"mapped",[1243]],[[1243,1243],"valid"],[[1244,1244],"mapped",[1245]],[[1245,1245],"valid"],[[1246,1246],"mapped",[1247]],[[1247,1247],"valid"],[[1248,1248],"mapped",[1249]],[[1249,1249],"valid"],[[1250,1250],"mapped",[1251]],[[1251,1251],"valid"],[[1252,1252],"mapped",[1253]],[[1253,1253],"valid"],[[1254,1254],"mapped",[1255]],[[1255,1255],"valid"],[[1256,1256],"mapped",[1257]],[[1257,1257],"valid"],[[1258,1258],"mapped",[1259]],[[1259,1259],"valid"],[[1260,1260],"mapped",[1261]],[[1261,1261],"valid"],[[1262,1262],"mapped",[1263]],[[1263,1263],"valid"],[[1264,1264],"mapped",[1265]],[[1265,1265],"valid"],[[1266,1266],"mapped",[1267]],[[1267,1267],"valid"],[[1268,1268],"mapped",[1269]],[[1269,1269],"valid"],[[1270,1270],"mapped",[1271]],[[1271,1271],"valid"],[[1272,1272],"mapped",[1273]],[[1273,1273],"valid"],[[1274,1274],"mapped",[1275]],[[1275,1275],"valid"],[[1276,1276],"mapped",[1277]],[[1277,1277],"valid"],[[1278,1278],"mapped",[1279]],[[1279,1279],"valid"],[[1280,1280],"mapped",[1281]],[[1281,1281],"valid"],[[1282,1282],"mapped",[1283]],[[1283,1283],"valid"],[[1284,1284],"mapped",[1285]],[[1285,1285],"valid"],[[1286,1286],"mapped",[1287]],[[1287,1287],"valid"],[[1288,1288],"mapped",[1289]],[[1289,1289],"valid"],[[1290,1290],"mapped",[1291]],[[1291,1291],"valid"],[[1292,1292],"mapped",[1293]],[[1293,1293],"valid"],[[1294,1294],"mapped",[1295]],[[1295,1295],"valid"],[[1296,1296],"mapped",[1297]],[[1297,1297],"valid"],[[1298,1298],"mapped",[1299]],[[1299,1299],"valid"],[[1300,1300],"mapped",[1301]],[[1301,1301],"valid"],[[1302,1302],"mapped",[1303]],[[1303,1303],"valid"],[[1304,1304],"mapped",[1305]],[[1305,1305],"valid"],[[1306,1306],"mapped",[1307]],[[1307,1307],"valid"],[[1308,1308],"mapped",[1309]],[[1309,1309],"valid"],[[1310,1310],"mapped",[1311]],[[1311,1311],"valid"],[[1312,1312],"mapped",[1313]],[[1313,1313],"valid"],[[1314,1314],"mapped",[1315]],[[1315,1315],"valid"],[[1316,1316],"mapped",[1317]],[[1317,1317],"valid"],[[1318,1318],"mapped",[1319]],[[1319,1319],"valid"],[[1320,1320],"mapped",[1321]],[[1321,1321],"valid"],[[1322,1322],"mapped",[1323]],[[1323,1323],"valid"],[[1324,1324],"mapped",[1325]],[[1325,1325],"valid"],[[1326,1326],"mapped",[1327]],[[1327,1327],"valid"],[[1328,1328],"disallowed"],[[1329,1329],"mapped",[1377]],[[1330,1330],"mapped",[1378]],[[1331,1331],"mapped",[1379]],[[1332,1332],"mapped",[1380]],[[1333,1333],"mapped",[1381]],[[1334,1334],"mapped",[1382]],[[1335,1335],"mapped",[1383]],[[1336,1336],"mapped",[1384]],[[1337,1337],"mapped",[1385]],[[1338,1338],"mapped",[1386]],[[1339,1339],"mapped",[1387]],[[1340,1340],"mapped",[1388]],[[1341,1341],"mapped",[1389]],[[1342,1342],"mapped",[1390]],[[1343,1343],"mapped",[1391]],[[1344,1344],"mapped",[1392]],[[1345,1345],"mapped",[1393]],[[1346,1346],"mapped",[1394]],[[1347,1347],"mapped",[1395]],[[1348,1348],"mapped",[1396]],[[1349,1349],"mapped",[1397]],[[1350,1350],"mapped",[1398]],[[1351,1351],"mapped",[1399]],[[1352,1352],"mapped",[1400]],[[1353,1353],"mapped",[1401]],[[1354,1354],"mapped",[1402]],[[1355,1355],"mapped",[1403]],[[1356,1356],"mapped",[1404]],[[1357,1357],"mapped",[1405]],[[1358,1358],"mapped",[1406]],[[1359,1359],"mapped",[1407]],[[1360,1360],"mapped",[1408]],[[1361,1361],"mapped",[1409]],[[1362,1362],"mapped",[1410]],[[1363,1363],"mapped",[1411]],[[1364,1364],"mapped",[1412]],[[1365,1365],"mapped",[1413]],[[1366,1366],"mapped",[1414]],[[1367,1368],"disallowed"],[[1369,1369],"valid"],[[1370,1375],"valid",[],"NV8"],[[1376,1376],"disallowed"],[[1377,1414],"valid"],[[1415,1415],"mapped",[1381,1410]],[[1416,1416],"disallowed"],[[1417,1417],"valid",[],"NV8"],[[1418,1418],"valid",[],"NV8"],[[1419,1420],"disallowed"],[[1421,1422],"valid",[],"NV8"],[[1423,1423],"valid",[],"NV8"],[[1424,1424],"disallowed"],[[1425,1441],"valid"],[[1442,1442],"valid"],[[1443,1455],"valid"],[[1456,1465],"valid"],[[1466,1466],"valid"],[[1467,1469],"valid"],[[1470,1470],"valid",[],"NV8"],[[1471,1471],"valid"],[[1472,1472],"valid",[],"NV8"],[[1473,1474],"valid"],[[1475,1475],"valid",[],"NV8"],[[1476,1476],"valid"],[[1477,1477],"valid"],[[1478,1478],"valid",[],"NV8"],[[1479,1479],"valid"],[[1480,1487],"disallowed"],[[1488,1514],"valid"],[[1515,1519],"disallowed"],[[1520,1524],"valid"],[[1525,1535],"disallowed"],[[1536,1539],"disallowed"],[[1540,1540],"disallowed"],[[1541,1541],"disallowed"],[[1542,1546],"valid",[],"NV8"],[[1547,1547],"valid",[],"NV8"],[[1548,1548],"valid",[],"NV8"],[[1549,1551],"valid",[],"NV8"],[[1552,1557],"valid"],[[1558,1562],"valid"],[[1563,1563],"valid",[],"NV8"],[[1564,1564],"disallowed"],[[1565,1565],"disallowed"],[[1566,1566],"valid",[],"NV8"],[[1567,1567],"valid",[],"NV8"],[[1568,1568],"valid"],[[1569,1594],"valid"],[[1595,1599],"valid"],[[1600,1600],"valid",[],"NV8"],[[1601,1618],"valid"],[[1619,1621],"valid"],[[1622,1624],"valid"],[[1625,1630],"valid"],[[1631,1631],"valid"],[[1632,1641],"valid"],[[1642,1645],"valid",[],"NV8"],[[1646,1647],"valid"],[[1648,1652],"valid"],[[1653,1653],"mapped",[1575,1652]],[[1654,1654],"mapped",[1608,1652]],[[1655,1655],"mapped",[1735,1652]],[[1656,1656],"mapped",[1610,1652]],[[1657,1719],"valid"],[[1720,1721],"valid"],[[1722,1726],"valid"],[[1727,1727],"valid"],[[1728,1742],"valid"],[[1743,1743],"valid"],[[1744,1747],"valid"],[[1748,1748],"valid",[],"NV8"],[[1749,1756],"valid"],[[1757,1757],"disallowed"],[[1758,1758],"valid",[],"NV8"],[[1759,1768],"valid"],[[1769,1769],"valid",[],"NV8"],[[1770,1773],"valid"],[[1774,1775],"valid"],[[1776,1785],"valid"],[[1786,1790],"valid"],[[1791,1791],"valid"],[[1792,1805],"valid",[],"NV8"],[[1806,1806],"disallowed"],[[1807,1807],"disallowed"],[[1808,1836],"valid"],[[1837,1839],"valid"],[[1840,1866],"valid"],[[1867,1868],"disallowed"],[[1869,1871],"valid"],[[1872,1901],"valid"],[[1902,1919],"valid"],[[1920,1968],"valid"],[[1969,1969],"valid"],[[1970,1983],"disallowed"],[[1984,2037],"valid"],[[2038,2042],"valid",[],"NV8"],[[2043,2047],"disallowed"],[[2048,2093],"valid"],[[2094,2095],"disallowed"],[[2096,2110],"valid",[],"NV8"],[[2111,2111],"disallowed"],[[2112,2139],"valid"],[[2140,2141],"disallowed"],[[2142,2142],"valid",[],"NV8"],[[2143,2207],"disallowed"],[[2208,2208],"valid"],[[2209,2209],"valid"],[[2210,2220],"valid"],[[2221,2226],"valid"],[[2227,2228],"valid"],[[2229,2274],"disallowed"],[[2275,2275],"valid"],[[2276,2302],"valid"],[[2303,2303],"valid"],[[2304,2304],"valid"],[[2305,2307],"valid"],[[2308,2308],"valid"],[[2309,2361],"valid"],[[2362,2363],"valid"],[[2364,2381],"valid"],[[2382,2382],"valid"],[[2383,2383],"valid"],[[2384,2388],"valid"],[[2389,2389],"valid"],[[2390,2391],"valid"],[[2392,2392],"mapped",[2325,2364]],[[2393,2393],"mapped",[2326,2364]],[[2394,2394],"mapped",[2327,2364]],[[2395,2395],"mapped",[2332,2364]],[[2396,2396],"mapped",[2337,2364]],[[2397,2397],"mapped",[2338,2364]],[[2398,2398],"mapped",[2347,2364]],[[2399,2399],"mapped",[2351,2364]],[[2400,2403],"valid"],[[2404,2405],"valid",[],"NV8"],[[2406,2415],"valid"],[[2416,2416],"valid",[],"NV8"],[[2417,2418],"valid"],[[2419,2423],"valid"],[[2424,2424],"valid"],[[2425,2426],"valid"],[[2427,2428],"valid"],[[2429,2429],"valid"],[[2430,2431],"valid"],[[2432,2432],"valid"],[[2433,2435],"valid"],[[2436,2436],"disallowed"],[[2437,2444],"valid"],[[2445,2446],"disallowed"],[[2447,2448],"valid"],[[2449,2450],"disallowed"],[[2451,2472],"valid"],[[2473,2473],"disallowed"],[[2474,2480],"valid"],[[2481,2481],"disallowed"],[[2482,2482],"valid"],[[2483,2485],"disallowed"],[[2486,2489],"valid"],[[2490,2491],"disallowed"],[[2492,2492],"valid"],[[2493,2493],"valid"],[[2494,2500],"valid"],[[2501,2502],"disallowed"],[[2503,2504],"valid"],[[2505,2506],"disallowed"],[[2507,2509],"valid"],[[2510,2510],"valid"],[[2511,2518],"disallowed"],[[2519,2519],"valid"],[[2520,2523],"disallowed"],[[2524,2524],"mapped",[2465,2492]],[[2525,2525],"mapped",[2466,2492]],[[2526,2526],"disallowed"],[[2527,2527],"mapped",[2479,2492]],[[2528,2531],"valid"],[[2532,2533],"disallowed"],[[2534,2545],"valid"],[[2546,2554],"valid",[],"NV8"],[[2555,2555],"valid",[],"NV8"],[[2556,2560],"disallowed"],[[2561,2561],"valid"],[[2562,2562],"valid"],[[2563,2563],"valid"],[[2564,2564],"disallowed"],[[2565,2570],"valid"],[[2571,2574],"disallowed"],[[2575,2576],"valid"],[[2577,2578],"disallowed"],[[2579,2600],"valid"],[[2601,2601],"disallowed"],[[2602,2608],"valid"],[[2609,2609],"disallowed"],[[2610,2610],"valid"],[[2611,2611],"mapped",[2610,2620]],[[2612,2612],"disallowed"],[[2613,2613],"valid"],[[2614,2614],"mapped",[2616,2620]],[[2615,2615],"disallowed"],[[2616,2617],"valid"],[[2618,2619],"disallowed"],[[2620,2620],"valid"],[[2621,2621],"disallowed"],[[2622,2626],"valid"],[[2627,2630],"disallowed"],[[2631,2632],"valid"],[[2633,2634],"disallowed"],[[2635,2637],"valid"],[[2638,2640],"disallowed"],[[2641,2641],"valid"],[[2642,2648],"disallowed"],[[2649,2649],"mapped",[2582,2620]],[[2650,2650],"mapped",[2583,2620]],[[2651,2651],"mapped",[2588,2620]],[[2652,2652],"valid"],[[2653,2653],"disallowed"],[[2654,2654],"mapped",[2603,2620]],[[2655,2661],"disallowed"],[[2662,2676],"valid"],[[2677,2677],"valid"],[[2678,2688],"disallowed"],[[2689,2691],"valid"],[[2692,2692],"disallowed"],[[2693,2699],"valid"],[[2700,2700],"valid"],[[2701,2701],"valid"],[[2702,2702],"disallowed"],[[2703,2705],"valid"],[[2706,2706],"disallowed"],[[2707,2728],"valid"],[[2729,2729],"disallowed"],[[2730,2736],"valid"],[[2737,2737],"disallowed"],[[2738,2739],"valid"],[[2740,2740],"disallowed"],[[2741,2745],"valid"],[[2746,2747],"disallowed"],[[2748,2757],"valid"],[[2758,2758],"disallowed"],[[2759,2761],"valid"],[[2762,2762],"disallowed"],[[2763,2765],"valid"],[[2766,2767],"disallowed"],[[2768,2768],"valid"],[[2769,2783],"disallowed"],[[2784,2784],"valid"],[[2785,2787],"valid"],[[2788,2789],"disallowed"],[[2790,2799],"valid"],[[2800,2800],"valid",[],"NV8"],[[2801,2801],"valid",[],"NV8"],[[2802,2808],"disallowed"],[[2809,2809],"valid"],[[2810,2816],"disallowed"],[[2817,2819],"valid"],[[2820,2820],"disallowed"],[[2821,2828],"valid"],[[2829,2830],"disallowed"],[[2831,2832],"valid"],[[2833,2834],"disallowed"],[[2835,2856],"valid"],[[2857,2857],"disallowed"],[[2858,2864],"valid"],[[2865,2865],"disallowed"],[[2866,2867],"valid"],[[2868,2868],"disallowed"],[[2869,2869],"valid"],[[2870,2873],"valid"],[[2874,2875],"disallowed"],[[2876,2883],"valid"],[[2884,2884],"valid"],[[2885,2886],"disallowed"],[[2887,2888],"valid"],[[2889,2890],"disallowed"],[[2891,2893],"valid"],[[2894,2901],"disallowed"],[[2902,2903],"valid"],[[2904,2907],"disallowed"],[[2908,2908],"mapped",[2849,2876]],[[2909,2909],"mapped",[2850,2876]],[[2910,2910],"disallowed"],[[2911,2913],"valid"],[[2914,2915],"valid"],[[2916,2917],"disallowed"],[[2918,2927],"valid"],[[2928,2928],"valid",[],"NV8"],[[2929,2929],"valid"],[[2930,2935],"valid",[],"NV8"],[[2936,2945],"disallowed"],[[2946,2947],"valid"],[[2948,2948],"disallowed"],[[2949,2954],"valid"],[[2955,2957],"disallowed"],[[2958,2960],"valid"],[[2961,2961],"disallowed"],[[2962,2965],"valid"],[[2966,2968],"disallowed"],[[2969,2970],"valid"],[[2971,2971],"disallowed"],[[2972,2972],"valid"],[[2973,2973],"disallowed"],[[2974,2975],"valid"],[[2976,2978],"disallowed"],[[2979,2980],"valid"],[[2981,2983],"disallowed"],[[2984,2986],"valid"],[[2987,2989],"disallowed"],[[2990,2997],"valid"],[[2998,2998],"valid"],[[2999,3001],"valid"],[[3002,3005],"disallowed"],[[3006,3010],"valid"],[[3011,3013],"disallowed"],[[3014,3016],"valid"],[[3017,3017],"disallowed"],[[3018,3021],"valid"],[[3022,3023],"disallowed"],[[3024,3024],"valid"],[[3025,3030],"disallowed"],[[3031,3031],"valid"],[[3032,3045],"disallowed"],[[3046,3046],"valid"],[[3047,3055],"valid"],[[3056,3058],"valid",[],"NV8"],[[3059,3066],"valid",[],"NV8"],[[3067,3071],"disallowed"],[[3072,3072],"valid"],[[3073,3075],"valid"],[[3076,3076],"disallowed"],[[3077,3084],"valid"],[[3085,3085],"disallowed"],[[3086,3088],"valid"],[[3089,3089],"disallowed"],[[3090,3112],"valid"],[[3113,3113],"disallowed"],[[3114,3123],"valid"],[[3124,3124],"valid"],[[3125,3129],"valid"],[[3130,3132],"disallowed"],[[3133,3133],"valid"],[[3134,3140],"valid"],[[3141,3141],"disallowed"],[[3142,3144],"valid"],[[3145,3145],"disallowed"],[[3146,3149],"valid"],[[3150,3156],"disallowed"],[[3157,3158],"valid"],[[3159,3159],"disallowed"],[[3160,3161],"valid"],[[3162,3162],"valid"],[[3163,3167],"disallowed"],[[3168,3169],"valid"],[[3170,3171],"valid"],[[3172,3173],"disallowed"],[[3174,3183],"valid"],[[3184,3191],"disallowed"],[[3192,3199],"valid",[],"NV8"],[[3200,3200],"disallowed"],[[3201,3201],"valid"],[[3202,3203],"valid"],[[3204,3204],"disallowed"],[[3205,3212],"valid"],[[3213,3213],"disallowed"],[[3214,3216],"valid"],[[3217,3217],"disallowed"],[[3218,3240],"valid"],[[3241,3241],"disallowed"],[[3242,3251],"valid"],[[3252,3252],"disallowed"],[[3253,3257],"valid"],[[3258,3259],"disallowed"],[[3260,3261],"valid"],[[3262,3268],"valid"],[[3269,3269],"disallowed"],[[3270,3272],"valid"],[[3273,3273],"disallowed"],[[3274,3277],"valid"],[[3278,3284],"disallowed"],[[3285,3286],"valid"],[[3287,3293],"disallowed"],[[3294,3294],"valid"],[[3295,3295],"disallowed"],[[3296,3297],"valid"],[[3298,3299],"valid"],[[3300,3301],"disallowed"],[[3302,3311],"valid"],[[3312,3312],"disallowed"],[[3313,3314],"valid"],[[3315,3328],"disallowed"],[[3329,3329],"valid"],[[3330,3331],"valid"],[[3332,3332],"disallowed"],[[3333,3340],"valid"],[[3341,3341],"disallowed"],[[3342,3344],"valid"],[[3345,3345],"disallowed"],[[3346,3368],"valid"],[[3369,3369],"valid"],[[3370,3385],"valid"],[[3386,3386],"valid"],[[3387,3388],"disallowed"],[[3389,3389],"valid"],[[3390,3395],"valid"],[[3396,3396],"valid"],[[3397,3397],"disallowed"],[[3398,3400],"valid"],[[3401,3401],"disallowed"],[[3402,3405],"valid"],[[3406,3406],"valid"],[[3407,3414],"disallowed"],[[3415,3415],"valid"],[[3416,3422],"disallowed"],[[3423,3423],"valid"],[[3424,3425],"valid"],[[3426,3427],"valid"],[[3428,3429],"disallowed"],[[3430,3439],"valid"],[[3440,3445],"valid",[],"NV8"],[[3446,3448],"disallowed"],[[3449,3449],"valid",[],"NV8"],[[3450,3455],"valid"],[[3456,3457],"disallowed"],[[3458,3459],"valid"],[[3460,3460],"disallowed"],[[3461,3478],"valid"],[[3479,3481],"disallowed"],[[3482,3505],"valid"],[[3506,3506],"disallowed"],[[3507,3515],"valid"],[[3516,3516],"disallowed"],[[3517,3517],"valid"],[[3518,3519],"disallowed"],[[3520,3526],"valid"],[[3527,3529],"disallowed"],[[3530,3530],"valid"],[[3531,3534],"disallowed"],[[3535,3540],"valid"],[[3541,3541],"disallowed"],[[3542,3542],"valid"],[[3543,3543],"disallowed"],[[3544,3551],"valid"],[[3552,3557],"disallowed"],[[3558,3567],"valid"],[[3568,3569],"disallowed"],[[3570,3571],"valid"],[[3572,3572],"valid",[],"NV8"],[[3573,3584],"disallowed"],[[3585,3634],"valid"],[[3635,3635],"mapped",[3661,3634]],[[3636,3642],"valid"],[[3643,3646],"disallowed"],[[3647,3647],"valid",[],"NV8"],[[3648,3662],"valid"],[[3663,3663],"valid",[],"NV8"],[[3664,3673],"valid"],[[3674,3675],"valid",[],"NV8"],[[3676,3712],"disallowed"],[[3713,3714],"valid"],[[3715,3715],"disallowed"],[[3716,3716],"valid"],[[3717,3718],"disallowed"],[[3719,3720],"valid"],[[3721,3721],"disallowed"],[[3722,3722],"valid"],[[3723,3724],"disallowed"],[[3725,3725],"valid"],[[3726,3731],"disallowed"],[[3732,3735],"valid"],[[3736,3736],"disallowed"],[[3737,3743],"valid"],[[3744,3744],"disallowed"],[[3745,3747],"valid"],[[3748,3748],"disallowed"],[[3749,3749],"valid"],[[3750,3750],"disallowed"],[[3751,3751],"valid"],[[3752,3753],"disallowed"],[[3754,3755],"valid"],[[3756,3756],"disallowed"],[[3757,3762],"valid"],[[3763,3763],"mapped",[3789,3762]],[[3764,3769],"valid"],[[3770,3770],"disallowed"],[[3771,3773],"valid"],[[3774,3775],"disallowed"],[[3776,3780],"valid"],[[3781,3781],"disallowed"],[[3782,3782],"valid"],[[3783,3783],"disallowed"],[[3784,3789],"valid"],[[3790,3791],"disallowed"],[[3792,3801],"valid"],[[3802,3803],"disallowed"],[[3804,3804],"mapped",[3755,3737]],[[3805,3805],"mapped",[3755,3745]],[[3806,3807],"valid"],[[3808,3839],"disallowed"],[[3840,3840],"valid"],[[3841,3850],"valid",[],"NV8"],[[3851,3851],"valid"],[[3852,3852],"mapped",[3851]],[[3853,3863],"valid",[],"NV8"],[[3864,3865],"valid"],[[3866,3871],"valid",[],"NV8"],[[3872,3881],"valid"],[[3882,3892],"valid",[],"NV8"],[[3893,3893],"valid"],[[3894,3894],"valid",[],"NV8"],[[3895,3895],"valid"],[[3896,3896],"valid",[],"NV8"],[[3897,3897],"valid"],[[3898,3901],"valid",[],"NV8"],[[3902,3906],"valid"],[[3907,3907],"mapped",[3906,4023]],[[3908,3911],"valid"],[[3912,3912],"disallowed"],[[3913,3916],"valid"],[[3917,3917],"mapped",[3916,4023]],[[3918,3921],"valid"],[[3922,3922],"mapped",[3921,4023]],[[3923,3926],"valid"],[[3927,3927],"mapped",[3926,4023]],[[3928,3931],"valid"],[[3932,3932],"mapped",[3931,4023]],[[3933,3944],"valid"],[[3945,3945],"mapped",[3904,4021]],[[3946,3946],"valid"],[[3947,3948],"valid"],[[3949,3952],"disallowed"],[[3953,3954],"valid"],[[3955,3955],"mapped",[3953,3954]],[[3956,3956],"valid"],[[3957,3957],"mapped",[3953,3956]],[[3958,3958],"mapped",[4018,3968]],[[3959,3959],"mapped",[4018,3953,3968]],[[3960,3960],"mapped",[4019,3968]],[[3961,3961],"mapped",[4019,3953,3968]],[[3962,3968],"valid"],[[3969,3969],"mapped",[3953,3968]],[[3970,3972],"valid"],[[3973,3973],"valid",[],"NV8"],[[3974,3979],"valid"],[[3980,3983],"valid"],[[3984,3986],"valid"],[[3987,3987],"mapped",[3986,4023]],[[3988,3989],"valid"],[[3990,3990],"valid"],[[3991,3991],"valid"],[[3992,3992],"disallowed"],[[3993,3996],"valid"],[[3997,3997],"mapped",[3996,4023]],[[3998,4001],"valid"],[[4002,4002],"mapped",[4001,4023]],[[4003,4006],"valid"],[[4007,4007],"mapped",[4006,4023]],[[4008,4011],"valid"],[[4012,4012],"mapped",[4011,4023]],[[4013,4013],"valid"],[[4014,4016],"valid"],[[4017,4023],"valid"],[[4024,4024],"valid"],[[4025,4025],"mapped",[3984,4021]],[[4026,4028],"valid"],[[4029,4029],"disallowed"],[[4030,4037],"valid",[],"NV8"],[[4038,4038],"valid"],[[4039,4044],"valid",[],"NV8"],[[4045,4045],"disallowed"],[[4046,4046],"valid",[],"NV8"],[[4047,4047],"valid",[],"NV8"],[[4048,4049],"valid",[],"NV8"],[[4050,4052],"valid",[],"NV8"],[[4053,4056],"valid",[],"NV8"],[[4057,4058],"valid",[],"NV8"],[[4059,4095],"disallowed"],[[4096,4129],"valid"],[[4130,4130],"valid"],[[4131,4135],"valid"],[[4136,4136],"valid"],[[4137,4138],"valid"],[[4139,4139],"valid"],[[4140,4146],"valid"],[[4147,4149],"valid"],[[4150,4153],"valid"],[[4154,4159],"valid"],[[4160,4169],"valid"],[[4170,4175],"valid",[],"NV8"],[[4176,4185],"valid"],[[4186,4249],"valid"],[[4250,4253],"valid"],[[4254,4255],"valid",[],"NV8"],[[4256,4293],"disallowed"],[[4294,4294],"disallowed"],[[4295,4295],"mapped",[11559]],[[4296,4300],"disallowed"],[[4301,4301],"mapped",[11565]],[[4302,4303],"disallowed"],[[4304,4342],"valid"],[[4343,4344],"valid"],[[4345,4346],"valid"],[[4347,4347],"valid",[],"NV8"],[[4348,4348],"mapped",[4316]],[[4349,4351],"valid"],[[4352,4441],"valid",[],"NV8"],[[4442,4446],"valid",[],"NV8"],[[4447,4448],"disallowed"],[[4449,4514],"valid",[],"NV8"],[[4515,4519],"valid",[],"NV8"],[[4520,4601],"valid",[],"NV8"],[[4602,4607],"valid",[],"NV8"],[[4608,4614],"valid"],[[4615,4615],"valid"],[[4616,4678],"valid"],[[4679,4679],"valid"],[[4680,4680],"valid"],[[4681,4681],"disallowed"],[[4682,4685],"valid"],[[4686,4687],"disallowed"],[[4688,4694],"valid"],[[4695,4695],"disallowed"],[[4696,4696],"valid"],[[4697,4697],"disallowed"],[[4698,4701],"valid"],[[4702,4703],"disallowed"],[[4704,4742],"valid"],[[4743,4743],"valid"],[[4744,4744],"valid"],[[4745,4745],"disallowed"],[[4746,4749],"valid"],[[4750,4751],"disallowed"],[[4752,4782],"valid"],[[4783,4783],"valid"],[[4784,4784],"valid"],[[4785,4785],"disallowed"],[[4786,4789],"valid"],[[4790,4791],"disallowed"],[[4792,4798],"valid"],[[4799,4799],"disallowed"],[[4800,4800],"valid"],[[4801,4801],"disallowed"],[[4802,4805],"valid"],[[4806,4807],"disallowed"],[[4808,4814],"valid"],[[4815,4815],"valid"],[[4816,4822],"valid"],[[4823,4823],"disallowed"],[[4824,4846],"valid"],[[4847,4847],"valid"],[[4848,4878],"valid"],[[4879,4879],"valid"],[[4880,4880],"valid"],[[4881,4881],"disallowed"],[[4882,4885],"valid"],[[4886,4887],"disallowed"],[[4888,4894],"valid"],[[4895,4895],"valid"],[[4896,4934],"valid"],[[4935,4935],"valid"],[[4936,4954],"valid"],[[4955,4956],"disallowed"],[[4957,4958],"valid"],[[4959,4959],"valid"],[[4960,4960],"valid",[],"NV8"],[[4961,4988],"valid",[],"NV8"],[[4989,4991],"disallowed"],[[4992,5007],"valid"],[[5008,5017],"valid",[],"NV8"],[[5018,5023],"disallowed"],[[5024,5108],"valid"],[[5109,5109],"valid"],[[5110,5111],"disallowed"],[[5112,5112],"mapped",[5104]],[[5113,5113],"mapped",[5105]],[[5114,5114],"mapped",[5106]],[[5115,5115],"mapped",[5107]],[[5116,5116],"mapped",[5108]],[[5117,5117],"mapped",[5109]],[[5118,5119],"disallowed"],[[5120,5120],"valid",[],"NV8"],[[5121,5740],"valid"],[[5741,5742],"valid",[],"NV8"],[[5743,5750],"valid"],[[5751,5759],"valid"],[[5760,5760],"disallowed"],[[5761,5786],"valid"],[[5787,5788],"valid",[],"NV8"],[[5789,5791],"disallowed"],[[5792,5866],"valid"],[[5867,5872],"valid",[],"NV8"],[[5873,5880],"valid"],[[5881,5887],"disallowed"],[[5888,5900],"valid"],[[5901,5901],"disallowed"],[[5902,5908],"valid"],[[5909,5919],"disallowed"],[[5920,5940],"valid"],[[5941,5942],"valid",[],"NV8"],[[5943,5951],"disallowed"],[[5952,5971],"valid"],[[5972,5983],"disallowed"],[[5984,5996],"valid"],[[5997,5997],"disallowed"],[[5998,6000],"valid"],[[6001,6001],"disallowed"],[[6002,6003],"valid"],[[6004,6015],"disallowed"],[[6016,6067],"valid"],[[6068,6069],"disallowed"],[[6070,6099],"valid"],[[6100,6102],"valid",[],"NV8"],[[6103,6103],"valid"],[[6104,6107],"valid",[],"NV8"],[[6108,6108],"valid"],[[6109,6109],"valid"],[[6110,6111],"disallowed"],[[6112,6121],"valid"],[[6122,6127],"disallowed"],[[6128,6137],"valid",[],"NV8"],[[6138,6143],"disallowed"],[[6144,6149],"valid",[],"NV8"],[[6150,6150],"disallowed"],[[6151,6154],"valid",[],"NV8"],[[6155,6157],"ignored"],[[6158,6158],"disallowed"],[[6159,6159],"disallowed"],[[6160,6169],"valid"],[[6170,6175],"disallowed"],[[6176,6263],"valid"],[[6264,6271],"disallowed"],[[6272,6313],"valid"],[[6314,6314],"valid"],[[6315,6319],"disallowed"],[[6320,6389],"valid"],[[6390,6399],"disallowed"],[[6400,6428],"valid"],[[6429,6430],"valid"],[[6431,6431],"disallowed"],[[6432,6443],"valid"],[[6444,6447],"disallowed"],[[6448,6459],"valid"],[[6460,6463],"disallowed"],[[6464,6464],"valid",[],"NV8"],[[6465,6467],"disallowed"],[[6468,6469],"valid",[],"NV8"],[[6470,6509],"valid"],[[6510,6511],"disallowed"],[[6512,6516],"valid"],[[6517,6527],"disallowed"],[[6528,6569],"valid"],[[6570,6571],"valid"],[[6572,6575],"disallowed"],[[6576,6601],"valid"],[[6602,6607],"disallowed"],[[6608,6617],"valid"],[[6618,6618],"valid",[],"XV8"],[[6619,6621],"disallowed"],[[6622,6623],"valid",[],"NV8"],[[6624,6655],"valid",[],"NV8"],[[6656,6683],"valid"],[[6684,6685],"disallowed"],[[6686,6687],"valid",[],"NV8"],[[6688,6750],"valid"],[[6751,6751],"disallowed"],[[6752,6780],"valid"],[[6781,6782],"disallowed"],[[6783,6793],"valid"],[[6794,6799],"disallowed"],[[6800,6809],"valid"],[[6810,6815],"disallowed"],[[6816,6822],"valid",[],"NV8"],[[6823,6823],"valid"],[[6824,6829],"valid",[],"NV8"],[[6830,6831],"disallowed"],[[6832,6845],"valid"],[[6846,6846],"valid",[],"NV8"],[[6847,6911],"disallowed"],[[6912,6987],"valid"],[[6988,6991],"disallowed"],[[6992,7001],"valid"],[[7002,7018],"valid",[],"NV8"],[[7019,7027],"valid"],[[7028,7036],"valid",[],"NV8"],[[7037,7039],"disallowed"],[[7040,7082],"valid"],[[7083,7085],"valid"],[[7086,7097],"valid"],[[7098,7103],"valid"],[[7104,7155],"valid"],[[7156,7163],"disallowed"],[[7164,7167],"valid",[],"NV8"],[[7168,7223],"valid"],[[7224,7226],"disallowed"],[[7227,7231],"valid",[],"NV8"],[[7232,7241],"valid"],[[7242,7244],"disallowed"],[[7245,7293],"valid"],[[7294,7295],"valid",[],"NV8"],[[7296,7359],"disallowed"],[[7360,7367],"valid",[],"NV8"],[[7368,7375],"disallowed"],[[7376,7378],"valid"],[[7379,7379],"valid",[],"NV8"],[[7380,7410],"valid"],[[7411,7414],"valid"],[[7415,7415],"disallowed"],[[7416,7417],"valid"],[[7418,7423],"disallowed"],[[7424,7467],"valid"],[[7468,7468],"mapped",[97]],[[7469,7469],"mapped",[230]],[[7470,7470],"mapped",[98]],[[7471,7471],"valid"],[[7472,7472],"mapped",[100]],[[7473,7473],"mapped",[101]],[[7474,7474],"mapped",[477]],[[7475,7475],"mapped",[103]],[[7476,7476],"mapped",[104]],[[7477,7477],"mapped",[105]],[[7478,7478],"mapped",[106]],[[7479,7479],"mapped",[107]],[[7480,7480],"mapped",[108]],[[7481,7481],"mapped",[109]],[[7482,7482],"mapped",[110]],[[7483,7483],"valid"],[[7484,7484],"mapped",[111]],[[7485,7485],"mapped",[547]],[[7486,7486],"mapped",[112]],[[7487,7487],"mapped",[114]],[[7488,7488],"mapped",[116]],[[7489,7489],"mapped",[117]],[[7490,7490],"mapped",[119]],[[7491,7491],"mapped",[97]],[[7492,7492],"mapped",[592]],[[7493,7493],"mapped",[593]],[[7494,7494],"mapped",[7426]],[[7495,7495],"mapped",[98]],[[7496,7496],"mapped",[100]],[[7497,7497],"mapped",[101]],[[7498,7498],"mapped",[601]],[[7499,7499],"mapped",[603]],[[7500,7500],"mapped",[604]],[[7501,7501],"mapped",[103]],[[7502,7502],"valid"],[[7503,7503],"mapped",[107]],[[7504,7504],"mapped",[109]],[[7505,7505],"mapped",[331]],[[7506,7506],"mapped",[111]],[[7507,7507],"mapped",[596]],[[7508,7508],"mapped",[7446]],[[7509,7509],"mapped",[7447]],[[7510,7510],"mapped",[112]],[[7511,7511],"mapped",[116]],[[7512,7512],"mapped",[117]],[[7513,7513],"mapped",[7453]],[[7514,7514],"mapped",[623]],[[7515,7515],"mapped",[118]],[[7516,7516],"mapped",[7461]],[[7517,7517],"mapped",[946]],[[7518,7518],"mapped",[947]],[[7519,7519],"mapped",[948]],[[7520,7520],"mapped",[966]],[[7521,7521],"mapped",[967]],[[7522,7522],"mapped",[105]],[[7523,7523],"mapped",[114]],[[7524,7524],"mapped",[117]],[[7525,7525],"mapped",[118]],[[7526,7526],"mapped",[946]],[[7527,7527],"mapped",[947]],[[7528,7528],"mapped",[961]],[[7529,7529],"mapped",[966]],[[7530,7530],"mapped",[967]],[[7531,7531],"valid"],[[7532,7543],"valid"],[[7544,7544],"mapped",[1085]],[[7545,7578],"valid"],[[7579,7579],"mapped",[594]],[[7580,7580],"mapped",[99]],[[7581,7581],"mapped",[597]],[[7582,7582],"mapped",[240]],[[7583,7583],"mapped",[604]],[[7584,7584],"mapped",[102]],[[7585,7585],"mapped",[607]],[[7586,7586],"mapped",[609]],[[7587,7587],"mapped",[613]],[[7588,7588],"mapped",[616]],[[7589,7589],"mapped",[617]],[[7590,7590],"mapped",[618]],[[7591,7591],"mapped",[7547]],[[7592,7592],"mapped",[669]],[[7593,7593],"mapped",[621]],[[7594,7594],"mapped",[7557]],[[7595,7595],"mapped",[671]],[[7596,7596],"mapped",[625]],[[7597,7597],"mapped",[624]],[[7598,7598],"mapped",[626]],[[7599,7599],"mapped",[627]],[[7600,7600],"mapped",[628]],[[7601,7601],"mapped",[629]],[[7602,7602],"mapped",[632]],[[7603,7603],"mapped",[642]],[[7604,7604],"mapped",[643]],[[7605,7605],"mapped",[427]],[[7606,7606],"mapped",[649]],[[7607,7607],"mapped",[650]],[[7608,7608],"mapped",[7452]],[[7609,7609],"mapped",[651]],[[7610,7610],"mapped",[652]],[[7611,7611],"mapped",[122]],[[7612,7612],"mapped",[656]],[[7613,7613],"mapped",[657]],[[7614,7614],"mapped",[658]],[[7615,7615],"mapped",[952]],[[7616,7619],"valid"],[[7620,7626],"valid"],[[7627,7654],"valid"],[[7655,7669],"valid"],[[7670,7675],"disallowed"],[[7676,7676],"valid"],[[7677,7677],"valid"],[[7678,7679],"valid"],[[7680,7680],"mapped",[7681]],[[7681,7681],"valid"],[[7682,7682],"mapped",[7683]],[[7683,7683],"valid"],[[7684,7684],"mapped",[7685]],[[7685,7685],"valid"],[[7686,7686],"mapped",[7687]],[[7687,7687],"valid"],[[7688,7688],"mapped",[7689]],[[7689,7689],"valid"],[[7690,7690],"mapped",[7691]],[[7691,7691],"valid"],[[7692,7692],"mapped",[7693]],[[7693,7693],"valid"],[[7694,7694],"mapped",[7695]],[[7695,7695],"valid"],[[7696,7696],"mapped",[7697]],[[7697,7697],"valid"],[[7698,7698],"mapped",[7699]],[[7699,7699],"valid"],[[7700,7700],"mapped",[7701]],[[7701,7701],"valid"],[[7702,7702],"mapped",[7703]],[[7703,7703],"valid"],[[7704,7704],"mapped",[7705]],[[7705,7705],"valid"],[[7706,7706],"mapped",[7707]],[[7707,7707],"valid"],[[7708,7708],"mapped",[7709]],[[7709,7709],"valid"],[[7710,7710],"mapped",[7711]],[[7711,7711],"valid"],[[7712,7712],"mapped",[7713]],[[7713,7713],"valid"],[[7714,7714],"mapped",[7715]],[[7715,7715],"valid"],[[7716,7716],"mapped",[7717]],[[7717,7717],"valid"],[[7718,7718],"mapped",[7719]],[[7719,7719],"valid"],[[7720,7720],"mapped",[7721]],[[7721,7721],"valid"],[[7722,7722],"mapped",[7723]],[[7723,7723],"valid"],[[7724,7724],"mapped",[7725]],[[7725,7725],"valid"],[[7726,7726],"mapped",[7727]],[[7727,7727],"valid"],[[7728,7728],"mapped",[7729]],[[7729,7729],"valid"],[[7730,7730],"mapped",[7731]],[[7731,7731],"valid"],[[7732,7732],"mapped",[7733]],[[7733,7733],"valid"],[[7734,7734],"mapped",[7735]],[[7735,7735],"valid"],[[7736,7736],"mapped",[7737]],[[7737,7737],"valid"],[[7738,7738],"mapped",[7739]],[[7739,7739],"valid"],[[7740,7740],"mapped",[7741]],[[7741,7741],"valid"],[[7742,7742],"mapped",[7743]],[[7743,7743],"valid"],[[7744,7744],"mapped",[7745]],[[7745,7745],"valid"],[[7746,7746],"mapped",[7747]],[[7747,7747],"valid"],[[7748,7748],"mapped",[7749]],[[7749,7749],"valid"],[[7750,7750],"mapped",[7751]],[[7751,7751],"valid"],[[7752,7752],"mapped",[7753]],[[7753,7753],"valid"],[[7754,7754],"mapped",[7755]],[[7755,7755],"valid"],[[7756,7756],"mapped",[7757]],[[7757,7757],"valid"],[[7758,7758],"mapped",[7759]],[[7759,7759],"valid"],[[7760,7760],"mapped",[7761]],[[7761,7761],"valid"],[[7762,7762],"mapped",[7763]],[[7763,7763],"valid"],[[7764,7764],"mapped",[7765]],[[7765,7765],"valid"],[[7766,7766],"mapped",[7767]],[[7767,7767],"valid"],[[7768,7768],"mapped",[7769]],[[7769,7769],"valid"],[[7770,7770],"mapped",[7771]],[[7771,7771],"valid"],[[7772,7772],"mapped",[7773]],[[7773,7773],"valid"],[[7774,7774],"mapped",[7775]],[[7775,7775],"valid"],[[7776,7776],"mapped",[7777]],[[7777,7777],"valid"],[[7778,7778],"mapped",[7779]],[[7779,7779],"valid"],[[7780,7780],"mapped",[7781]],[[7781,7781],"valid"],[[7782,7782],"mapped",[7783]],[[7783,7783],"valid"],[[7784,7784],"mapped",[7785]],[[7785,7785],"valid"],[[7786,7786],"mapped",[7787]],[[7787,7787],"valid"],[[7788,7788],"mapped",[7789]],[[7789,7789],"valid"],[[7790,7790],"mapped",[7791]],[[7791,7791],"valid"],[[7792,7792],"mapped",[7793]],[[7793,7793],"valid"],[[7794,7794],"mapped",[7795]],[[7795,7795],"valid"],[[7796,7796],"mapped",[7797]],[[7797,7797],"valid"],[[7798,7798],"mapped",[7799]],[[7799,7799],"valid"],[[7800,7800],"mapped",[7801]],[[7801,7801],"valid"],[[7802,7802],"mapped",[7803]],[[7803,7803],"valid"],[[7804,7804],"mapped",[7805]],[[7805,7805],"valid"],[[7806,7806],"mapped",[7807]],[[7807,7807],"valid"],[[7808,7808],"mapped",[7809]],[[7809,7809],"valid"],[[7810,7810],"mapped",[7811]],[[7811,7811],"valid"],[[7812,7812],"mapped",[7813]],[[7813,7813],"valid"],[[7814,7814],"mapped",[7815]],[[7815,7815],"valid"],[[7816,7816],"mapped",[7817]],[[7817,7817],"valid"],[[7818,7818],"mapped",[7819]],[[7819,7819],"valid"],[[7820,7820],"mapped",[7821]],[[7821,7821],"valid"],[[7822,7822],"mapped",[7823]],[[7823,7823],"valid"],[[7824,7824],"mapped",[7825]],[[7825,7825],"valid"],[[7826,7826],"mapped",[7827]],[[7827,7827],"valid"],[[7828,7828],"mapped",[7829]],[[7829,7833],"valid"],[[7834,7834],"mapped",[97,702]],[[7835,7835],"mapped",[7777]],[[7836,7837],"valid"],[[7838,7838],"mapped",[115,115]],[[7839,7839],"valid"],[[7840,7840],"mapped",[7841]],[[7841,7841],"valid"],[[7842,7842],"mapped",[7843]],[[7843,7843],"valid"],[[7844,7844],"mapped",[7845]],[[7845,7845],"valid"],[[7846,7846],"mapped",[7847]],[[7847,7847],"valid"],[[7848,7848],"mapped",[7849]],[[7849,7849],"valid"],[[7850,7850],"mapped",[7851]],[[7851,7851],"valid"],[[7852,7852],"mapped",[7853]],[[7853,7853],"valid"],[[7854,7854],"mapped",[7855]],[[7855,7855],"valid"],[[7856,7856],"mapped",[7857]],[[7857,7857],"valid"],[[7858,7858],"mapped",[7859]],[[7859,7859],"valid"],[[7860,7860],"mapped",[7861]],[[7861,7861],"valid"],[[7862,7862],"mapped",[7863]],[[7863,7863],"valid"],[[7864,7864],"mapped",[7865]],[[7865,7865],"valid"],[[7866,7866],"mapped",[7867]],[[7867,7867],"valid"],[[7868,7868],"mapped",[7869]],[[7869,7869],"valid"],[[7870,7870],"mapped",[7871]],[[7871,7871],"valid"],[[7872,7872],"mapped",[7873]],[[7873,7873],"valid"],[[7874,7874],"mapped",[7875]],[[7875,7875],"valid"],[[7876,7876],"mapped",[7877]],[[7877,7877],"valid"],[[7878,7878],"mapped",[7879]],[[7879,7879],"valid"],[[7880,7880],"mapped",[7881]],[[7881,7881],"valid"],[[7882,7882],"mapped",[7883]],[[7883,7883],"valid"],[[7884,7884],"mapped",[7885]],[[7885,7885],"valid"],[[7886,7886],"mapped",[7887]],[[7887,7887],"valid"],[[7888,7888],"mapped",[7889]],[[7889,7889],"valid"],[[7890,7890],"mapped",[7891]],[[7891,7891],"valid"],[[7892,7892],"mapped",[7893]],[[7893,7893],"valid"],[[7894,7894],"mapped",[7895]],[[7895,7895],"valid"],[[7896,7896],"mapped",[7897]],[[7897,7897],"valid"],[[7898,7898],"mapped",[7899]],[[7899,7899],"valid"],[[7900,7900],"mapped",[7901]],[[7901,7901],"valid"],[[7902,7902],"mapped",[7903]],[[7903,7903],"valid"],[[7904,7904],"mapped",[7905]],[[7905,7905],"valid"],[[7906,7906],"mapped",[7907]],[[7907,7907],"valid"],[[7908,7908],"mapped",[7909]],[[7909,7909],"valid"],[[7910,7910],"mapped",[7911]],[[7911,7911],"valid"],[[7912,7912],"mapped",[7913]],[[7913,7913],"valid"],[[7914,7914],"mapped",[7915]],[[7915,7915],"valid"],[[7916,7916],"mapped",[7917]],[[7917,7917],"valid"],[[7918,7918],"mapped",[7919]],[[7919,7919],"valid"],[[7920,7920],"mapped",[7921]],[[7921,7921],"valid"],[[7922,7922],"mapped",[7923]],[[7923,7923],"valid"],[[7924,7924],"mapped",[7925]],[[7925,7925],"valid"],[[7926,7926],"mapped",[7927]],[[7927,7927],"valid"],[[7928,7928],"mapped",[7929]],[[7929,7929],"valid"],[[7930,7930],"mapped",[7931]],[[7931,7931],"valid"],[[7932,7932],"mapped",[7933]],[[7933,7933],"valid"],[[7934,7934],"mapped",[7935]],[[7935,7935],"valid"],[[7936,7943],"valid"],[[7944,7944],"mapped",[7936]],[[7945,7945],"mapped",[7937]],[[7946,7946],"mapped",[7938]],[[7947,7947],"mapped",[7939]],[[7948,7948],"mapped",[7940]],[[7949,7949],"mapped",[7941]],[[7950,7950],"mapped",[7942]],[[7951,7951],"mapped",[7943]],[[7952,7957],"valid"],[[7958,7959],"disallowed"],[[7960,7960],"mapped",[7952]],[[7961,7961],"mapped",[7953]],[[7962,7962],"mapped",[7954]],[[7963,7963],"mapped",[7955]],[[7964,7964],"mapped",[7956]],[[7965,7965],"mapped",[7957]],[[7966,7967],"disallowed"],[[7968,7975],"valid"],[[7976,7976],"mapped",[7968]],[[7977,7977],"mapped",[7969]],[[7978,7978],"mapped",[7970]],[[7979,7979],"mapped",[7971]],[[7980,7980],"mapped",[7972]],[[7981,7981],"mapped",[7973]],[[7982,7982],"mapped",[7974]],[[7983,7983],"mapped",[7975]],[[7984,7991],"valid"],[[7992,7992],"mapped",[7984]],[[7993,7993],"mapped",[7985]],[[7994,7994],"mapped",[7986]],[[7995,7995],"mapped",[7987]],[[7996,7996],"mapped",[7988]],[[7997,7997],"mapped",[7989]],[[7998,7998],"mapped",[7990]],[[7999,7999],"mapped",[7991]],[[8000,8005],"valid"],[[8006,8007],"disallowed"],[[8008,8008],"mapped",[8000]],[[8009,8009],"mapped",[8001]],[[8010,8010],"mapped",[8002]],[[8011,8011],"mapped",[8003]],[[8012,8012],"mapped",[8004]],[[8013,8013],"mapped",[8005]],[[8014,8015],"disallowed"],[[8016,8023],"valid"],[[8024,8024],"disallowed"],[[8025,8025],"mapped",[8017]],[[8026,8026],"disallowed"],[[8027,8027],"mapped",[8019]],[[8028,8028],"disallowed"],[[8029,8029],"mapped",[8021]],[[8030,8030],"disallowed"],[[8031,8031],"mapped",[8023]],[[8032,8039],"valid"],[[8040,8040],"mapped",[8032]],[[8041,8041],"mapped",[8033]],[[8042,8042],"mapped",[8034]],[[8043,8043],"mapped",[8035]],[[8044,8044],"mapped",[8036]],[[8045,8045],"mapped",[8037]],[[8046,8046],"mapped",[8038]],[[8047,8047],"mapped",[8039]],[[8048,8048],"valid"],[[8049,8049],"mapped",[940]],[[8050,8050],"valid"],[[8051,8051],"mapped",[941]],[[8052,8052],"valid"],[[8053,8053],"mapped",[942]],[[8054,8054],"valid"],[[8055,8055],"mapped",[943]],[[8056,8056],"valid"],[[8057,8057],"mapped",[972]],[[8058,8058],"valid"],[[8059,8059],"mapped",[973]],[[8060,8060],"valid"],[[8061,8061],"mapped",[974]],[[8062,8063],"disallowed"],[[8064,8064],"mapped",[7936,953]],[[8065,8065],"mapped",[7937,953]],[[8066,8066],"mapped",[7938,953]],[[8067,8067],"mapped",[7939,953]],[[8068,8068],"mapped",[7940,953]],[[8069,8069],"mapped",[7941,953]],[[8070,8070],"mapped",[7942,953]],[[8071,8071],"mapped",[7943,953]],[[8072,8072],"mapped",[7936,953]],[[8073,8073],"mapped",[7937,953]],[[8074,8074],"mapped",[7938,953]],[[8075,8075],"mapped",[7939,953]],[[8076,8076],"mapped",[7940,953]],[[8077,8077],"mapped",[7941,953]],[[8078,8078],"mapped",[7942,953]],[[8079,8079],"mapped",[7943,953]],[[8080,8080],"mapped",[7968,953]],[[8081,8081],"mapped",[7969,953]],[[8082,8082],"mapped",[7970,953]],[[8083,8083],"mapped",[7971,953]],[[8084,8084],"mapped",[7972,953]],[[8085,8085],"mapped",[7973,953]],[[8086,8086],"mapped",[7974,953]],[[8087,8087],"mapped",[7975,953]],[[8088,8088],"mapped",[7968,953]],[[8089,8089],"mapped",[7969,953]],[[8090,8090],"mapped",[7970,953]],[[8091,8091],"mapped",[7971,953]],[[8092,8092],"mapped",[7972,953]],[[8093,8093],"mapped",[7973,953]],[[8094,8094],"mapped",[7974,953]],[[8095,8095],"mapped",[7975,953]],[[8096,8096],"mapped",[8032,953]],[[8097,8097],"mapped",[8033,953]],[[8098,8098],"mapped",[8034,953]],[[8099,8099],"mapped",[8035,953]],[[8100,8100],"mapped",[8036,953]],[[8101,8101],"mapped",[8037,953]],[[8102,8102],"mapped",[8038,953]],[[8103,8103],"mapped",[8039,953]],[[8104,8104],"mapped",[8032,953]],[[8105,8105],"mapped",[8033,953]],[[8106,8106],"mapped",[8034,953]],[[8107,8107],"mapped",[8035,953]],[[8108,8108],"mapped",[8036,953]],[[8109,8109],"mapped",[8037,953]],[[8110,8110],"mapped",[8038,953]],[[8111,8111],"mapped",[8039,953]],[[8112,8113],"valid"],[[8114,8114],"mapped",[8048,953]],[[8115,8115],"mapped",[945,953]],[[8116,8116],"mapped",[940,953]],[[8117,8117],"disallowed"],[[8118,8118],"valid"],[[8119,8119],"mapped",[8118,953]],[[8120,8120],"mapped",[8112]],[[8121,8121],"mapped",[8113]],[[8122,8122],"mapped",[8048]],[[8123,8123],"mapped",[940]],[[8124,8124],"mapped",[945,953]],[[8125,8125],"disallowed_STD3_mapped",[32,787]],[[8126,8126],"mapped",[953]],[[8127,8127],"disallowed_STD3_mapped",[32,787]],[[8128,8128],"disallowed_STD3_mapped",[32,834]],[[8129,8129],"disallowed_STD3_mapped",[32,776,834]],[[8130,8130],"mapped",[8052,953]],[[8131,8131],"mapped",[951,953]],[[8132,8132],"mapped",[942,953]],[[8133,8133],"disallowed"],[[8134,8134],"valid"],[[8135,8135],"mapped",[8134,953]],[[8136,8136],"mapped",[8050]],[[8137,8137],"mapped",[941]],[[8138,8138],"mapped",[8052]],[[8139,8139],"mapped",[942]],[[8140,8140],"mapped",[951,953]],[[8141,8141],"disallowed_STD3_mapped",[32,787,768]],[[8142,8142],"disallowed_STD3_mapped",[32,787,769]],[[8143,8143],"disallowed_STD3_mapped",[32,787,834]],[[8144,8146],"valid"],[[8147,8147],"mapped",[912]],[[8148,8149],"disallowed"],[[8150,8151],"valid"],[[8152,8152],"mapped",[8144]],[[8153,8153],"mapped",[8145]],[[8154,8154],"mapped",[8054]],[[8155,8155],"mapped",[943]],[[8156,8156],"disallowed"],[[8157,8157],"disallowed_STD3_mapped",[32,788,768]],[[8158,8158],"disallowed_STD3_mapped",[32,788,769]],[[8159,8159],"disallowed_STD3_mapped",[32,788,834]],[[8160,8162],"valid"],[[8163,8163],"mapped",[944]],[[8164,8167],"valid"],[[8168,8168],"mapped",[8160]],[[8169,8169],"mapped",[8161]],[[8170,8170],"mapped",[8058]],[[8171,8171],"mapped",[973]],[[8172,8172],"mapped",[8165]],[[8173,8173],"disallowed_STD3_mapped",[32,776,768]],[[8174,8174],"disallowed_STD3_mapped",[32,776,769]],[[8175,8175],"disallowed_STD3_mapped",[96]],[[8176,8177],"disallowed"],[[8178,8178],"mapped",[8060,953]],[[8179,8179],"mapped",[969,953]],[[8180,8180],"mapped",[974,953]],[[8181,8181],"disallowed"],[[8182,8182],"valid"],[[8183,8183],"mapped",[8182,953]],[[8184,8184],"mapped",[8056]],[[8185,8185],"mapped",[972]],[[8186,8186],"mapped",[8060]],[[8187,8187],"mapped",[974]],[[8188,8188],"mapped",[969,953]],[[8189,8189],"disallowed_STD3_mapped",[32,769]],[[8190,8190],"disallowed_STD3_mapped",[32,788]],[[8191,8191],"disallowed"],[[8192,8202],"disallowed_STD3_mapped",[32]],[[8203,8203],"ignored"],[[8204,8205],"deviation",[]],[[8206,8207],"disallowed"],[[8208,8208],"valid",[],"NV8"],[[8209,8209],"mapped",[8208]],[[8210,8214],"valid",[],"NV8"],[[8215,8215],"disallowed_STD3_mapped",[32,819]],[[8216,8227],"valid",[],"NV8"],[[8228,8230],"disallowed"],[[8231,8231],"valid",[],"NV8"],[[8232,8238],"disallowed"],[[8239,8239],"disallowed_STD3_mapped",[32]],[[8240,8242],"valid",[],"NV8"],[[8243,8243],"mapped",[8242,8242]],[[8244,8244],"mapped",[8242,8242,8242]],[[8245,8245],"valid",[],"NV8"],[[8246,8246],"mapped",[8245,8245]],[[8247,8247],"mapped",[8245,8245,8245]],[[8248,8251],"valid",[],"NV8"],[[8252,8252],"disallowed_STD3_mapped",[33,33]],[[8253,8253],"valid",[],"NV8"],[[8254,8254],"disallowed_STD3_mapped",[32,773]],[[8255,8262],"valid",[],"NV8"],[[8263,8263],"disallowed_STD3_mapped",[63,63]],[[8264,8264],"disallowed_STD3_mapped",[63,33]],[[8265,8265],"disallowed_STD3_mapped",[33,63]],[[8266,8269],"valid",[],"NV8"],[[8270,8274],"valid",[],"NV8"],[[8275,8276],"valid",[],"NV8"],[[8277,8278],"valid",[],"NV8"],[[8279,8279],"mapped",[8242,8242,8242,8242]],[[8280,8286],"valid",[],"NV8"],[[8287,8287],"disallowed_STD3_mapped",[32]],[[8288,8288],"ignored"],[[8289,8291],"disallowed"],[[8292,8292],"ignored"],[[8293,8293],"disallowed"],[[8294,8297],"disallowed"],[[8298,8303],"disallowed"],[[8304,8304],"mapped",[48]],[[8305,8305],"mapped",[105]],[[8306,8307],"disallowed"],[[8308,8308],"mapped",[52]],[[8309,8309],"mapped",[53]],[[8310,8310],"mapped",[54]],[[8311,8311],"mapped",[55]],[[8312,8312],"mapped",[56]],[[8313,8313],"mapped",[57]],[[8314,8314],"disallowed_STD3_mapped",[43]],[[8315,8315],"mapped",[8722]],[[8316,8316],"disallowed_STD3_mapped",[61]],[[8317,8317],"disallowed_STD3_mapped",[40]],[[8318,8318],"disallowed_STD3_mapped",[41]],[[8319,8319],"mapped",[110]],[[8320,8320],"mapped",[48]],[[8321,8321],"mapped",[49]],[[8322,8322],"mapped",[50]],[[8323,8323],"mapped",[51]],[[8324,8324],"mapped",[52]],[[8325,8325],"mapped",[53]],[[8326,8326],"mapped",[54]],[[8327,8327],"mapped",[55]],[[8328,8328],"mapped",[56]],[[8329,8329],"mapped",[57]],[[8330,8330],"disallowed_STD3_mapped",[43]],[[8331,8331],"mapped",[8722]],[[8332,8332],"disallowed_STD3_mapped",[61]],[[8333,8333],"disallowed_STD3_mapped",[40]],[[8334,8334],"disallowed_STD3_mapped",[41]],[[8335,8335],"disallowed"],[[8336,8336],"mapped",[97]],[[8337,8337],"mapped",[101]],[[8338,8338],"mapped",[111]],[[8339,8339],"mapped",[120]],[[8340,8340],"mapped",[601]],[[8341,8341],"mapped",[104]],[[8342,8342],"mapped",[107]],[[8343,8343],"mapped",[108]],[[8344,8344],"mapped",[109]],[[8345,8345],"mapped",[110]],[[8346,8346],"mapped",[112]],[[8347,8347],"mapped",[115]],[[8348,8348],"mapped",[116]],[[8349,8351],"disallowed"],[[8352,8359],"valid",[],"NV8"],[[8360,8360],"mapped",[114,115]],[[8361,8362],"valid",[],"NV8"],[[8363,8363],"valid",[],"NV8"],[[8364,8364],"valid",[],"NV8"],[[8365,8367],"valid",[],"NV8"],[[8368,8369],"valid",[],"NV8"],[[8370,8373],"valid",[],"NV8"],[[8374,8376],"valid",[],"NV8"],[[8377,8377],"valid",[],"NV8"],[[8378,8378],"valid",[],"NV8"],[[8379,8381],"valid",[],"NV8"],[[8382,8382],"valid",[],"NV8"],[[8383,8399],"disallowed"],[[8400,8417],"valid",[],"NV8"],[[8418,8419],"valid",[],"NV8"],[[8420,8426],"valid",[],"NV8"],[[8427,8427],"valid",[],"NV8"],[[8428,8431],"valid",[],"NV8"],[[8432,8432],"valid",[],"NV8"],[[8433,8447],"disallowed"],[[8448,8448],"disallowed_STD3_mapped",[97,47,99]],[[8449,8449],"disallowed_STD3_mapped",[97,47,115]],[[8450,8450],"mapped",[99]],[[8451,8451],"mapped",[176,99]],[[8452,8452],"valid",[],"NV8"],[[8453,8453],"disallowed_STD3_mapped",[99,47,111]],[[8454,8454],"disallowed_STD3_mapped",[99,47,117]],[[8455,8455],"mapped",[603]],[[8456,8456],"valid",[],"NV8"],[[8457,8457],"mapped",[176,102]],[[8458,8458],"mapped",[103]],[[8459,8462],"mapped",[104]],[[8463,8463],"mapped",[295]],[[8464,8465],"mapped",[105]],[[8466,8467],"mapped",[108]],[[8468,8468],"valid",[],"NV8"],[[8469,8469],"mapped",[110]],[[8470,8470],"mapped",[110,111]],[[8471,8472],"valid",[],"NV8"],[[8473,8473],"mapped",[112]],[[8474,8474],"mapped",[113]],[[8475,8477],"mapped",[114]],[[8478,8479],"valid",[],"NV8"],[[8480,8480],"mapped",[115,109]],[[8481,8481],"mapped",[116,101,108]],[[8482,8482],"mapped",[116,109]],[[8483,8483],"valid",[],"NV8"],[[8484,8484],"mapped",[122]],[[8485,8485],"valid",[],"NV8"],[[8486,8486],"mapped",[969]],[[8487,8487],"valid",[],"NV8"],[[8488,8488],"mapped",[122]],[[8489,8489],"valid",[],"NV8"],[[8490,8490],"mapped",[107]],[[8491,8491],"mapped",[229]],[[8492,8492],"mapped",[98]],[[8493,8493],"mapped",[99]],[[8494,8494],"valid",[],"NV8"],[[8495,8496],"mapped",[101]],[[8497,8497],"mapped",[102]],[[8498,8498],"disallowed"],[[8499,8499],"mapped",[109]],[[8500,8500],"mapped",[111]],[[8501,8501],"mapped",[1488]],[[8502,8502],"mapped",[1489]],[[8503,8503],"mapped",[1490]],[[8504,8504],"mapped",[1491]],[[8505,8505],"mapped",[105]],[[8506,8506],"valid",[],"NV8"],[[8507,8507],"mapped",[102,97,120]],[[8508,8508],"mapped",[960]],[[8509,8510],"mapped",[947]],[[8511,8511],"mapped",[960]],[[8512,8512],"mapped",[8721]],[[8513,8516],"valid",[],"NV8"],[[8517,8518],"mapped",[100]],[[8519,8519],"mapped",[101]],[[8520,8520],"mapped",[105]],[[8521,8521],"mapped",[106]],[[8522,8523],"valid",[],"NV8"],[[8524,8524],"valid",[],"NV8"],[[8525,8525],"valid",[],"NV8"],[[8526,8526],"valid"],[[8527,8527],"valid",[],"NV8"],[[8528,8528],"mapped",[49,8260,55]],[[8529,8529],"mapped",[49,8260,57]],[[8530,8530],"mapped",[49,8260,49,48]],[[8531,8531],"mapped",[49,8260,51]],[[8532,8532],"mapped",[50,8260,51]],[[8533,8533],"mapped",[49,8260,53]],[[8534,8534],"mapped",[50,8260,53]],[[8535,8535],"mapped",[51,8260,53]],[[8536,8536],"mapped",[52,8260,53]],[[8537,8537],"mapped",[49,8260,54]],[[8538,8538],"mapped",[53,8260,54]],[[8539,8539],"mapped",[49,8260,56]],[[8540,8540],"mapped",[51,8260,56]],[[8541,8541],"mapped",[53,8260,56]],[[8542,8542],"mapped",[55,8260,56]],[[8543,8543],"mapped",[49,8260]],[[8544,8544],"mapped",[105]],[[8545,8545],"mapped",[105,105]],[[8546,8546],"mapped",[105,105,105]],[[8547,8547],"mapped",[105,118]],[[8548,8548],"mapped",[118]],[[8549,8549],"mapped",[118,105]],[[8550,8550],"mapped",[118,105,105]],[[8551,8551],"mapped",[118,105,105,105]],[[8552,8552],"mapped",[105,120]],[[8553,8553],"mapped",[120]],[[8554,8554],"mapped",[120,105]],[[8555,8555],"mapped",[120,105,105]],[[8556,8556],"mapped",[108]],[[8557,8557],"mapped",[99]],[[8558,8558],"mapped",[100]],[[8559,8559],"mapped",[109]],[[8560,8560],"mapped",[105]],[[8561,8561],"mapped",[105,105]],[[8562,8562],"mapped",[105,105,105]],[[8563,8563],"mapped",[105,118]],[[8564,8564],"mapped",[118]],[[8565,8565],"mapped",[118,105]],[[8566,8566],"mapped",[118,105,105]],[[8567,8567],"mapped",[118,105,105,105]],[[8568,8568],"mapped",[105,120]],[[8569,8569],"mapped",[120]],[[8570,8570],"mapped",[120,105]],[[8571,8571],"mapped",[120,105,105]],[[8572,8572],"mapped",[108]],[[8573,8573],"mapped",[99]],[[8574,8574],"mapped",[100]],[[8575,8575],"mapped",[109]],[[8576,8578],"valid",[],"NV8"],[[8579,8579],"disallowed"],[[8580,8580],"valid"],[[8581,8584],"valid",[],"NV8"],[[8585,8585],"mapped",[48,8260,51]],[[8586,8587],"valid",[],"NV8"],[[8588,8591],"disallowed"],[[8592,8682],"valid",[],"NV8"],[[8683,8691],"valid",[],"NV8"],[[8692,8703],"valid",[],"NV8"],[[8704,8747],"valid",[],"NV8"],[[8748,8748],"mapped",[8747,8747]],[[8749,8749],"mapped",[8747,8747,8747]],[[8750,8750],"valid",[],"NV8"],[[8751,8751],"mapped",[8750,8750]],[[8752,8752],"mapped",[8750,8750,8750]],[[8753,8799],"valid",[],"NV8"],[[8800,8800],"disallowed_STD3_valid"],[[8801,8813],"valid",[],"NV8"],[[8814,8815],"disallowed_STD3_valid"],[[8816,8945],"valid",[],"NV8"],[[8946,8959],"valid",[],"NV8"],[[8960,8960],"valid",[],"NV8"],[[8961,8961],"valid",[],"NV8"],[[8962,9000],"valid",[],"NV8"],[[9001,9001],"mapped",[12296]],[[9002,9002],"mapped",[12297]],[[9003,9082],"valid",[],"NV8"],[[9083,9083],"valid",[],"NV8"],[[9084,9084],"valid",[],"NV8"],[[9085,9114],"valid",[],"NV8"],[[9115,9166],"valid",[],"NV8"],[[9167,9168],"valid",[],"NV8"],[[9169,9179],"valid",[],"NV8"],[[9180,9191],"valid",[],"NV8"],[[9192,9192],"valid",[],"NV8"],[[9193,9203],"valid",[],"NV8"],[[9204,9210],"valid",[],"NV8"],[[9211,9215],"disallowed"],[[9216,9252],"valid",[],"NV8"],[[9253,9254],"valid",[],"NV8"],[[9255,9279],"disallowed"],[[9280,9290],"valid",[],"NV8"],[[9291,9311],"disallowed"],[[9312,9312],"mapped",[49]],[[9313,9313],"mapped",[50]],[[9314,9314],"mapped",[51]],[[9315,9315],"mapped",[52]],[[9316,9316],"mapped",[53]],[[9317,9317],"mapped",[54]],[[9318,9318],"mapped",[55]],[[9319,9319],"mapped",[56]],[[9320,9320],"mapped",[57]],[[9321,9321],"mapped",[49,48]],[[9322,9322],"mapped",[49,49]],[[9323,9323],"mapped",[49,50]],[[9324,9324],"mapped",[49,51]],[[9325,9325],"mapped",[49,52]],[[9326,9326],"mapped",[49,53]],[[9327,9327],"mapped",[49,54]],[[9328,9328],"mapped",[49,55]],[[9329,9329],"mapped",[49,56]],[[9330,9330],"mapped",[49,57]],[[9331,9331],"mapped",[50,48]],[[9332,9332],"disallowed_STD3_mapped",[40,49,41]],[[9333,9333],"disallowed_STD3_mapped",[40,50,41]],[[9334,9334],"disallowed_STD3_mapped",[40,51,41]],[[9335,9335],"disallowed_STD3_mapped",[40,52,41]],[[9336,9336],"disallowed_STD3_mapped",[40,53,41]],[[9337,9337],"disallowed_STD3_mapped",[40,54,41]],[[9338,9338],"disallowed_STD3_mapped",[40,55,41]],[[9339,9339],"disallowed_STD3_mapped",[40,56,41]],[[9340,9340],"disallowed_STD3_mapped",[40,57,41]],[[9341,9341],"disallowed_STD3_mapped",[40,49,48,41]],[[9342,9342],"disallowed_STD3_mapped",[40,49,49,41]],[[9343,9343],"disallowed_STD3_mapped",[40,49,50,41]],[[9344,9344],"disallowed_STD3_mapped",[40,49,51,41]],[[9345,9345],"disallowed_STD3_mapped",[40,49,52,41]],[[9346,9346],"disallowed_STD3_mapped",[40,49,53,41]],[[9347,9347],"disallowed_STD3_mapped",[40,49,54,41]],[[9348,9348],"disallowed_STD3_mapped",[40,49,55,41]],[[9349,9349],"disallowed_STD3_mapped",[40,49,56,41]],[[9350,9350],"disallowed_STD3_mapped",[40,49,57,41]],[[9351,9351],"disallowed_STD3_mapped",[40,50,48,41]],[[9352,9371],"disallowed"],[[9372,9372],"disallowed_STD3_mapped",[40,97,41]],[[9373,9373],"disallowed_STD3_mapped",[40,98,41]],[[9374,9374],"disallowed_STD3_mapped",[40,99,41]],[[9375,9375],"disallowed_STD3_mapped",[40,100,41]],[[9376,9376],"disallowed_STD3_mapped",[40,101,41]],[[9377,9377],"disallowed_STD3_mapped",[40,102,41]],[[9378,9378],"disallowed_STD3_mapped",[40,103,41]],[[9379,9379],"disallowed_STD3_mapped",[40,104,41]],[[9380,9380],"disallowed_STD3_mapped",[40,105,41]],[[9381,9381],"disallowed_STD3_mapped",[40,106,41]],[[9382,9382],"disallowed_STD3_mapped",[40,107,41]],[[9383,9383],"disallowed_STD3_mapped",[40,108,41]],[[9384,9384],"disallowed_STD3_mapped",[40,109,41]],[[9385,9385],"disallowed_STD3_mapped",[40,110,41]],[[9386,9386],"disallowed_STD3_mapped",[40,111,41]],[[9387,9387],"disallowed_STD3_mapped",[40,112,41]],[[9388,9388],"disallowed_STD3_mapped",[40,113,41]],[[9389,9389],"disallowed_STD3_mapped",[40,114,41]],[[9390,9390],"disallowed_STD3_mapped",[40,115,41]],[[9391,9391],"disallowed_STD3_mapped",[40,116,41]],[[9392,9392],"disallowed_STD3_mapped",[40,117,41]],[[9393,9393],"disallowed_STD3_mapped",[40,118,41]],[[9394,9394],"disallowed_STD3_mapped",[40,119,41]],[[9395,9395],"disallowed_STD3_mapped",[40,120,41]],[[9396,9396],"disallowed_STD3_mapped",[40,121,41]],[[9397,9397],"disallowed_STD3_mapped",[40,122,41]],[[9398,9398],"mapped",[97]],[[9399,9399],"mapped",[98]],[[9400,9400],"mapped",[99]],[[9401,9401],"mapped",[100]],[[9402,9402],"mapped",[101]],[[9403,9403],"mapped",[102]],[[9404,9404],"mapped",[103]],[[9405,9405],"mapped",[104]],[[9406,9406],"mapped",[105]],[[9407,9407],"mapped",[106]],[[9408,9408],"mapped",[107]],[[9409,9409],"mapped",[108]],[[9410,9410],"mapped",[109]],[[9411,9411],"mapped",[110]],[[9412,9412],"mapped",[111]],[[9413,9413],"mapped",[112]],[[9414,9414],"mapped",[113]],[[9415,9415],"mapped",[114]],[[9416,9416],"mapped",[115]],[[9417,9417],"mapped",[116]],[[9418,9418],"mapped",[117]],[[9419,9419],"mapped",[118]],[[9420,9420],"mapped",[119]],[[9421,9421],"mapped",[120]],[[9422,9422],"mapped",[121]],[[9423,9423],"mapped",[122]],[[9424,9424],"mapped",[97]],[[9425,9425],"mapped",[98]],[[9426,9426],"mapped",[99]],[[9427,9427],"mapped",[100]],[[9428,9428],"mapped",[101]],[[9429,9429],"mapped",[102]],[[9430,9430],"mapped",[103]],[[9431,9431],"mapped",[104]],[[9432,9432],"mapped",[105]],[[9433,9433],"mapped",[106]],[[9434,9434],"mapped",[107]],[[9435,9435],"mapped",[108]],[[9436,9436],"mapped",[109]],[[9437,9437],"mapped",[110]],[[9438,9438],"mapped",[111]],[[9439,9439],"mapped",[112]],[[9440,9440],"mapped",[113]],[[9441,9441],"mapped",[114]],[[9442,9442],"mapped",[115]],[[9443,9443],"mapped",[116]],[[9444,9444],"mapped",[117]],[[9445,9445],"mapped",[118]],[[9446,9446],"mapped",[119]],[[9447,9447],"mapped",[120]],[[9448,9448],"mapped",[121]],[[9449,9449],"mapped",[122]],[[9450,9450],"mapped",[48]],[[9451,9470],"valid",[],"NV8"],[[9471,9471],"valid",[],"NV8"],[[9472,9621],"valid",[],"NV8"],[[9622,9631],"valid",[],"NV8"],[[9632,9711],"valid",[],"NV8"],[[9712,9719],"valid",[],"NV8"],[[9720,9727],"valid",[],"NV8"],[[9728,9747],"valid",[],"NV8"],[[9748,9749],"valid",[],"NV8"],[[9750,9751],"valid",[],"NV8"],[[9752,9752],"valid",[],"NV8"],[[9753,9753],"valid",[],"NV8"],[[9754,9839],"valid",[],"NV8"],[[9840,9841],"valid",[],"NV8"],[[9842,9853],"valid",[],"NV8"],[[9854,9855],"valid",[],"NV8"],[[9856,9865],"valid",[],"NV8"],[[9866,9873],"valid",[],"NV8"],[[9874,9884],"valid",[],"NV8"],[[9885,9885],"valid",[],"NV8"],[[9886,9887],"valid",[],"NV8"],[[9888,9889],"valid",[],"NV8"],[[9890,9905],"valid",[],"NV8"],[[9906,9906],"valid",[],"NV8"],[[9907,9916],"valid",[],"NV8"],[[9917,9919],"valid",[],"NV8"],[[9920,9923],"valid",[],"NV8"],[[9924,9933],"valid",[],"NV8"],[[9934,9934],"valid",[],"NV8"],[[9935,9953],"valid",[],"NV8"],[[9954,9954],"valid",[],"NV8"],[[9955,9955],"valid",[],"NV8"],[[9956,9959],"valid",[],"NV8"],[[9960,9983],"valid",[],"NV8"],[[9984,9984],"valid",[],"NV8"],[[9985,9988],"valid",[],"NV8"],[[9989,9989],"valid",[],"NV8"],[[9990,9993],"valid",[],"NV8"],[[9994,9995],"valid",[],"NV8"],[[9996,10023],"valid",[],"NV8"],[[10024,10024],"valid",[],"NV8"],[[10025,10059],"valid",[],"NV8"],[[10060,10060],"valid",[],"NV8"],[[10061,10061],"valid",[],"NV8"],[[10062,10062],"valid",[],"NV8"],[[10063,10066],"valid",[],"NV8"],[[10067,10069],"valid",[],"NV8"],[[10070,10070],"valid",[],"NV8"],[[10071,10071],"valid",[],"NV8"],[[10072,10078],"valid",[],"NV8"],[[10079,10080],"valid",[],"NV8"],[[10081,10087],"valid",[],"NV8"],[[10088,10101],"valid",[],"NV8"],[[10102,10132],"valid",[],"NV8"],[[10133,10135],"valid",[],"NV8"],[[10136,10159],"valid",[],"NV8"],[[10160,10160],"valid",[],"NV8"],[[10161,10174],"valid",[],"NV8"],[[10175,10175],"valid",[],"NV8"],[[10176,10182],"valid",[],"NV8"],[[10183,10186],"valid",[],"NV8"],[[10187,10187],"valid",[],"NV8"],[[10188,10188],"valid",[],"NV8"],[[10189,10189],"valid",[],"NV8"],[[10190,10191],"valid",[],"NV8"],[[10192,10219],"valid",[],"NV8"],[[10220,10223],"valid",[],"NV8"],[[10224,10239],"valid",[],"NV8"],[[10240,10495],"valid",[],"NV8"],[[10496,10763],"valid",[],"NV8"],[[10764,10764],"mapped",[8747,8747,8747,8747]],[[10765,10867],"valid",[],"NV8"],[[10868,10868],"disallowed_STD3_mapped",[58,58,61]],[[10869,10869],"disallowed_STD3_mapped",[61,61]],[[10870,10870],"disallowed_STD3_mapped",[61,61,61]],[[10871,10971],"valid",[],"NV8"],[[10972,10972],"mapped",[10973,824]],[[10973,11007],"valid",[],"NV8"],[[11008,11021],"valid",[],"NV8"],[[11022,11027],"valid",[],"NV8"],[[11028,11034],"valid",[],"NV8"],[[11035,11039],"valid",[],"NV8"],[[11040,11043],"valid",[],"NV8"],[[11044,11084],"valid",[],"NV8"],[[11085,11087],"valid",[],"NV8"],[[11088,11092],"valid",[],"NV8"],[[11093,11097],"valid",[],"NV8"],[[11098,11123],"valid",[],"NV8"],[[11124,11125],"disallowed"],[[11126,11157],"valid",[],"NV8"],[[11158,11159],"disallowed"],[[11160,11193],"valid",[],"NV8"],[[11194,11196],"disallowed"],[[11197,11208],"valid",[],"NV8"],[[11209,11209],"disallowed"],[[11210,11217],"valid",[],"NV8"],[[11218,11243],"disallowed"],[[11244,11247],"valid",[],"NV8"],[[11248,11263],"disallowed"],[[11264,11264],"mapped",[11312]],[[11265,11265],"mapped",[11313]],[[11266,11266],"mapped",[11314]],[[11267,11267],"mapped",[11315]],[[11268,11268],"mapped",[11316]],[[11269,11269],"mapped",[11317]],[[11270,11270],"mapped",[11318]],[[11271,11271],"mapped",[11319]],[[11272,11272],"mapped",[11320]],[[11273,11273],"mapped",[11321]],[[11274,11274],"mapped",[11322]],[[11275,11275],"mapped",[11323]],[[11276,11276],"mapped",[11324]],[[11277,11277],"mapped",[11325]],[[11278,11278],"mapped",[11326]],[[11279,11279],"mapped",[11327]],[[11280,11280],"mapped",[11328]],[[11281,11281],"mapped",[11329]],[[11282,11282],"mapped",[11330]],[[11283,11283],"mapped",[11331]],[[11284,11284],"mapped",[11332]],[[11285,11285],"mapped",[11333]],[[11286,11286],"mapped",[11334]],[[11287,11287],"mapped",[11335]],[[11288,11288],"mapped",[11336]],[[11289,11289],"mapped",[11337]],[[11290,11290],"mapped",[11338]],[[11291,11291],"mapped",[11339]],[[11292,11292],"mapped",[11340]],[[11293,11293],"mapped",[11341]],[[11294,11294],"mapped",[11342]],[[11295,11295],"mapped",[11343]],[[11296,11296],"mapped",[11344]],[[11297,11297],"mapped",[11345]],[[11298,11298],"mapped",[11346]],[[11299,11299],"mapped",[11347]],[[11300,11300],"mapped",[11348]],[[11301,11301],"mapped",[11349]],[[11302,11302],"mapped",[11350]],[[11303,11303],"mapped",[11351]],[[11304,11304],"mapped",[11352]],[[11305,11305],"mapped",[11353]],[[11306,11306],"mapped",[11354]],[[11307,11307],"mapped",[11355]],[[11308,11308],"mapped",[11356]],[[11309,11309],"mapped",[11357]],[[11310,11310],"mapped",[11358]],[[11311,11311],"disallowed"],[[11312,11358],"valid"],[[11359,11359],"disallowed"],[[11360,11360],"mapped",[11361]],[[11361,11361],"valid"],[[11362,11362],"mapped",[619]],[[11363,11363],"mapped",[7549]],[[11364,11364],"mapped",[637]],[[11365,11366],"valid"],[[11367,11367],"mapped",[11368]],[[11368,11368],"valid"],[[11369,11369],"mapped",[11370]],[[11370,11370],"valid"],[[11371,11371],"mapped",[11372]],[[11372,11372],"valid"],[[11373,11373],"mapped",[593]],[[11374,11374],"mapped",[625]],[[11375,11375],"mapped",[592]],[[11376,11376],"mapped",[594]],[[11377,11377],"valid"],[[11378,11378],"mapped",[11379]],[[11379,11379],"valid"],[[11380,11380],"valid"],[[11381,11381],"mapped",[11382]],[[11382,11383],"valid"],[[11384,11387],"valid"],[[11388,11388],"mapped",[106]],[[11389,11389],"mapped",[118]],[[11390,11390],"mapped",[575]],[[11391,11391],"mapped",[576]],[[11392,11392],"mapped",[11393]],[[11393,11393],"valid"],[[11394,11394],"mapped",[11395]],[[11395,11395],"valid"],[[11396,11396],"mapped",[11397]],[[11397,11397],"valid"],[[11398,11398],"mapped",[11399]],[[11399,11399],"valid"],[[11400,11400],"mapped",[11401]],[[11401,11401],"valid"],[[11402,11402],"mapped",[11403]],[[11403,11403],"valid"],[[11404,11404],"mapped",[11405]],[[11405,11405],"valid"],[[11406,11406],"mapped",[11407]],[[11407,11407],"valid"],[[11408,11408],"mapped",[11409]],[[11409,11409],"valid"],[[11410,11410],"mapped",[11411]],[[11411,11411],"valid"],[[11412,11412],"mapped",[11413]],[[11413,11413],"valid"],[[11414,11414],"mapped",[11415]],[[11415,11415],"valid"],[[11416,11416],"mapped",[11417]],[[11417,11417],"valid"],[[11418,11418],"mapped",[11419]],[[11419,11419],"valid"],[[11420,11420],"mapped",[11421]],[[11421,11421],"valid"],[[11422,11422],"mapped",[11423]],[[11423,11423],"valid"],[[11424,11424],"mapped",[11425]],[[11425,11425],"valid"],[[11426,11426],"mapped",[11427]],[[11427,11427],"valid"],[[11428,11428],"mapped",[11429]],[[11429,11429],"valid"],[[11430,11430],"mapped",[11431]],[[11431,11431],"valid"],[[11432,11432],"mapped",[11433]],[[11433,11433],"valid"],[[11434,11434],"mapped",[11435]],[[11435,11435],"valid"],[[11436,11436],"mapped",[11437]],[[11437,11437],"valid"],[[11438,11438],"mapped",[11439]],[[11439,11439],"valid"],[[11440,11440],"mapped",[11441]],[[11441,11441],"valid"],[[11442,11442],"mapped",[11443]],[[11443,11443],"valid"],[[11444,11444],"mapped",[11445]],[[11445,11445],"valid"],[[11446,11446],"mapped",[11447]],[[11447,11447],"valid"],[[11448,11448],"mapped",[11449]],[[11449,11449],"valid"],[[11450,11450],"mapped",[11451]],[[11451,11451],"valid"],[[11452,11452],"mapped",[11453]],[[11453,11453],"valid"],[[11454,11454],"mapped",[11455]],[[11455,11455],"valid"],[[11456,11456],"mapped",[11457]],[[11457,11457],"valid"],[[11458,11458],"mapped",[11459]],[[11459,11459],"valid"],[[11460,11460],"mapped",[11461]],[[11461,11461],"valid"],[[11462,11462],"mapped",[11463]],[[11463,11463],"valid"],[[11464,11464],"mapped",[11465]],[[11465,11465],"valid"],[[11466,11466],"mapped",[11467]],[[11467,11467],"valid"],[[11468,11468],"mapped",[11469]],[[11469,11469],"valid"],[[11470,11470],"mapped",[11471]],[[11471,11471],"valid"],[[11472,11472],"mapped",[11473]],[[11473,11473],"valid"],[[11474,11474],"mapped",[11475]],[[11475,11475],"valid"],[[11476,11476],"mapped",[11477]],[[11477,11477],"valid"],[[11478,11478],"mapped",[11479]],[[11479,11479],"valid"],[[11480,11480],"mapped",[11481]],[[11481,11481],"valid"],[[11482,11482],"mapped",[11483]],[[11483,11483],"valid"],[[11484,11484],"mapped",[11485]],[[11485,11485],"valid"],[[11486,11486],"mapped",[11487]],[[11487,11487],"valid"],[[11488,11488],"mapped",[11489]],[[11489,11489],"valid"],[[11490,11490],"mapped",[11491]],[[11491,11492],"valid"],[[11493,11498],"valid",[],"NV8"],[[11499,11499],"mapped",[11500]],[[11500,11500],"valid"],[[11501,11501],"mapped",[11502]],[[11502,11505],"valid"],[[11506,11506],"mapped",[11507]],[[11507,11507],"valid"],[[11508,11512],"disallowed"],[[11513,11519],"valid",[],"NV8"],[[11520,11557],"valid"],[[11558,11558],"disallowed"],[[11559,11559],"valid"],[[11560,11564],"disallowed"],[[11565,11565],"valid"],[[11566,11567],"disallowed"],[[11568,11621],"valid"],[[11622,11623],"valid"],[[11624,11630],"disallowed"],[[11631,11631],"mapped",[11617]],[[11632,11632],"valid",[],"NV8"],[[11633,11646],"disallowed"],[[11647,11647],"valid"],[[11648,11670],"valid"],[[11671,11679],"disallowed"],[[11680,11686],"valid"],[[11687,11687],"disallowed"],[[11688,11694],"valid"],[[11695,11695],"disallowed"],[[11696,11702],"valid"],[[11703,11703],"disallowed"],[[11704,11710],"valid"],[[11711,11711],"disallowed"],[[11712,11718],"valid"],[[11719,11719],"disallowed"],[[11720,11726],"valid"],[[11727,11727],"disallowed"],[[11728,11734],"valid"],[[11735,11735],"disallowed"],[[11736,11742],"valid"],[[11743,11743],"disallowed"],[[11744,11775],"valid"],[[11776,11799],"valid",[],"NV8"],[[11800,11803],"valid",[],"NV8"],[[11804,11805],"valid",[],"NV8"],[[11806,11822],"valid",[],"NV8"],[[11823,11823],"valid"],[[11824,11824],"valid",[],"NV8"],[[11825,11825],"valid",[],"NV8"],[[11826,11835],"valid",[],"NV8"],[[11836,11842],"valid",[],"NV8"],[[11843,11903],"disallowed"],[[11904,11929],"valid",[],"NV8"],[[11930,11930],"disallowed"],[[11931,11934],"valid",[],"NV8"],[[11935,11935],"mapped",[27597]],[[11936,12018],"valid",[],"NV8"],[[12019,12019],"mapped",[40863]],[[12020,12031],"disallowed"],[[12032,12032],"mapped",[19968]],[[12033,12033],"mapped",[20008]],[[12034,12034],"mapped",[20022]],[[12035,12035],"mapped",[20031]],[[12036,12036],"mapped",[20057]],[[12037,12037],"mapped",[20101]],[[12038,12038],"mapped",[20108]],[[12039,12039],"mapped",[20128]],[[12040,12040],"mapped",[20154]],[[12041,12041],"mapped",[20799]],[[12042,12042],"mapped",[20837]],[[12043,12043],"mapped",[20843]],[[12044,12044],"mapped",[20866]],[[12045,12045],"mapped",[20886]],[[12046,12046],"mapped",[20907]],[[12047,12047],"mapped",[20960]],[[12048,12048],"mapped",[20981]],[[12049,12049],"mapped",[20992]],[[12050,12050],"mapped",[21147]],[[12051,12051],"mapped",[21241]],[[12052,12052],"mapped",[21269]],[[12053,12053],"mapped",[21274]],[[12054,12054],"mapped",[21304]],[[12055,12055],"mapped",[21313]],[[12056,12056],"mapped",[21340]],[[12057,12057],"mapped",[21353]],[[12058,12058],"mapped",[21378]],[[12059,12059],"mapped",[21430]],[[12060,12060],"mapped",[21448]],[[12061,12061],"mapped",[21475]],[[12062,12062],"mapped",[22231]],[[12063,12063],"mapped",[22303]],[[12064,12064],"mapped",[22763]],[[12065,12065],"mapped",[22786]],[[12066,12066],"mapped",[22794]],[[12067,12067],"mapped",[22805]],[[12068,12068],"mapped",[22823]],[[12069,12069],"mapped",[22899]],[[12070,12070],"mapped",[23376]],[[12071,12071],"mapped",[23424]],[[12072,12072],"mapped",[23544]],[[12073,12073],"mapped",[23567]],[[12074,12074],"mapped",[23586]],[[12075,12075],"mapped",[23608]],[[12076,12076],"mapped",[23662]],[[12077,12077],"mapped",[23665]],[[12078,12078],"mapped",[24027]],[[12079,12079],"mapped",[24037]],[[12080,12080],"mapped",[24049]],[[12081,12081],"mapped",[24062]],[[12082,12082],"mapped",[24178]],[[12083,12083],"mapped",[24186]],[[12084,12084],"mapped",[24191]],[[12085,12085],"mapped",[24308]],[[12086,12086],"mapped",[24318]],[[12087,12087],"mapped",[24331]],[[12088,12088],"mapped",[24339]],[[12089,12089],"mapped",[24400]],[[12090,12090],"mapped",[24417]],[[12091,12091],"mapped",[24435]],[[12092,12092],"mapped",[24515]],[[12093,12093],"mapped",[25096]],[[12094,12094],"mapped",[25142]],[[12095,12095],"mapped",[25163]],[[12096,12096],"mapped",[25903]],[[12097,12097],"mapped",[25908]],[[12098,12098],"mapped",[25991]],[[12099,12099],"mapped",[26007]],[[12100,12100],"mapped",[26020]],[[12101,12101],"mapped",[26041]],[[12102,12102],"mapped",[26080]],[[12103,12103],"mapped",[26085]],[[12104,12104],"mapped",[26352]],[[12105,12105],"mapped",[26376]],[[12106,12106],"mapped",[26408]],[[12107,12107],"mapped",[27424]],[[12108,12108],"mapped",[27490]],[[12109,12109],"mapped",[27513]],[[12110,12110],"mapped",[27571]],[[12111,12111],"mapped",[27595]],[[12112,12112],"mapped",[27604]],[[12113,12113],"mapped",[27611]],[[12114,12114],"mapped",[27663]],[[12115,12115],"mapped",[27668]],[[12116,12116],"mapped",[27700]],[[12117,12117],"mapped",[28779]],[[12118,12118],"mapped",[29226]],[[12119,12119],"mapped",[29238]],[[12120,12120],"mapped",[29243]],[[12121,12121],"mapped",[29247]],[[12122,12122],"mapped",[29255]],[[12123,12123],"mapped",[29273]],[[12124,12124],"mapped",[29275]],[[12125,12125],"mapped",[29356]],[[12126,12126],"mapped",[29572]],[[12127,12127],"mapped",[29577]],[[12128,12128],"mapped",[29916]],[[12129,12129],"mapped",[29926]],[[12130,12130],"mapped",[29976]],[[12131,12131],"mapped",[29983]],[[12132,12132],"mapped",[29992]],[[12133,12133],"mapped",[30000]],[[12134,12134],"mapped",[30091]],[[12135,12135],"mapped",[30098]],[[12136,12136],"mapped",[30326]],[[12137,12137],"mapped",[30333]],[[12138,12138],"mapped",[30382]],[[12139,12139],"mapped",[30399]],[[12140,12140],"mapped",[30446]],[[12141,12141],"mapped",[30683]],[[12142,12142],"mapped",[30690]],[[12143,12143],"mapped",[30707]],[[12144,12144],"mapped",[31034]],[[12145,12145],"mapped",[31160]],[[12146,12146],"mapped",[31166]],[[12147,12147],"mapped",[31348]],[[12148,12148],"mapped",[31435]],[[12149,12149],"mapped",[31481]],[[12150,12150],"mapped",[31859]],[[12151,12151],"mapped",[31992]],[[12152,12152],"mapped",[32566]],[[12153,12153],"mapped",[32593]],[[12154,12154],"mapped",[32650]],[[12155,12155],"mapped",[32701]],[[12156,12156],"mapped",[32769]],[[12157,12157],"mapped",[32780]],[[12158,12158],"mapped",[32786]],[[12159,12159],"mapped",[32819]],[[12160,12160],"mapped",[32895]],[[12161,12161],"mapped",[32905]],[[12162,12162],"mapped",[33251]],[[12163,12163],"mapped",[33258]],[[12164,12164],"mapped",[33267]],[[12165,12165],"mapped",[33276]],[[12166,12166],"mapped",[33292]],[[12167,12167],"mapped",[33307]],[[12168,12168],"mapped",[33311]],[[12169,12169],"mapped",[33390]],[[12170,12170],"mapped",[33394]],[[12171,12171],"mapped",[33400]],[[12172,12172],"mapped",[34381]],[[12173,12173],"mapped",[34411]],[[12174,12174],"mapped",[34880]],[[12175,12175],"mapped",[34892]],[[12176,12176],"mapped",[34915]],[[12177,12177],"mapped",[35198]],[[12178,12178],"mapped",[35211]],[[12179,12179],"mapped",[35282]],[[12180,12180],"mapped",[35328]],[[12181,12181],"mapped",[35895]],[[12182,12182],"mapped",[35910]],[[12183,12183],"mapped",[35925]],[[12184,12184],"mapped",[35960]],[[12185,12185],"mapped",[35997]],[[12186,12186],"mapped",[36196]],[[12187,12187],"mapped",[36208]],[[12188,12188],"mapped",[36275]],[[12189,12189],"mapped",[36523]],[[12190,12190],"mapped",[36554]],[[12191,12191],"mapped",[36763]],[[12192,12192],"mapped",[36784]],[[12193,12193],"mapped",[36789]],[[12194,12194],"mapped",[37009]],[[12195,12195],"mapped",[37193]],[[12196,12196],"mapped",[37318]],[[12197,12197],"mapped",[37324]],[[12198,12198],"mapped",[37329]],[[12199,12199],"mapped",[38263]],[[12200,12200],"mapped",[38272]],[[12201,12201],"mapped",[38428]],[[12202,12202],"mapped",[38582]],[[12203,12203],"mapped",[38585]],[[12204,12204],"mapped",[38632]],[[12205,12205],"mapped",[38737]],[[12206,12206],"mapped",[38750]],[[12207,12207],"mapped",[38754]],[[12208,12208],"mapped",[38761]],[[12209,12209],"mapped",[38859]],[[12210,12210],"mapped",[38893]],[[12211,12211],"mapped",[38899]],[[12212,12212],"mapped",[38913]],[[12213,12213],"mapped",[39080]],[[12214,12214],"mapped",[39131]],[[12215,12215],"mapped",[39135]],[[12216,12216],"mapped",[39318]],[[12217,12217],"mapped",[39321]],[[12218,12218],"mapped",[39340]],[[12219,12219],"mapped",[39592]],[[12220,12220],"mapped",[39640]],[[12221,12221],"mapped",[39647]],[[12222,12222],"mapped",[39717]],[[12223,12223],"mapped",[39727]],[[12224,12224],"mapped",[39730]],[[12225,12225],"mapped",[39740]],[[12226,12226],"mapped",[39770]],[[12227,12227],"mapped",[40165]],[[12228,12228],"mapped",[40565]],[[12229,12229],"mapped",[40575]],[[12230,12230],"mapped",[40613]],[[12231,12231],"mapped",[40635]],[[12232,12232],"mapped",[40643]],[[12233,12233],"mapped",[40653]],[[12234,12234],"mapped",[40657]],[[12235,12235],"mapped",[40697]],[[12236,12236],"mapped",[40701]],[[12237,12237],"mapped",[40718]],[[12238,12238],"mapped",[40723]],[[12239,12239],"mapped",[40736]],[[12240,12240],"mapped",[40763]],[[12241,12241],"mapped",[40778]],[[12242,12242],"mapped",[40786]],[[12243,12243],"mapped",[40845]],[[12244,12244],"mapped",[40860]],[[12245,12245],"mapped",[40864]],[[12246,12271],"disallowed"],[[12272,12283],"disallowed"],[[12284,12287],"disallowed"],[[12288,12288],"disallowed_STD3_mapped",[32]],[[12289,12289],"valid",[],"NV8"],[[12290,12290],"mapped",[46]],[[12291,12292],"valid",[],"NV8"],[[12293,12295],"valid"],[[12296,12329],"valid",[],"NV8"],[[12330,12333],"valid"],[[12334,12341],"valid",[],"NV8"],[[12342,12342],"mapped",[12306]],[[12343,12343],"valid",[],"NV8"],[[12344,12344],"mapped",[21313]],[[12345,12345],"mapped",[21316]],[[12346,12346],"mapped",[21317]],[[12347,12347],"valid",[],"NV8"],[[12348,12348],"valid"],[[12349,12349],"valid",[],"NV8"],[[12350,12350],"valid",[],"NV8"],[[12351,12351],"valid",[],"NV8"],[[12352,12352],"disallowed"],[[12353,12436],"valid"],[[12437,12438],"valid"],[[12439,12440],"disallowed"],[[12441,12442],"valid"],[[12443,12443],"disallowed_STD3_mapped",[32,12441]],[[12444,12444],"disallowed_STD3_mapped",[32,12442]],[[12445,12446],"valid"],[[12447,12447],"mapped",[12424,12426]],[[12448,12448],"valid",[],"NV8"],[[12449,12542],"valid"],[[12543,12543],"mapped",[12467,12488]],[[12544,12548],"disallowed"],[[12549,12588],"valid"],[[12589,12589],"valid"],[[12590,12592],"disallowed"],[[12593,12593],"mapped",[4352]],[[12594,12594],"mapped",[4353]],[[12595,12595],"mapped",[4522]],[[12596,12596],"mapped",[4354]],[[12597,12597],"mapped",[4524]],[[12598,12598],"mapped",[4525]],[[12599,12599],"mapped",[4355]],[[12600,12600],"mapped",[4356]],[[12601,12601],"mapped",[4357]],[[12602,12602],"mapped",[4528]],[[12603,12603],"mapped",[4529]],[[12604,12604],"mapped",[4530]],[[12605,12605],"mapped",[4531]],[[12606,12606],"mapped",[4532]],[[12607,12607],"mapped",[4533]],[[12608,12608],"mapped",[4378]],[[12609,12609],"mapped",[4358]],[[12610,12610],"mapped",[4359]],[[12611,12611],"mapped",[4360]],[[12612,12612],"mapped",[4385]],[[12613,12613],"mapped",[4361]],[[12614,12614],"mapped",[4362]],[[12615,12615],"mapped",[4363]],[[12616,12616],"mapped",[4364]],[[12617,12617],"mapped",[4365]],[[12618,12618],"mapped",[4366]],[[12619,12619],"mapped",[4367]],[[12620,12620],"mapped",[4368]],[[12621,12621],"mapped",[4369]],[[12622,12622],"mapped",[4370]],[[12623,12623],"mapped",[4449]],[[12624,12624],"mapped",[4450]],[[12625,12625],"mapped",[4451]],[[12626,12626],"mapped",[4452]],[[12627,12627],"mapped",[4453]],[[12628,12628],"mapped",[4454]],[[12629,12629],"mapped",[4455]],[[12630,12630],"mapped",[4456]],[[12631,12631],"mapped",[4457]],[[12632,12632],"mapped",[4458]],[[12633,12633],"mapped",[4459]],[[12634,12634],"mapped",[4460]],[[12635,12635],"mapped",[4461]],[[12636,12636],"mapped",[4462]],[[12637,12637],"mapped",[4463]],[[12638,12638],"mapped",[4464]],[[12639,12639],"mapped",[4465]],[[12640,12640],"mapped",[4466]],[[12641,12641],"mapped",[4467]],[[12642,12642],"mapped",[4468]],[[12643,12643],"mapped",[4469]],[[12644,12644],"disallowed"],[[12645,12645],"mapped",[4372]],[[12646,12646],"mapped",[4373]],[[12647,12647],"mapped",[4551]],[[12648,12648],"mapped",[4552]],[[12649,12649],"mapped",[4556]],[[12650,12650],"mapped",[4558]],[[12651,12651],"mapped",[4563]],[[12652,12652],"mapped",[4567]],[[12653,12653],"mapped",[4569]],[[12654,12654],"mapped",[4380]],[[12655,12655],"mapped",[4573]],[[12656,12656],"mapped",[4575]],[[12657,12657],"mapped",[4381]],[[12658,12658],"mapped",[4382]],[[12659,12659],"mapped",[4384]],[[12660,12660],"mapped",[4386]],[[12661,12661],"mapped",[4387]],[[12662,12662],"mapped",[4391]],[[12663,12663],"mapped",[4393]],[[12664,12664],"mapped",[4395]],[[12665,12665],"mapped",[4396]],[[12666,12666],"mapped",[4397]],[[12667,12667],"mapped",[4398]],[[12668,12668],"mapped",[4399]],[[12669,12669],"mapped",[4402]],[[12670,12670],"mapped",[4406]],[[12671,12671],"mapped",[4416]],[[12672,12672],"mapped",[4423]],[[12673,12673],"mapped",[4428]],[[12674,12674],"mapped",[4593]],[[12675,12675],"mapped",[4594]],[[12676,12676],"mapped",[4439]],[[12677,12677],"mapped",[4440]],[[12678,12678],"mapped",[4441]],[[12679,12679],"mapped",[4484]],[[12680,12680],"mapped",[4485]],[[12681,12681],"mapped",[4488]],[[12682,12682],"mapped",[4497]],[[12683,12683],"mapped",[4498]],[[12684,12684],"mapped",[4500]],[[12685,12685],"mapped",[4510]],[[12686,12686],"mapped",[4513]],[[12687,12687],"disallowed"],[[12688,12689],"valid",[],"NV8"],[[12690,12690],"mapped",[19968]],[[12691,12691],"mapped",[20108]],[[12692,12692],"mapped",[19977]],[[12693,12693],"mapped",[22235]],[[12694,12694],"mapped",[19978]],[[12695,12695],"mapped",[20013]],[[12696,12696],"mapped",[19979]],[[12697,12697],"mapped",[30002]],[[12698,12698],"mapped",[20057]],[[12699,12699],"mapped",[19993]],[[12700,12700],"mapped",[19969]],[[12701,12701],"mapped",[22825]],[[12702,12702],"mapped",[22320]],[[12703,12703],"mapped",[20154]],[[12704,12727],"valid"],[[12728,12730],"valid"],[[12731,12735],"disallowed"],[[12736,12751],"valid",[],"NV8"],[[12752,12771],"valid",[],"NV8"],[[12772,12783],"disallowed"],[[12784,12799],"valid"],[[12800,12800],"disallowed_STD3_mapped",[40,4352,41]],[[12801,12801],"disallowed_STD3_mapped",[40,4354,41]],[[12802,12802],"disallowed_STD3_mapped",[40,4355,41]],[[12803,12803],"disallowed_STD3_mapped",[40,4357,41]],[[12804,12804],"disallowed_STD3_mapped",[40,4358,41]],[[12805,12805],"disallowed_STD3_mapped",[40,4359,41]],[[12806,12806],"disallowed_STD3_mapped",[40,4361,41]],[[12807,12807],"disallowed_STD3_mapped",[40,4363,41]],[[12808,12808],"disallowed_STD3_mapped",[40,4364,41]],[[12809,12809],"disallowed_STD3_mapped",[40,4366,41]],[[12810,12810],"disallowed_STD3_mapped",[40,4367,41]],[[12811,12811],"disallowed_STD3_mapped",[40,4368,41]],[[12812,12812],"disallowed_STD3_mapped",[40,4369,41]],[[12813,12813],"disallowed_STD3_mapped",[40,4370,41]],[[12814,12814],"disallowed_STD3_mapped",[40,44032,41]],[[12815,12815],"disallowed_STD3_mapped",[40,45208,41]],[[12816,12816],"disallowed_STD3_mapped",[40,45796,41]],[[12817,12817],"disallowed_STD3_mapped",[40,46972,41]],[[12818,12818],"disallowed_STD3_mapped",[40,47560,41]],[[12819,12819],"disallowed_STD3_mapped",[40,48148,41]],[[12820,12820],"disallowed_STD3_mapped",[40,49324,41]],[[12821,12821],"disallowed_STD3_mapped",[40,50500,41]],[[12822,12822],"disallowed_STD3_mapped",[40,51088,41]],[[12823,12823],"disallowed_STD3_mapped",[40,52264,41]],[[12824,12824],"disallowed_STD3_mapped",[40,52852,41]],[[12825,12825],"disallowed_STD3_mapped",[40,53440,41]],[[12826,12826],"disallowed_STD3_mapped",[40,54028,41]],[[12827,12827],"disallowed_STD3_mapped",[40,54616,41]],[[12828,12828],"disallowed_STD3_mapped",[40,51452,41]],[[12829,12829],"disallowed_STD3_mapped",[40,50724,51204,41]],[[12830,12830],"disallowed_STD3_mapped",[40,50724,54980,41]],[[12831,12831],"disallowed"],[[12832,12832],"disallowed_STD3_mapped",[40,19968,41]],[[12833,12833],"disallowed_STD3_mapped",[40,20108,41]],[[12834,12834],"disallowed_STD3_mapped",[40,19977,41]],[[12835,12835],"disallowed_STD3_mapped",[40,22235,41]],[[12836,12836],"disallowed_STD3_mapped",[40,20116,41]],[[12837,12837],"disallowed_STD3_mapped",[40,20845,41]],[[12838,12838],"disallowed_STD3_mapped",[40,19971,41]],[[12839,12839],"disallowed_STD3_mapped",[40,20843,41]],[[12840,12840],"disallowed_STD3_mapped",[40,20061,41]],[[12841,12841],"disallowed_STD3_mapped",[40,21313,41]],[[12842,12842],"disallowed_STD3_mapped",[40,26376,41]],[[12843,12843],"disallowed_STD3_mapped",[40,28779,41]],[[12844,12844],"disallowed_STD3_mapped",[40,27700,41]],[[12845,12845],"disallowed_STD3_mapped",[40,26408,41]],[[12846,12846],"disallowed_STD3_mapped",[40,37329,41]],[[12847,12847],"disallowed_STD3_mapped",[40,22303,41]],[[12848,12848],"disallowed_STD3_mapped",[40,26085,41]],[[12849,12849],"disallowed_STD3_mapped",[40,26666,41]],[[12850,12850],"disallowed_STD3_mapped",[40,26377,41]],[[12851,12851],"disallowed_STD3_mapped",[40,31038,41]],[[12852,12852],"disallowed_STD3_mapped",[40,21517,41]],[[12853,12853],"disallowed_STD3_mapped",[40,29305,41]],[[12854,12854],"disallowed_STD3_mapped",[40,36001,41]],[[12855,12855],"disallowed_STD3_mapped",[40,31069,41]],[[12856,12856],"disallowed_STD3_mapped",[40,21172,41]],[[12857,12857],"disallowed_STD3_mapped",[40,20195,41]],[[12858,12858],"disallowed_STD3_mapped",[40,21628,41]],[[12859,12859],"disallowed_STD3_mapped",[40,23398,41]],[[12860,12860],"disallowed_STD3_mapped",[40,30435,41]],[[12861,12861],"disallowed_STD3_mapped",[40,20225,41]],[[12862,12862],"disallowed_STD3_mapped",[40,36039,41]],[[12863,12863],"disallowed_STD3_mapped",[40,21332,41]],[[12864,12864],"disallowed_STD3_mapped",[40,31085,41]],[[12865,12865],"disallowed_STD3_mapped",[40,20241,41]],[[12866,12866],"disallowed_STD3_mapped",[40,33258,41]],[[12867,12867],"disallowed_STD3_mapped",[40,33267,41]],[[12868,12868],"mapped",[21839]],[[12869,12869],"mapped",[24188]],[[12870,12870],"mapped",[25991]],[[12871,12871],"mapped",[31631]],[[12872,12879],"valid",[],"NV8"],[[12880,12880],"mapped",[112,116,101]],[[12881,12881],"mapped",[50,49]],[[12882,12882],"mapped",[50,50]],[[12883,12883],"mapped",[50,51]],[[12884,12884],"mapped",[50,52]],[[12885,12885],"mapped",[50,53]],[[12886,12886],"mapped",[50,54]],[[12887,12887],"mapped",[50,55]],[[12888,12888],"mapped",[50,56]],[[12889,12889],"mapped",[50,57]],[[12890,12890],"mapped",[51,48]],[[12891,12891],"mapped",[51,49]],[[12892,12892],"mapped",[51,50]],[[12893,12893],"mapped",[51,51]],[[12894,12894],"mapped",[51,52]],[[12895,12895],"mapped",[51,53]],[[12896,12896],"mapped",[4352]],[[12897,12897],"mapped",[4354]],[[12898,12898],"mapped",[4355]],[[12899,12899],"mapped",[4357]],[[12900,12900],"mapped",[4358]],[[12901,12901],"mapped",[4359]],[[12902,12902],"mapped",[4361]],[[12903,12903],"mapped",[4363]],[[12904,12904],"mapped",[4364]],[[12905,12905],"mapped",[4366]],[[12906,12906],"mapped",[4367]],[[12907,12907],"mapped",[4368]],[[12908,12908],"mapped",[4369]],[[12909,12909],"mapped",[4370]],[[12910,12910],"mapped",[44032]],[[12911,12911],"mapped",[45208]],[[12912,12912],"mapped",[45796]],[[12913,12913],"mapped",[46972]],[[12914,12914],"mapped",[47560]],[[12915,12915],"mapped",[48148]],[[12916,12916],"mapped",[49324]],[[12917,12917],"mapped",[50500]],[[12918,12918],"mapped",[51088]],[[12919,12919],"mapped",[52264]],[[12920,12920],"mapped",[52852]],[[12921,12921],"mapped",[53440]],[[12922,12922],"mapped",[54028]],[[12923,12923],"mapped",[54616]],[[12924,12924],"mapped",[52280,44256]],[[12925,12925],"mapped",[51452,51032]],[[12926,12926],"mapped",[50864]],[[12927,12927],"valid",[],"NV8"],[[12928,12928],"mapped",[19968]],[[12929,12929],"mapped",[20108]],[[12930,12930],"mapped",[19977]],[[12931,12931],"mapped",[22235]],[[12932,12932],"mapped",[20116]],[[12933,12933],"mapped",[20845]],[[12934,12934],"mapped",[19971]],[[12935,12935],"mapped",[20843]],[[12936,12936],"mapped",[20061]],[[12937,12937],"mapped",[21313]],[[12938,12938],"mapped",[26376]],[[12939,12939],"mapped",[28779]],[[12940,12940],"mapped",[27700]],[[12941,12941],"mapped",[26408]],[[12942,12942],"mapped",[37329]],[[12943,12943],"mapped",[22303]],[[12944,12944],"mapped",[26085]],[[12945,12945],"mapped",[26666]],[[12946,12946],"mapped",[26377]],[[12947,12947],"mapped",[31038]],[[12948,12948],"mapped",[21517]],[[12949,12949],"mapped",[29305]],[[12950,12950],"mapped",[36001]],[[12951,12951],"mapped",[31069]],[[12952,12952],"mapped",[21172]],[[12953,12953],"mapped",[31192]],[[12954,12954],"mapped",[30007]],[[12955,12955],"mapped",[22899]],[[12956,12956],"mapped",[36969]],[[12957,12957],"mapped",[20778]],[[12958,12958],"mapped",[21360]],[[12959,12959],"mapped",[27880]],[[12960,12960],"mapped",[38917]],[[12961,12961],"mapped",[20241]],[[12962,12962],"mapped",[20889]],[[12963,12963],"mapped",[27491]],[[12964,12964],"mapped",[19978]],[[12965,12965],"mapped",[20013]],[[12966,12966],"mapped",[19979]],[[12967,12967],"mapped",[24038]],[[12968,12968],"mapped",[21491]],[[12969,12969],"mapped",[21307]],[[12970,12970],"mapped",[23447]],[[12971,12971],"mapped",[23398]],[[12972,12972],"mapped",[30435]],[[12973,12973],"mapped",[20225]],[[12974,12974],"mapped",[36039]],[[12975,12975],"mapped",[21332]],[[12976,12976],"mapped",[22812]],[[12977,12977],"mapped",[51,54]],[[12978,12978],"mapped",[51,55]],[[12979,12979],"mapped",[51,56]],[[12980,12980],"mapped",[51,57]],[[12981,12981],"mapped",[52,48]],[[12982,12982],"mapped",[52,49]],[[12983,12983],"mapped",[52,50]],[[12984,12984],"mapped",[52,51]],[[12985,12985],"mapped",[52,52]],[[12986,12986],"mapped",[52,53]],[[12987,12987],"mapped",[52,54]],[[12988,12988],"mapped",[52,55]],[[12989,12989],"mapped",[52,56]],[[12990,12990],"mapped",[52,57]],[[12991,12991],"mapped",[53,48]],[[12992,12992],"mapped",[49,26376]],[[12993,12993],"mapped",[50,26376]],[[12994,12994],"mapped",[51,26376]],[[12995,12995],"mapped",[52,26376]],[[12996,12996],"mapped",[53,26376]],[[12997,12997],"mapped",[54,26376]],[[12998,12998],"mapped",[55,26376]],[[12999,12999],"mapped",[56,26376]],[[13000,13000],"mapped",[57,26376]],[[13001,13001],"mapped",[49,48,26376]],[[13002,13002],"mapped",[49,49,26376]],[[13003,13003],"mapped",[49,50,26376]],[[13004,13004],"mapped",[104,103]],[[13005,13005],"mapped",[101,114,103]],[[13006,13006],"mapped",[101,118]],[[13007,13007],"mapped",[108,116,100]],[[13008,13008],"mapped",[12450]],[[13009,13009],"mapped",[12452]],[[13010,13010],"mapped",[12454]],[[13011,13011],"mapped",[12456]],[[13012,13012],"mapped",[12458]],[[13013,13013],"mapped",[12459]],[[13014,13014],"mapped",[12461]],[[13015,13015],"mapped",[12463]],[[13016,13016],"mapped",[12465]],[[13017,13017],"mapped",[12467]],[[13018,13018],"mapped",[12469]],[[13019,13019],"mapped",[12471]],[[13020,13020],"mapped",[12473]],[[13021,13021],"mapped",[12475]],[[13022,13022],"mapped",[12477]],[[13023,13023],"mapped",[12479]],[[13024,13024],"mapped",[12481]],[[13025,13025],"mapped",[12484]],[[13026,13026],"mapped",[12486]],[[13027,13027],"mapped",[12488]],[[13028,13028],"mapped",[12490]],[[13029,13029],"mapped",[12491]],[[13030,13030],"mapped",[12492]],[[13031,13031],"mapped",[12493]],[[13032,13032],"mapped",[12494]],[[13033,13033],"mapped",[12495]],[[13034,13034],"mapped",[12498]],[[13035,13035],"mapped",[12501]],[[13036,13036],"mapped",[12504]],[[13037,13037],"mapped",[12507]],[[13038,13038],"mapped",[12510]],[[13039,13039],"mapped",[12511]],[[13040,13040],"mapped",[12512]],[[13041,13041],"mapped",[12513]],[[13042,13042],"mapped",[12514]],[[13043,13043],"mapped",[12516]],[[13044,13044],"mapped",[12518]],[[13045,13045],"mapped",[12520]],[[13046,13046],"mapped",[12521]],[[13047,13047],"mapped",[12522]],[[13048,13048],"mapped",[12523]],[[13049,13049],"mapped",[12524]],[[13050,13050],"mapped",[12525]],[[13051,13051],"mapped",[12527]],[[13052,13052],"mapped",[12528]],[[13053,13053],"mapped",[12529]],[[13054,13054],"mapped",[12530]],[[13055,13055],"disallowed"],[[13056,13056],"mapped",[12450,12497,12540,12488]],[[13057,13057],"mapped",[12450,12523,12501,12449]],[[13058,13058],"mapped",[12450,12531,12506,12450]],[[13059,13059],"mapped",[12450,12540,12523]],[[13060,13060],"mapped",[12452,12491,12531,12464]],[[13061,13061],"mapped",[12452,12531,12481]],[[13062,13062],"mapped",[12454,12457,12531]],[[13063,13063],"mapped",[12456,12473,12463,12540,12489]],[[13064,13064],"mapped",[12456,12540,12459,12540]],[[13065,13065],"mapped",[12458,12531,12473]],[[13066,13066],"mapped",[12458,12540,12512]],[[13067,13067],"mapped",[12459,12452,12522]],[[13068,13068],"mapped",[12459,12521,12483,12488]],[[13069,13069],"mapped",[12459,12525,12522,12540]],[[13070,13070],"mapped",[12460,12525,12531]],[[13071,13071],"mapped",[12460,12531,12510]],[[13072,13072],"mapped",[12462,12460]],[[13073,13073],"mapped",[12462,12491,12540]],[[13074,13074],"mapped",[12461,12517,12522,12540]],[[13075,13075],"mapped",[12462,12523,12480,12540]],[[13076,13076],"mapped",[12461,12525]],[[13077,13077],"mapped",[12461,12525,12464,12521,12512]],[[13078,13078],"mapped",[12461,12525,12513,12540,12488,12523]],[[13079,13079],"mapped",[12461,12525,12527,12483,12488]],[[13080,13080],"mapped",[12464,12521,12512]],[[13081,13081],"mapped",[12464,12521,12512,12488,12531]],[[13082,13082],"mapped",[12463,12523,12476,12452,12525]],[[13083,13083],"mapped",[12463,12525,12540,12493]],[[13084,13084],"mapped",[12465,12540,12473]],[[13085,13085],"mapped",[12467,12523,12490]],[[13086,13086],"mapped",[12467,12540,12509]],[[13087,13087],"mapped",[12469,12452,12463,12523]],[[13088,13088],"mapped",[12469,12531,12481,12540,12512]],[[13089,13089],"mapped",[12471,12522,12531,12464]],[[13090,13090],"mapped",[12475,12531,12481]],[[13091,13091],"mapped",[12475,12531,12488]],[[13092,13092],"mapped",[12480,12540,12473]],[[13093,13093],"mapped",[12487,12471]],[[13094,13094],"mapped",[12489,12523]],[[13095,13095],"mapped",[12488,12531]],[[13096,13096],"mapped",[12490,12494]],[[13097,13097],"mapped",[12494,12483,12488]],[[13098,13098],"mapped",[12495,12452,12484]],[[13099,13099],"mapped",[12497,12540,12475,12531,12488]],[[13100,13100],"mapped",[12497,12540,12484]],[[13101,13101],"mapped",[12496,12540,12524,12523]],[[13102,13102],"mapped",[12500,12450,12473,12488,12523]],[[13103,13103],"mapped",[12500,12463,12523]],[[13104,13104],"mapped",[12500,12467]],[[13105,13105],"mapped",[12499,12523]],[[13106,13106],"mapped",[12501,12449,12521,12483,12489]],[[13107,13107],"mapped",[12501,12451,12540,12488]],[[13108,13108],"mapped",[12502,12483,12471,12455,12523]],[[13109,13109],"mapped",[12501,12521,12531]],[[13110,13110],"mapped",[12504,12463,12479,12540,12523]],[[13111,13111],"mapped",[12506,12477]],[[13112,13112],"mapped",[12506,12491,12498]],[[13113,13113],"mapped",[12504,12523,12484]],[[13114,13114],"mapped",[12506,12531,12473]],[[13115,13115],"mapped",[12506,12540,12472]],[[13116,13116],"mapped",[12505,12540,12479]],[[13117,13117],"mapped",[12509,12452,12531,12488]],[[13118,13118],"mapped",[12508,12523,12488]],[[13119,13119],"mapped",[12507,12531]],[[13120,13120],"mapped",[12509,12531,12489]],[[13121,13121],"mapped",[12507,12540,12523]],[[13122,13122],"mapped",[12507,12540,12531]],[[13123,13123],"mapped",[12510,12452,12463,12525]],[[13124,13124],"mapped",[12510,12452,12523]],[[13125,13125],"mapped",[12510,12483,12495]],[[13126,13126],"mapped",[12510,12523,12463]],[[13127,13127],"mapped",[12510,12531,12471,12519,12531]],[[13128,13128],"mapped",[12511,12463,12525,12531]],[[13129,13129],"mapped",[12511,12522]],[[13130,13130],"mapped",[12511,12522,12496,12540,12523]],[[13131,13131],"mapped",[12513,12460]],[[13132,13132],"mapped",[12513,12460,12488,12531]],[[13133,13133],"mapped",[12513,12540,12488,12523]],[[13134,13134],"mapped",[12516,12540,12489]],[[13135,13135],"mapped",[12516,12540,12523]],[[13136,13136],"mapped",[12518,12450,12531]],[[13137,13137],"mapped",[12522,12483,12488,12523]],[[13138,13138],"mapped",[12522,12521]],[[13139,13139],"mapped",[12523,12500,12540]],[[13140,13140],"mapped",[12523,12540,12502,12523]],[[13141,13141],"mapped",[12524,12512]],[[13142,13142],"mapped",[12524,12531,12488,12466,12531]],[[13143,13143],"mapped",[12527,12483,12488]],[[13144,13144],"mapped",[48,28857]],[[13145,13145],"mapped",[49,28857]],[[13146,13146],"mapped",[50,28857]],[[13147,13147],"mapped",[51,28857]],[[13148,13148],"mapped",[52,28857]],[[13149,13149],"mapped",[53,28857]],[[13150,13150],"mapped",[54,28857]],[[13151,13151],"mapped",[55,28857]],[[13152,13152],"mapped",[56,28857]],[[13153,13153],"mapped",[57,28857]],[[13154,13154],"mapped",[49,48,28857]],[[13155,13155],"mapped",[49,49,28857]],[[13156,13156],"mapped",[49,50,28857]],[[13157,13157],"mapped",[49,51,28857]],[[13158,13158],"mapped",[49,52,28857]],[[13159,13159],"mapped",[49,53,28857]],[[13160,13160],"mapped",[49,54,28857]],[[13161,13161],"mapped",[49,55,28857]],[[13162,13162],"mapped",[49,56,28857]],[[13163,13163],"mapped",[49,57,28857]],[[13164,13164],"mapped",[50,48,28857]],[[13165,13165],"mapped",[50,49,28857]],[[13166,13166],"mapped",[50,50,28857]],[[13167,13167],"mapped",[50,51,28857]],[[13168,13168],"mapped",[50,52,28857]],[[13169,13169],"mapped",[104,112,97]],[[13170,13170],"mapped",[100,97]],[[13171,13171],"mapped",[97,117]],[[13172,13172],"mapped",[98,97,114]],[[13173,13173],"mapped",[111,118]],[[13174,13174],"mapped",[112,99]],[[13175,13175],"mapped",[100,109]],[[13176,13176],"mapped",[100,109,50]],[[13177,13177],"mapped",[100,109,51]],[[13178,13178],"mapped",[105,117]],[[13179,13179],"mapped",[24179,25104]],[[13180,13180],"mapped",[26157,21644]],[[13181,13181],"mapped",[22823,27491]],[[13182,13182],"mapped",[26126,27835]],[[13183,13183],"mapped",[26666,24335,20250,31038]],[[13184,13184],"mapped",[112,97]],[[13185,13185],"mapped",[110,97]],[[13186,13186],"mapped",[956,97]],[[13187,13187],"mapped",[109,97]],[[13188,13188],"mapped",[107,97]],[[13189,13189],"mapped",[107,98]],[[13190,13190],"mapped",[109,98]],[[13191,13191],"mapped",[103,98]],[[13192,13192],"mapped",[99,97,108]],[[13193,13193],"mapped",[107,99,97,108]],[[13194,13194],"mapped",[112,102]],[[13195,13195],"mapped",[110,102]],[[13196,13196],"mapped",[956,102]],[[13197,13197],"mapped",[956,103]],[[13198,13198],"mapped",[109,103]],[[13199,13199],"mapped",[107,103]],[[13200,13200],"mapped",[104,122]],[[13201,13201],"mapped",[107,104,122]],[[13202,13202],"mapped",[109,104,122]],[[13203,13203],"mapped",[103,104,122]],[[13204,13204],"mapped",[116,104,122]],[[13205,13205],"mapped",[956,108]],[[13206,13206],"mapped",[109,108]],[[13207,13207],"mapped",[100,108]],[[13208,13208],"mapped",[107,108]],[[13209,13209],"mapped",[102,109]],[[13210,13210],"mapped",[110,109]],[[13211,13211],"mapped",[956,109]],[[13212,13212],"mapped",[109,109]],[[13213,13213],"mapped",[99,109]],[[13214,13214],"mapped",[107,109]],[[13215,13215],"mapped",[109,109,50]],[[13216,13216],"mapped",[99,109,50]],[[13217,13217],"mapped",[109,50]],[[13218,13218],"mapped",[107,109,50]],[[13219,13219],"mapped",[109,109,51]],[[13220,13220],"mapped",[99,109,51]],[[13221,13221],"mapped",[109,51]],[[13222,13222],"mapped",[107,109,51]],[[13223,13223],"mapped",[109,8725,115]],[[13224,13224],"mapped",[109,8725,115,50]],[[13225,13225],"mapped",[112,97]],[[13226,13226],"mapped",[107,112,97]],[[13227,13227],"mapped",[109,112,97]],[[13228,13228],"mapped",[103,112,97]],[[13229,13229],"mapped",[114,97,100]],[[13230,13230],"mapped",[114,97,100,8725,115]],[[13231,13231],"mapped",[114,97,100,8725,115,50]],[[13232,13232],"mapped",[112,115]],[[13233,13233],"mapped",[110,115]],[[13234,13234],"mapped",[956,115]],[[13235,13235],"mapped",[109,115]],[[13236,13236],"mapped",[112,118]],[[13237,13237],"mapped",[110,118]],[[13238,13238],"mapped",[956,118]],[[13239,13239],"mapped",[109,118]],[[13240,13240],"mapped",[107,118]],[[13241,13241],"mapped",[109,118]],[[13242,13242],"mapped",[112,119]],[[13243,13243],"mapped",[110,119]],[[13244,13244],"mapped",[956,119]],[[13245,13245],"mapped",[109,119]],[[13246,13246],"mapped",[107,119]],[[13247,13247],"mapped",[109,119]],[[13248,13248],"mapped",[107,969]],[[13249,13249],"mapped",[109,969]],[[13250,13250],"disallowed"],[[13251,13251],"mapped",[98,113]],[[13252,13252],"mapped",[99,99]],[[13253,13253],"mapped",[99,100]],[[13254,13254],"mapped",[99,8725,107,103]],[[13255,13255],"disallowed"],[[13256,13256],"mapped",[100,98]],[[13257,13257],"mapped",[103,121]],[[13258,13258],"mapped",[104,97]],[[13259,13259],"mapped",[104,112]],[[13260,13260],"mapped",[105,110]],[[13261,13261],"mapped",[107,107]],[[13262,13262],"mapped",[107,109]],[[13263,13263],"mapped",[107,116]],[[13264,13264],"mapped",[108,109]],[[13265,13265],"mapped",[108,110]],[[13266,13266],"mapped",[108,111,103]],[[13267,13267],"mapped",[108,120]],[[13268,13268],"mapped",[109,98]],[[13269,13269],"mapped",[109,105,108]],[[13270,13270],"mapped",[109,111,108]],[[13271,13271],"mapped",[112,104]],[[13272,13272],"disallowed"],[[13273,13273],"mapped",[112,112,109]],[[13274,13274],"mapped",[112,114]],[[13275,13275],"mapped",[115,114]],[[13276,13276],"mapped",[115,118]],[[13277,13277],"mapped",[119,98]],[[13278,13278],"mapped",[118,8725,109]],[[13279,13279],"mapped",[97,8725,109]],[[13280,13280],"mapped",[49,26085]],[[13281,13281],"mapped",[50,26085]],[[13282,13282],"mapped",[51,26085]],[[13283,13283],"mapped",[52,26085]],[[13284,13284],"mapped",[53,26085]],[[13285,13285],"mapped",[54,26085]],[[13286,13286],"mapped",[55,26085]],[[13287,13287],"mapped",[56,26085]],[[13288,13288],"mapped",[57,26085]],[[13289,13289],"mapped",[49,48,26085]],[[13290,13290],"mapped",[49,49,26085]],[[13291,13291],"mapped",[49,50,26085]],[[13292,13292],"mapped",[49,51,26085]],[[13293,13293],"mapped",[49,52,26085]],[[13294,13294],"mapped",[49,53,26085]],[[13295,13295],"mapped",[49,54,26085]],[[13296,13296],"mapped",[49,55,26085]],[[13297,13297],"mapped",[49,56,26085]],[[13298,13298],"mapped",[49,57,26085]],[[13299,13299],"mapped",[50,48,26085]],[[13300,13300],"mapped",[50,49,26085]],[[13301,13301],"mapped",[50,50,26085]],[[13302,13302],"mapped",[50,51,26085]],[[13303,13303],"mapped",[50,52,26085]],[[13304,13304],"mapped",[50,53,26085]],[[13305,13305],"mapped",[50,54,26085]],[[13306,13306],"mapped",[50,55,26085]],[[13307,13307],"mapped",[50,56,26085]],[[13308,13308],"mapped",[50,57,26085]],[[13309,13309],"mapped",[51,48,26085]],[[13310,13310],"mapped",[51,49,26085]],[[13311,13311],"mapped",[103,97,108]],[[13312,19893],"valid"],[[19894,19903],"disallowed"],[[19904,19967],"valid",[],"NV8"],[[19968,40869],"valid"],[[40870,40891],"valid"],[[40892,40899],"valid"],[[40900,40907],"valid"],[[40908,40908],"valid"],[[40909,40917],"valid"],[[40918,40959],"disallowed"],[[40960,42124],"valid"],[[42125,42127],"disallowed"],[[42128,42145],"valid",[],"NV8"],[[42146,42147],"valid",[],"NV8"],[[42148,42163],"valid",[],"NV8"],[[42164,42164],"valid",[],"NV8"],[[42165,42176],"valid",[],"NV8"],[[42177,42177],"valid",[],"NV8"],[[42178,42180],"valid",[],"NV8"],[[42181,42181],"valid",[],"NV8"],[[42182,42182],"valid",[],"NV8"],[[42183,42191],"disallowed"],[[42192,42237],"valid"],[[42238,42239],"valid",[],"NV8"],[[42240,42508],"valid"],[[42509,42511],"valid",[],"NV8"],[[42512,42539],"valid"],[[42540,42559],"disallowed"],[[42560,42560],"mapped",[42561]],[[42561,42561],"valid"],[[42562,42562],"mapped",[42563]],[[42563,42563],"valid"],[[42564,42564],"mapped",[42565]],[[42565,42565],"valid"],[[42566,42566],"mapped",[42567]],[[42567,42567],"valid"],[[42568,42568],"mapped",[42569]],[[42569,42569],"valid"],[[42570,42570],"mapped",[42571]],[[42571,42571],"valid"],[[42572,42572],"mapped",[42573]],[[42573,42573],"valid"],[[42574,42574],"mapped",[42575]],[[42575,42575],"valid"],[[42576,42576],"mapped",[42577]],[[42577,42577],"valid"],[[42578,42578],"mapped",[42579]],[[42579,42579],"valid"],[[42580,42580],"mapped",[42581]],[[42581,42581],"valid"],[[42582,42582],"mapped",[42583]],[[42583,42583],"valid"],[[42584,42584],"mapped",[42585]],[[42585,42585],"valid"],[[42586,42586],"mapped",[42587]],[[42587,42587],"valid"],[[42588,42588],"mapped",[42589]],[[42589,42589],"valid"],[[42590,42590],"mapped",[42591]],[[42591,42591],"valid"],[[42592,42592],"mapped",[42593]],[[42593,42593],"valid"],[[42594,42594],"mapped",[42595]],[[42595,42595],"valid"],[[42596,42596],"mapped",[42597]],[[42597,42597],"valid"],[[42598,42598],"mapped",[42599]],[[42599,42599],"valid"],[[42600,42600],"mapped",[42601]],[[42601,42601],"valid"],[[42602,42602],"mapped",[42603]],[[42603,42603],"valid"],[[42604,42604],"mapped",[42605]],[[42605,42607],"valid"],[[42608,42611],"valid",[],"NV8"],[[42612,42619],"valid"],[[42620,42621],"valid"],[[42622,42622],"valid",[],"NV8"],[[42623,42623],"valid"],[[42624,42624],"mapped",[42625]],[[42625,42625],"valid"],[[42626,42626],"mapped",[42627]],[[42627,42627],"valid"],[[42628,42628],"mapped",[42629]],[[42629,42629],"valid"],[[42630,42630],"mapped",[42631]],[[42631,42631],"valid"],[[42632,42632],"mapped",[42633]],[[42633,42633],"valid"],[[42634,42634],"mapped",[42635]],[[42635,42635],"valid"],[[42636,42636],"mapped",[42637]],[[42637,42637],"valid"],[[42638,42638],"mapped",[42639]],[[42639,42639],"valid"],[[42640,42640],"mapped",[42641]],[[42641,42641],"valid"],[[42642,42642],"mapped",[42643]],[[42643,42643],"valid"],[[42644,42644],"mapped",[42645]],[[42645,42645],"valid"],[[42646,42646],"mapped",[42647]],[[42647,42647],"valid"],[[42648,42648],"mapped",[42649]],[[42649,42649],"valid"],[[42650,42650],"mapped",[42651]],[[42651,42651],"valid"],[[42652,42652],"mapped",[1098]],[[42653,42653],"mapped",[1100]],[[42654,42654],"valid"],[[42655,42655],"valid"],[[42656,42725],"valid"],[[42726,42735],"valid",[],"NV8"],[[42736,42737],"valid"],[[42738,42743],"valid",[],"NV8"],[[42744,42751],"disallowed"],[[42752,42774],"valid",[],"NV8"],[[42775,42778],"valid"],[[42779,42783],"valid"],[[42784,42785],"valid",[],"NV8"],[[42786,42786],"mapped",[42787]],[[42787,42787],"valid"],[[42788,42788],"mapped",[42789]],[[42789,42789],"valid"],[[42790,42790],"mapped",[42791]],[[42791,42791],"valid"],[[42792,42792],"mapped",[42793]],[[42793,42793],"valid"],[[42794,42794],"mapped",[42795]],[[42795,42795],"valid"],[[42796,42796],"mapped",[42797]],[[42797,42797],"valid"],[[42798,42798],"mapped",[42799]],[[42799,42801],"valid"],[[42802,42802],"mapped",[42803]],[[42803,42803],"valid"],[[42804,42804],"mapped",[42805]],[[42805,42805],"valid"],[[42806,42806],"mapped",[42807]],[[42807,42807],"valid"],[[42808,42808],"mapped",[42809]],[[42809,42809],"valid"],[[42810,42810],"mapped",[42811]],[[42811,42811],"valid"],[[42812,42812],"mapped",[42813]],[[42813,42813],"valid"],[[42814,42814],"mapped",[42815]],[[42815,42815],"valid"],[[42816,42816],"mapped",[42817]],[[42817,42817],"valid"],[[42818,42818],"mapped",[42819]],[[42819,42819],"valid"],[[42820,42820],"mapped",[42821]],[[42821,42821],"valid"],[[42822,42822],"mapped",[42823]],[[42823,42823],"valid"],[[42824,42824],"mapped",[42825]],[[42825,42825],"valid"],[[42826,42826],"mapped",[42827]],[[42827,42827],"valid"],[[42828,42828],"mapped",[42829]],[[42829,42829],"valid"],[[42830,42830],"mapped",[42831]],[[42831,42831],"valid"],[[42832,42832],"mapped",[42833]],[[42833,42833],"valid"],[[42834,42834],"mapped",[42835]],[[42835,42835],"valid"],[[42836,42836],"mapped",[42837]],[[42837,42837],"valid"],[[42838,42838],"mapped",[42839]],[[42839,42839],"valid"],[[42840,42840],"mapped",[42841]],[[42841,42841],"valid"],[[42842,42842],"mapped",[42843]],[[42843,42843],"valid"],[[42844,42844],"mapped",[42845]],[[42845,42845],"valid"],[[42846,42846],"mapped",[42847]],[[42847,42847],"valid"],[[42848,42848],"mapped",[42849]],[[42849,42849],"valid"],[[42850,42850],"mapped",[42851]],[[42851,42851],"valid"],[[42852,42852],"mapped",[42853]],[[42853,42853],"valid"],[[42854,42854],"mapped",[42855]],[[42855,42855],"valid"],[[42856,42856],"mapped",[42857]],[[42857,42857],"valid"],[[42858,42858],"mapped",[42859]],[[42859,42859],"valid"],[[42860,42860],"mapped",[42861]],[[42861,42861],"valid"],[[42862,42862],"mapped",[42863]],[[42863,42863],"valid"],[[42864,42864],"mapped",[42863]],[[42865,42872],"valid"],[[42873,42873],"mapped",[42874]],[[42874,42874],"valid"],[[42875,42875],"mapped",[42876]],[[42876,42876],"valid"],[[42877,42877],"mapped",[7545]],[[42878,42878],"mapped",[42879]],[[42879,42879],"valid"],[[42880,42880],"mapped",[42881]],[[42881,42881],"valid"],[[42882,42882],"mapped",[42883]],[[42883,42883],"valid"],[[42884,42884],"mapped",[42885]],[[42885,42885],"valid"],[[42886,42886],"mapped",[42887]],[[42887,42888],"valid"],[[42889,42890],"valid",[],"NV8"],[[42891,42891],"mapped",[42892]],[[42892,42892],"valid"],[[42893,42893],"mapped",[613]],[[42894,42894],"valid"],[[42895,42895],"valid"],[[42896,42896],"mapped",[42897]],[[42897,42897],"valid"],[[42898,42898],"mapped",[42899]],[[42899,42899],"valid"],[[42900,42901],"valid"],[[42902,42902],"mapped",[42903]],[[42903,42903],"valid"],[[42904,42904],"mapped",[42905]],[[42905,42905],"valid"],[[42906,42906],"mapped",[42907]],[[42907,42907],"valid"],[[42908,42908],"mapped",[42909]],[[42909,42909],"valid"],[[42910,42910],"mapped",[42911]],[[42911,42911],"valid"],[[42912,42912],"mapped",[42913]],[[42913,42913],"valid"],[[42914,42914],"mapped",[42915]],[[42915,42915],"valid"],[[42916,42916],"mapped",[42917]],[[42917,42917],"valid"],[[42918,42918],"mapped",[42919]],[[42919,42919],"valid"],[[42920,42920],"mapped",[42921]],[[42921,42921],"valid"],[[42922,42922],"mapped",[614]],[[42923,42923],"mapped",[604]],[[42924,42924],"mapped",[609]],[[42925,42925],"mapped",[620]],[[42926,42927],"disallowed"],[[42928,42928],"mapped",[670]],[[42929,42929],"mapped",[647]],[[42930,42930],"mapped",[669]],[[42931,42931],"mapped",[43859]],[[42932,42932],"mapped",[42933]],[[42933,42933],"valid"],[[42934,42934],"mapped",[42935]],[[42935,42935],"valid"],[[42936,42998],"disallowed"],[[42999,42999],"valid"],[[43000,43000],"mapped",[295]],[[43001,43001],"mapped",[339]],[[43002,43002],"valid"],[[43003,43007],"valid"],[[43008,43047],"valid"],[[43048,43051],"valid",[],"NV8"],[[43052,43055],"disallowed"],[[43056,43065],"valid",[],"NV8"],[[43066,43071],"disallowed"],[[43072,43123],"valid"],[[43124,43127],"valid",[],"NV8"],[[43128,43135],"disallowed"],[[43136,43204],"valid"],[[43205,43213],"disallowed"],[[43214,43215],"valid",[],"NV8"],[[43216,43225],"valid"],[[43226,43231],"disallowed"],[[43232,43255],"valid"],[[43256,43258],"valid",[],"NV8"],[[43259,43259],"valid"],[[43260,43260],"valid",[],"NV8"],[[43261,43261],"valid"],[[43262,43263],"disallowed"],[[43264,43309],"valid"],[[43310,43311],"valid",[],"NV8"],[[43312,43347],"valid"],[[43348,43358],"disallowed"],[[43359,43359],"valid",[],"NV8"],[[43360,43388],"valid",[],"NV8"],[[43389,43391],"disallowed"],[[43392,43456],"valid"],[[43457,43469],"valid",[],"NV8"],[[43470,43470],"disallowed"],[[43471,43481],"valid"],[[43482,43485],"disallowed"],[[43486,43487],"valid",[],"NV8"],[[43488,43518],"valid"],[[43519,43519],"disallowed"],[[43520,43574],"valid"],[[43575,43583],"disallowed"],[[43584,43597],"valid"],[[43598,43599],"disallowed"],[[43600,43609],"valid"],[[43610,43611],"disallowed"],[[43612,43615],"valid",[],"NV8"],[[43616,43638],"valid"],[[43639,43641],"valid",[],"NV8"],[[43642,43643],"valid"],[[43644,43647],"valid"],[[43648,43714],"valid"],[[43715,43738],"disallowed"],[[43739,43741],"valid"],[[43742,43743],"valid",[],"NV8"],[[43744,43759],"valid"],[[43760,43761],"valid",[],"NV8"],[[43762,43766],"valid"],[[43767,43776],"disallowed"],[[43777,43782],"valid"],[[43783,43784],"disallowed"],[[43785,43790],"valid"],[[43791,43792],"disallowed"],[[43793,43798],"valid"],[[43799,43807],"disallowed"],[[43808,43814],"valid"],[[43815,43815],"disallowed"],[[43816,43822],"valid"],[[43823,43823],"disallowed"],[[43824,43866],"valid"],[[43867,43867],"valid",[],"NV8"],[[43868,43868],"mapped",[42791]],[[43869,43869],"mapped",[43831]],[[43870,43870],"mapped",[619]],[[43871,43871],"mapped",[43858]],[[43872,43875],"valid"],[[43876,43877],"valid"],[[43878,43887],"disallowed"],[[43888,43888],"mapped",[5024]],[[43889,43889],"mapped",[5025]],[[43890,43890],"mapped",[5026]],[[43891,43891],"mapped",[5027]],[[43892,43892],"mapped",[5028]],[[43893,43893],"mapped",[5029]],[[43894,43894],"mapped",[5030]],[[43895,43895],"mapped",[5031]],[[43896,43896],"mapped",[5032]],[[43897,43897],"mapped",[5033]],[[43898,43898],"mapped",[5034]],[[43899,43899],"mapped",[5035]],[[43900,43900],"mapped",[5036]],[[43901,43901],"mapped",[5037]],[[43902,43902],"mapped",[5038]],[[43903,43903],"mapped",[5039]],[[43904,43904],"mapped",[5040]],[[43905,43905],"mapped",[5041]],[[43906,43906],"mapped",[5042]],[[43907,43907],"mapped",[5043]],[[43908,43908],"mapped",[5044]],[[43909,43909],"mapped",[5045]],[[43910,43910],"mapped",[5046]],[[43911,43911],"mapped",[5047]],[[43912,43912],"mapped",[5048]],[[43913,43913],"mapped",[5049]],[[43914,43914],"mapped",[5050]],[[43915,43915],"mapped",[5051]],[[43916,43916],"mapped",[5052]],[[43917,43917],"mapped",[5053]],[[43918,43918],"mapped",[5054]],[[43919,43919],"mapped",[5055]],[[43920,43920],"mapped",[5056]],[[43921,43921],"mapped",[5057]],[[43922,43922],"mapped",[5058]],[[43923,43923],"mapped",[5059]],[[43924,43924],"mapped",[5060]],[[43925,43925],"mapped",[5061]],[[43926,43926],"mapped",[5062]],[[43927,43927],"mapped",[5063]],[[43928,43928],"mapped",[5064]],[[43929,43929],"mapped",[5065]],[[43930,43930],"mapped",[5066]],[[43931,43931],"mapped",[5067]],[[43932,43932],"mapped",[5068]],[[43933,43933],"mapped",[5069]],[[43934,43934],"mapped",[5070]],[[43935,43935],"mapped",[5071]],[[43936,43936],"mapped",[5072]],[[43937,43937],"mapped",[5073]],[[43938,43938],"mapped",[5074]],[[43939,43939],"mapped",[5075]],[[43940,43940],"mapped",[5076]],[[43941,43941],"mapped",[5077]],[[43942,43942],"mapped",[5078]],[[43943,43943],"mapped",[5079]],[[43944,43944],"mapped",[5080]],[[43945,43945],"mapped",[5081]],[[43946,43946],"mapped",[5082]],[[43947,43947],"mapped",[5083]],[[43948,43948],"mapped",[5084]],[[43949,43949],"mapped",[5085]],[[43950,43950],"mapped",[5086]],[[43951,43951],"mapped",[5087]],[[43952,43952],"mapped",[5088]],[[43953,43953],"mapped",[5089]],[[43954,43954],"mapped",[5090]],[[43955,43955],"mapped",[5091]],[[43956,43956],"mapped",[5092]],[[43957,43957],"mapped",[5093]],[[43958,43958],"mapped",[5094]],[[43959,43959],"mapped",[5095]],[[43960,43960],"mapped",[5096]],[[43961,43961],"mapped",[5097]],[[43962,43962],"mapped",[5098]],[[43963,43963],"mapped",[5099]],[[43964,43964],"mapped",[5100]],[[43965,43965],"mapped",[5101]],[[43966,43966],"mapped",[5102]],[[43967,43967],"mapped",[5103]],[[43968,44010],"valid"],[[44011,44011],"valid",[],"NV8"],[[44012,44013],"valid"],[[44014,44015],"disallowed"],[[44016,44025],"valid"],[[44026,44031],"disallowed"],[[44032,55203],"valid"],[[55204,55215],"disallowed"],[[55216,55238],"valid",[],"NV8"],[[55239,55242],"disallowed"],[[55243,55291],"valid",[],"NV8"],[[55292,55295],"disallowed"],[[55296,57343],"disallowed"],[[57344,63743],"disallowed"],[[63744,63744],"mapped",[35912]],[[63745,63745],"mapped",[26356]],[[63746,63746],"mapped",[36554]],[[63747,63747],"mapped",[36040]],[[63748,63748],"mapped",[28369]],[[63749,63749],"mapped",[20018]],[[63750,63750],"mapped",[21477]],[[63751,63752],"mapped",[40860]],[[63753,63753],"mapped",[22865]],[[63754,63754],"mapped",[37329]],[[63755,63755],"mapped",[21895]],[[63756,63756],"mapped",[22856]],[[63757,63757],"mapped",[25078]],[[63758,63758],"mapped",[30313]],[[63759,63759],"mapped",[32645]],[[63760,63760],"mapped",[34367]],[[63761,63761],"mapped",[34746]],[[63762,63762],"mapped",[35064]],[[63763,63763],"mapped",[37007]],[[63764,63764],"mapped",[27138]],[[63765,63765],"mapped",[27931]],[[63766,63766],"mapped",[28889]],[[63767,63767],"mapped",[29662]],[[63768,63768],"mapped",[33853]],[[63769,63769],"mapped",[37226]],[[63770,63770],"mapped",[39409]],[[63771,63771],"mapped",[20098]],[[63772,63772],"mapped",[21365]],[[63773,63773],"mapped",[27396]],[[63774,63774],"mapped",[29211]],[[63775,63775],"mapped",[34349]],[[63776,63776],"mapped",[40478]],[[63777,63777],"mapped",[23888]],[[63778,63778],"mapped",[28651]],[[63779,63779],"mapped",[34253]],[[63780,63780],"mapped",[35172]],[[63781,63781],"mapped",[25289]],[[63782,63782],"mapped",[33240]],[[63783,63783],"mapped",[34847]],[[63784,63784],"mapped",[24266]],[[63785,63785],"mapped",[26391]],[[63786,63786],"mapped",[28010]],[[63787,63787],"mapped",[29436]],[[63788,63788],"mapped",[37070]],[[63789,63789],"mapped",[20358]],[[63790,63790],"mapped",[20919]],[[63791,63791],"mapped",[21214]],[[63792,63792],"mapped",[25796]],[[63793,63793],"mapped",[27347]],[[63794,63794],"mapped",[29200]],[[63795,63795],"mapped",[30439]],[[63796,63796],"mapped",[32769]],[[63797,63797],"mapped",[34310]],[[63798,63798],"mapped",[34396]],[[63799,63799],"mapped",[36335]],[[63800,63800],"mapped",[38706]],[[63801,63801],"mapped",[39791]],[[63802,63802],"mapped",[40442]],[[63803,63803],"mapped",[30860]],[[63804,63804],"mapped",[31103]],[[63805,63805],"mapped",[32160]],[[63806,63806],"mapped",[33737]],[[63807,63807],"mapped",[37636]],[[63808,63808],"mapped",[40575]],[[63809,63809],"mapped",[35542]],[[63810,63810],"mapped",[22751]],[[63811,63811],"mapped",[24324]],[[63812,63812],"mapped",[31840]],[[63813,63813],"mapped",[32894]],[[63814,63814],"mapped",[29282]],[[63815,63815],"mapped",[30922]],[[63816,63816],"mapped",[36034]],[[63817,63817],"mapped",[38647]],[[63818,63818],"mapped",[22744]],[[63819,63819],"mapped",[23650]],[[63820,63820],"mapped",[27155]],[[63821,63821],"mapped",[28122]],[[63822,63822],"mapped",[28431]],[[63823,63823],"mapped",[32047]],[[63824,63824],"mapped",[32311]],[[63825,63825],"mapped",[38475]],[[63826,63826],"mapped",[21202]],[[63827,63827],"mapped",[32907]],[[63828,63828],"mapped",[20956]],[[63829,63829],"mapped",[20940]],[[63830,63830],"mapped",[31260]],[[63831,63831],"mapped",[32190]],[[63832,63832],"mapped",[33777]],[[63833,63833],"mapped",[38517]],[[63834,63834],"mapped",[35712]],[[63835,63835],"mapped",[25295]],[[63836,63836],"mapped",[27138]],[[63837,63837],"mapped",[35582]],[[63838,63838],"mapped",[20025]],[[63839,63839],"mapped",[23527]],[[63840,63840],"mapped",[24594]],[[63841,63841],"mapped",[29575]],[[63842,63842],"mapped",[30064]],[[63843,63843],"mapped",[21271]],[[63844,63844],"mapped",[30971]],[[63845,63845],"mapped",[20415]],[[63846,63846],"mapped",[24489]],[[63847,63847],"mapped",[19981]],[[63848,63848],"mapped",[27852]],[[63849,63849],"mapped",[25976]],[[63850,63850],"mapped",[32034]],[[63851,63851],"mapped",[21443]],[[63852,63852],"mapped",[22622]],[[63853,63853],"mapped",[30465]],[[63854,63854],"mapped",[33865]],[[63855,63855],"mapped",[35498]],[[63856,63856],"mapped",[27578]],[[63857,63857],"mapped",[36784]],[[63858,63858],"mapped",[27784]],[[63859,63859],"mapped",[25342]],[[63860,63860],"mapped",[33509]],[[63861,63861],"mapped",[25504]],[[63862,63862],"mapped",[30053]],[[63863,63863],"mapped",[20142]],[[63864,63864],"mapped",[20841]],[[63865,63865],"mapped",[20937]],[[63866,63866],"mapped",[26753]],[[63867,63867],"mapped",[31975]],[[63868,63868],"mapped",[33391]],[[63869,63869],"mapped",[35538]],[[63870,63870],"mapped",[37327]],[[63871,63871],"mapped",[21237]],[[63872,63872],"mapped",[21570]],[[63873,63873],"mapped",[22899]],[[63874,63874],"mapped",[24300]],[[63875,63875],"mapped",[26053]],[[63876,63876],"mapped",[28670]],[[63877,63877],"mapped",[31018]],[[63878,63878],"mapped",[38317]],[[63879,63879],"mapped",[39530]],[[63880,63880],"mapped",[40599]],[[63881,63881],"mapped",[40654]],[[63882,63882],"mapped",[21147]],[[63883,63883],"mapped",[26310]],[[63884,63884],"mapped",[27511]],[[63885,63885],"mapped",[36706]],[[63886,63886],"mapped",[24180]],[[63887,63887],"mapped",[24976]],[[63888,63888],"mapped",[25088]],[[63889,63889],"mapped",[25754]],[[63890,63890],"mapped",[28451]],[[63891,63891],"mapped",[29001]],[[63892,63892],"mapped",[29833]],[[63893,63893],"mapped",[31178]],[[63894,63894],"mapped",[32244]],[[63895,63895],"mapped",[32879]],[[63896,63896],"mapped",[36646]],[[63897,63897],"mapped",[34030]],[[63898,63898],"mapped",[36899]],[[63899,63899],"mapped",[37706]],[[63900,63900],"mapped",[21015]],[[63901,63901],"mapped",[21155]],[[63902,63902],"mapped",[21693]],[[63903,63903],"mapped",[28872]],[[63904,63904],"mapped",[35010]],[[63905,63905],"mapped",[35498]],[[63906,63906],"mapped",[24265]],[[63907,63907],"mapped",[24565]],[[63908,63908],"mapped",[25467]],[[63909,63909],"mapped",[27566]],[[63910,63910],"mapped",[31806]],[[63911,63911],"mapped",[29557]],[[63912,63912],"mapped",[20196]],[[63913,63913],"mapped",[22265]],[[63914,63914],"mapped",[23527]],[[63915,63915],"mapped",[23994]],[[63916,63916],"mapped",[24604]],[[63917,63917],"mapped",[29618]],[[63918,63918],"mapped",[29801]],[[63919,63919],"mapped",[32666]],[[63920,63920],"mapped",[32838]],[[63921,63921],"mapped",[37428]],[[63922,63922],"mapped",[38646]],[[63923,63923],"mapped",[38728]],[[63924,63924],"mapped",[38936]],[[63925,63925],"mapped",[20363]],[[63926,63926],"mapped",[31150]],[[63927,63927],"mapped",[37300]],[[63928,63928],"mapped",[38584]],[[63929,63929],"mapped",[24801]],[[63930,63930],"mapped",[20102]],[[63931,63931],"mapped",[20698]],[[63932,63932],"mapped",[23534]],[[63933,63933],"mapped",[23615]],[[63934,63934],"mapped",[26009]],[[63935,63935],"mapped",[27138]],[[63936,63936],"mapped",[29134]],[[63937,63937],"mapped",[30274]],[[63938,63938],"mapped",[34044]],[[63939,63939],"mapped",[36988]],[[63940,63940],"mapped",[40845]],[[63941,63941],"mapped",[26248]],[[63942,63942],"mapped",[38446]],[[63943,63943],"mapped",[21129]],[[63944,63944],"mapped",[26491]],[[63945,63945],"mapped",[26611]],[[63946,63946],"mapped",[27969]],[[63947,63947],"mapped",[28316]],[[63948,63948],"mapped",[29705]],[[63949,63949],"mapped",[30041]],[[63950,63950],"mapped",[30827]],[[63951,63951],"mapped",[32016]],[[63952,63952],"mapped",[39006]],[[63953,63953],"mapped",[20845]],[[63954,63954],"mapped",[25134]],[[63955,63955],"mapped",[38520]],[[63956,63956],"mapped",[20523]],[[63957,63957],"mapped",[23833]],[[63958,63958],"mapped",[28138]],[[63959,63959],"mapped",[36650]],[[63960,63960],"mapped",[24459]],[[63961,63961],"mapped",[24900]],[[63962,63962],"mapped",[26647]],[[63963,63963],"mapped",[29575]],[[63964,63964],"mapped",[38534]],[[63965,63965],"mapped",[21033]],[[63966,63966],"mapped",[21519]],[[63967,63967],"mapped",[23653]],[[63968,63968],"mapped",[26131]],[[63969,63969],"mapped",[26446]],[[63970,63970],"mapped",[26792]],[[63971,63971],"mapped",[27877]],[[63972,63972],"mapped",[29702]],[[63973,63973],"mapped",[30178]],[[63974,63974],"mapped",[32633]],[[63975,63975],"mapped",[35023]],[[63976,63976],"mapped",[35041]],[[63977,63977],"mapped",[37324]],[[63978,63978],"mapped",[38626]],[[63979,63979],"mapped",[21311]],[[63980,63980],"mapped",[28346]],[[63981,63981],"mapped",[21533]],[[63982,63982],"mapped",[29136]],[[63983,63983],"mapped",[29848]],[[63984,63984],"mapped",[34298]],[[63985,63985],"mapped",[38563]],[[63986,63986],"mapped",[40023]],[[63987,63987],"mapped",[40607]],[[63988,63988],"mapped",[26519]],[[63989,63989],"mapped",[28107]],[[63990,63990],"mapped",[33256]],[[63991,63991],"mapped",[31435]],[[63992,63992],"mapped",[31520]],[[63993,63993],"mapped",[31890]],[[63994,63994],"mapped",[29376]],[[63995,63995],"mapped",[28825]],[[63996,63996],"mapped",[35672]],[[63997,63997],"mapped",[20160]],[[63998,63998],"mapped",[33590]],[[63999,63999],"mapped",[21050]],[[64000,64000],"mapped",[20999]],[[64001,64001],"mapped",[24230]],[[64002,64002],"mapped",[25299]],[[64003,64003],"mapped",[31958]],[[64004,64004],"mapped",[23429]],[[64005,64005],"mapped",[27934]],[[64006,64006],"mapped",[26292]],[[64007,64007],"mapped",[36667]],[[64008,64008],"mapped",[34892]],[[64009,64009],"mapped",[38477]],[[64010,64010],"mapped",[35211]],[[64011,64011],"mapped",[24275]],[[64012,64012],"mapped",[20800]],[[64013,64013],"mapped",[21952]],[[64014,64015],"valid"],[[64016,64016],"mapped",[22618]],[[64017,64017],"valid"],[[64018,64018],"mapped",[26228]],[[64019,64020],"valid"],[[64021,64021],"mapped",[20958]],[[64022,64022],"mapped",[29482]],[[64023,64023],"mapped",[30410]],[[64024,64024],"mapped",[31036]],[[64025,64025],"mapped",[31070]],[[64026,64026],"mapped",[31077]],[[64027,64027],"mapped",[31119]],[[64028,64028],"mapped",[38742]],[[64029,64029],"mapped",[31934]],[[64030,64030],"mapped",[32701]],[[64031,64031],"valid"],[[64032,64032],"mapped",[34322]],[[64033,64033],"valid"],[[64034,64034],"mapped",[35576]],[[64035,64036],"valid"],[[64037,64037],"mapped",[36920]],[[64038,64038],"mapped",[37117]],[[64039,64041],"valid"],[[64042,64042],"mapped",[39151]],[[64043,64043],"mapped",[39164]],[[64044,64044],"mapped",[39208]],[[64045,64045],"mapped",[40372]],[[64046,64046],"mapped",[37086]],[[64047,64047],"mapped",[38583]],[[64048,64048],"mapped",[20398]],[[64049,64049],"mapped",[20711]],[[64050,64050],"mapped",[20813]],[[64051,64051],"mapped",[21193]],[[64052,64052],"mapped",[21220]],[[64053,64053],"mapped",[21329]],[[64054,64054],"mapped",[21917]],[[64055,64055],"mapped",[22022]],[[64056,64056],"mapped",[22120]],[[64057,64057],"mapped",[22592]],[[64058,64058],"mapped",[22696]],[[64059,64059],"mapped",[23652]],[[64060,64060],"mapped",[23662]],[[64061,64061],"mapped",[24724]],[[64062,64062],"mapped",[24936]],[[64063,64063],"mapped",[24974]],[[64064,64064],"mapped",[25074]],[[64065,64065],"mapped",[25935]],[[64066,64066],"mapped",[26082]],[[64067,64067],"mapped",[26257]],[[64068,64068],"mapped",[26757]],[[64069,64069],"mapped",[28023]],[[64070,64070],"mapped",[28186]],[[64071,64071],"mapped",[28450]],[[64072,64072],"mapped",[29038]],[[64073,64073],"mapped",[29227]],[[64074,64074],"mapped",[29730]],[[64075,64075],"mapped",[30865]],[[64076,64076],"mapped",[31038]],[[64077,64077],"mapped",[31049]],[[64078,64078],"mapped",[31048]],[[64079,64079],"mapped",[31056]],[[64080,64080],"mapped",[31062]],[[64081,64081],"mapped",[31069]],[[64082,64082],"mapped",[31117]],[[64083,64083],"mapped",[31118]],[[64084,64084],"mapped",[31296]],[[64085,64085],"mapped",[31361]],[[64086,64086],"mapped",[31680]],[[64087,64087],"mapped",[32244]],[[64088,64088],"mapped",[32265]],[[64089,64089],"mapped",[32321]],[[64090,64090],"mapped",[32626]],[[64091,64091],"mapped",[32773]],[[64092,64092],"mapped",[33261]],[[64093,64094],"mapped",[33401]],[[64095,64095],"mapped",[33879]],[[64096,64096],"mapped",[35088]],[[64097,64097],"mapped",[35222]],[[64098,64098],"mapped",[35585]],[[64099,64099],"mapped",[35641]],[[64100,64100],"mapped",[36051]],[[64101,64101],"mapped",[36104]],[[64102,64102],"mapped",[36790]],[[64103,64103],"mapped",[36920]],[[64104,64104],"mapped",[38627]],[[64105,64105],"mapped",[38911]],[[64106,64106],"mapped",[38971]],[[64107,64107],"mapped",[24693]],[[64108,64108],"mapped",[148206]],[[64109,64109],"mapped",[33304]],[[64110,64111],"disallowed"],[[64112,64112],"mapped",[20006]],[[64113,64113],"mapped",[20917]],[[64114,64114],"mapped",[20840]],[[64115,64115],"mapped",[20352]],[[64116,64116],"mapped",[20805]],[[64117,64117],"mapped",[20864]],[[64118,64118],"mapped",[21191]],[[64119,64119],"mapped",[21242]],[[64120,64120],"mapped",[21917]],[[64121,64121],"mapped",[21845]],[[64122,64122],"mapped",[21913]],[[64123,64123],"mapped",[21986]],[[64124,64124],"mapped",[22618]],[[64125,64125],"mapped",[22707]],[[64126,64126],"mapped",[22852]],[[64127,64127],"mapped",[22868]],[[64128,64128],"mapped",[23138]],[[64129,64129],"mapped",[23336]],[[64130,64130],"mapped",[24274]],[[64131,64131],"mapped",[24281]],[[64132,64132],"mapped",[24425]],[[64133,64133],"mapped",[24493]],[[64134,64134],"mapped",[24792]],[[64135,64135],"mapped",[24910]],[[64136,64136],"mapped",[24840]],[[64137,64137],"mapped",[24974]],[[64138,64138],"mapped",[24928]],[[64139,64139],"mapped",[25074]],[[64140,64140],"mapped",[25140]],[[64141,64141],"mapped",[25540]],[[64142,64142],"mapped",[25628]],[[64143,64143],"mapped",[25682]],[[64144,64144],"mapped",[25942]],[[64145,64145],"mapped",[26228]],[[64146,64146],"mapped",[26391]],[[64147,64147],"mapped",[26395]],[[64148,64148],"mapped",[26454]],[[64149,64149],"mapped",[27513]],[[64150,64150],"mapped",[27578]],[[64151,64151],"mapped",[27969]],[[64152,64152],"mapped",[28379]],[[64153,64153],"mapped",[28363]],[[64154,64154],"mapped",[28450]],[[64155,64155],"mapped",[28702]],[[64156,64156],"mapped",[29038]],[[64157,64157],"mapped",[30631]],[[64158,64158],"mapped",[29237]],[[64159,64159],"mapped",[29359]],[[64160,64160],"mapped",[29482]],[[64161,64161],"mapped",[29809]],[[64162,64162],"mapped",[29958]],[[64163,64163],"mapped",[30011]],[[64164,64164],"mapped",[30237]],[[64165,64165],"mapped",[30239]],[[64166,64166],"mapped",[30410]],[[64167,64167],"mapped",[30427]],[[64168,64168],"mapped",[30452]],[[64169,64169],"mapped",[30538]],[[64170,64170],"mapped",[30528]],[[64171,64171],"mapped",[30924]],[[64172,64172],"mapped",[31409]],[[64173,64173],"mapped",[31680]],[[64174,64174],"mapped",[31867]],[[64175,64175],"mapped",[32091]],[[64176,64176],"mapped",[32244]],[[64177,64177],"mapped",[32574]],[[64178,64178],"mapped",[32773]],[[64179,64179],"mapped",[33618]],[[64180,64180],"mapped",[33775]],[[64181,64181],"mapped",[34681]],[[64182,64182],"mapped",[35137]],[[64183,64183],"mapped",[35206]],[[64184,64184],"mapped",[35222]],[[64185,64185],"mapped",[35519]],[[64186,64186],"mapped",[35576]],[[64187,64187],"mapped",[35531]],[[64188,64188],"mapped",[35585]],[[64189,64189],"mapped",[35582]],[[64190,64190],"mapped",[35565]],[[64191,64191],"mapped",[35641]],[[64192,64192],"mapped",[35722]],[[64193,64193],"mapped",[36104]],[[64194,64194],"mapped",[36664]],[[64195,64195],"mapped",[36978]],[[64196,64196],"mapped",[37273]],[[64197,64197],"mapped",[37494]],[[64198,64198],"mapped",[38524]],[[64199,64199],"mapped",[38627]],[[64200,64200],"mapped",[38742]],[[64201,64201],"mapped",[38875]],[[64202,64202],"mapped",[38911]],[[64203,64203],"mapped",[38923]],[[64204,64204],"mapped",[38971]],[[64205,64205],"mapped",[39698]],[[64206,64206],"mapped",[40860]],[[64207,64207],"mapped",[141386]],[[64208,64208],"mapped",[141380]],[[64209,64209],"mapped",[144341]],[[64210,64210],"mapped",[15261]],[[64211,64211],"mapped",[16408]],[[64212,64212],"mapped",[16441]],[[64213,64213],"mapped",[152137]],[[64214,64214],"mapped",[154832]],[[64215,64215],"mapped",[163539]],[[64216,64216],"mapped",[40771]],[[64217,64217],"mapped",[40846]],[[64218,64255],"disallowed"],[[64256,64256],"mapped",[102,102]],[[64257,64257],"mapped",[102,105]],[[64258,64258],"mapped",[102,108]],[[64259,64259],"mapped",[102,102,105]],[[64260,64260],"mapped",[102,102,108]],[[64261,64262],"mapped",[115,116]],[[64263,64274],"disallowed"],[[64275,64275],"mapped",[1396,1398]],[[64276,64276],"mapped",[1396,1381]],[[64277,64277],"mapped",[1396,1387]],[[64278,64278],"mapped",[1406,1398]],[[64279,64279],"mapped",[1396,1389]],[[64280,64284],"disallowed"],[[64285,64285],"mapped",[1497,1460]],[[64286,64286],"valid"],[[64287,64287],"mapped",[1522,1463]],[[64288,64288],"mapped",[1506]],[[64289,64289],"mapped",[1488]],[[64290,64290],"mapped",[1491]],[[64291,64291],"mapped",[1492]],[[64292,64292],"mapped",[1499]],[[64293,64293],"mapped",[1500]],[[64294,64294],"mapped",[1501]],[[64295,64295],"mapped",[1512]],[[64296,64296],"mapped",[1514]],[[64297,64297],"disallowed_STD3_mapped",[43]],[[64298,64298],"mapped",[1513,1473]],[[64299,64299],"mapped",[1513,1474]],[[64300,64300],"mapped",[1513,1468,1473]],[[64301,64301],"mapped",[1513,1468,1474]],[[64302,64302],"mapped",[1488,1463]],[[64303,64303],"mapped",[1488,1464]],[[64304,64304],"mapped",[1488,1468]],[[64305,64305],"mapped",[1489,1468]],[[64306,64306],"mapped",[1490,1468]],[[64307,64307],"mapped",[1491,1468]],[[64308,64308],"mapped",[1492,1468]],[[64309,64309],"mapped",[1493,1468]],[[64310,64310],"mapped",[1494,1468]],[[64311,64311],"disallowed"],[[64312,64312],"mapped",[1496,1468]],[[64313,64313],"mapped",[1497,1468]],[[64314,64314],"mapped",[1498,1468]],[[64315,64315],"mapped",[1499,1468]],[[64316,64316],"mapped",[1500,1468]],[[64317,64317],"disallowed"],[[64318,64318],"mapped",[1502,1468]],[[64319,64319],"disallowed"],[[64320,64320],"mapped",[1504,1468]],[[64321,64321],"mapped",[1505,1468]],[[64322,64322],"disallowed"],[[64323,64323],"mapped",[1507,1468]],[[64324,64324],"mapped",[1508,1468]],[[64325,64325],"disallowed"],[[64326,64326],"mapped",[1510,1468]],[[64327,64327],"mapped",[1511,1468]],[[64328,64328],"mapped",[1512,1468]],[[64329,64329],"mapped",[1513,1468]],[[64330,64330],"mapped",[1514,1468]],[[64331,64331],"mapped",[1493,1465]],[[64332,64332],"mapped",[1489,1471]],[[64333,64333],"mapped",[1499,1471]],[[64334,64334],"mapped",[1508,1471]],[[64335,64335],"mapped",[1488,1500]],[[64336,64337],"mapped",[1649]],[[64338,64341],"mapped",[1659]],[[64342,64345],"mapped",[1662]],[[64346,64349],"mapped",[1664]],[[64350,64353],"mapped",[1658]],[[64354,64357],"mapped",[1663]],[[64358,64361],"mapped",[1657]],[[64362,64365],"mapped",[1700]],[[64366,64369],"mapped",[1702]],[[64370,64373],"mapped",[1668]],[[64374,64377],"mapped",[1667]],[[64378,64381],"mapped",[1670]],[[64382,64385],"mapped",[1671]],[[64386,64387],"mapped",[1677]],[[64388,64389],"mapped",[1676]],[[64390,64391],"mapped",[1678]],[[64392,64393],"mapped",[1672]],[[64394,64395],"mapped",[1688]],[[64396,64397],"mapped",[1681]],[[64398,64401],"mapped",[1705]],[[64402,64405],"mapped",[1711]],[[64406,64409],"mapped",[1715]],[[64410,64413],"mapped",[1713]],[[64414,64415],"mapped",[1722]],[[64416,64419],"mapped",[1723]],[[64420,64421],"mapped",[1728]],[[64422,64425],"mapped",[1729]],[[64426,64429],"mapped",[1726]],[[64430,64431],"mapped",[1746]],[[64432,64433],"mapped",[1747]],[[64434,64449],"valid",[],"NV8"],[[64450,64466],"disallowed"],[[64467,64470],"mapped",[1709]],[[64471,64472],"mapped",[1735]],[[64473,64474],"mapped",[1734]],[[64475,64476],"mapped",[1736]],[[64477,64477],"mapped",[1735,1652]],[[64478,64479],"mapped",[1739]],[[64480,64481],"mapped",[1733]],[[64482,64483],"mapped",[1737]],[[64484,64487],"mapped",[1744]],[[64488,64489],"mapped",[1609]],[[64490,64491],"mapped",[1574,1575]],[[64492,64493],"mapped",[1574,1749]],[[64494,64495],"mapped",[1574,1608]],[[64496,64497],"mapped",[1574,1735]],[[64498,64499],"mapped",[1574,1734]],[[64500,64501],"mapped",[1574,1736]],[[64502,64504],"mapped",[1574,1744]],[[64505,64507],"mapped",[1574,1609]],[[64508,64511],"mapped",[1740]],[[64512,64512],"mapped",[1574,1580]],[[64513,64513],"mapped",[1574,1581]],[[64514,64514],"mapped",[1574,1605]],[[64515,64515],"mapped",[1574,1609]],[[64516,64516],"mapped",[1574,1610]],[[64517,64517],"mapped",[1576,1580]],[[64518,64518],"mapped",[1576,1581]],[[64519,64519],"mapped",[1576,1582]],[[64520,64520],"mapped",[1576,1605]],[[64521,64521],"mapped",[1576,1609]],[[64522,64522],"mapped",[1576,1610]],[[64523,64523],"mapped",[1578,1580]],[[64524,64524],"mapped",[1578,1581]],[[64525,64525],"mapped",[1578,1582]],[[64526,64526],"mapped",[1578,1605]],[[64527,64527],"mapped",[1578,1609]],[[64528,64528],"mapped",[1578,1610]],[[64529,64529],"mapped",[1579,1580]],[[64530,64530],"mapped",[1579,1605]],[[64531,64531],"mapped",[1579,1609]],[[64532,64532],"mapped",[1579,1610]],[[64533,64533],"mapped",[1580,1581]],[[64534,64534],"mapped",[1580,1605]],[[64535,64535],"mapped",[1581,1580]],[[64536,64536],"mapped",[1581,1605]],[[64537,64537],"mapped",[1582,1580]],[[64538,64538],"mapped",[1582,1581]],[[64539,64539],"mapped",[1582,1605]],[[64540,64540],"mapped",[1587,1580]],[[64541,64541],"mapped",[1587,1581]],[[64542,64542],"mapped",[1587,1582]],[[64543,64543],"mapped",[1587,1605]],[[64544,64544],"mapped",[1589,1581]],[[64545,64545],"mapped",[1589,1605]],[[64546,64546],"mapped",[1590,1580]],[[64547,64547],"mapped",[1590,1581]],[[64548,64548],"mapped",[1590,1582]],[[64549,64549],"mapped",[1590,1605]],[[64550,64550],"mapped",[1591,1581]],[[64551,64551],"mapped",[1591,1605]],[[64552,64552],"mapped",[1592,1605]],[[64553,64553],"mapped",[1593,1580]],[[64554,64554],"mapped",[1593,1605]],[[64555,64555],"mapped",[1594,1580]],[[64556,64556],"mapped",[1594,1605]],[[64557,64557],"mapped",[1601,1580]],[[64558,64558],"mapped",[1601,1581]],[[64559,64559],"mapped",[1601,1582]],[[64560,64560],"mapped",[1601,1605]],[[64561,64561],"mapped",[1601,1609]],[[64562,64562],"mapped",[1601,1610]],[[64563,64563],"mapped",[1602,1581]],[[64564,64564],"mapped",[1602,1605]],[[64565,64565],"mapped",[1602,1609]],[[64566,64566],"mapped",[1602,1610]],[[64567,64567],"mapped",[1603,1575]],[[64568,64568],"mapped",[1603,1580]],[[64569,64569],"mapped",[1603,1581]],[[64570,64570],"mapped",[1603,1582]],[[64571,64571],"mapped",[1603,1604]],[[64572,64572],"mapped",[1603,1605]],[[64573,64573],"mapped",[1603,1609]],[[64574,64574],"mapped",[1603,1610]],[[64575,64575],"mapped",[1604,1580]],[[64576,64576],"mapped",[1604,1581]],[[64577,64577],"mapped",[1604,1582]],[[64578,64578],"mapped",[1604,1605]],[[64579,64579],"mapped",[1604,1609]],[[64580,64580],"mapped",[1604,1610]],[[64581,64581],"mapped",[1605,1580]],[[64582,64582],"mapped",[1605,1581]],[[64583,64583],"mapped",[1605,1582]],[[64584,64584],"mapped",[1605,1605]],[[64585,64585],"mapped",[1605,1609]],[[64586,64586],"mapped",[1605,1610]],[[64587,64587],"mapped",[1606,1580]],[[64588,64588],"mapped",[1606,1581]],[[64589,64589],"mapped",[1606,1582]],[[64590,64590],"mapped",[1606,1605]],[[64591,64591],"mapped",[1606,1609]],[[64592,64592],"mapped",[1606,1610]],[[64593,64593],"mapped",[1607,1580]],[[64594,64594],"mapped",[1607,1605]],[[64595,64595],"mapped",[1607,1609]],[[64596,64596],"mapped",[1607,1610]],[[64597,64597],"mapped",[1610,1580]],[[64598,64598],"mapped",[1610,1581]],[[64599,64599],"mapped",[1610,1582]],[[64600,64600],"mapped",[1610,1605]],[[64601,64601],"mapped",[1610,1609]],[[64602,64602],"mapped",[1610,1610]],[[64603,64603],"mapped",[1584,1648]],[[64604,64604],"mapped",[1585,1648]],[[64605,64605],"mapped",[1609,1648]],[[64606,64606],"disallowed_STD3_mapped",[32,1612,1617]],[[64607,64607],"disallowed_STD3_mapped",[32,1613,1617]],[[64608,64608],"disallowed_STD3_mapped",[32,1614,1617]],[[64609,64609],"disallowed_STD3_mapped",[32,1615,1617]],[[64610,64610],"disallowed_STD3_mapped",[32,1616,1617]],[[64611,64611],"disallowed_STD3_mapped",[32,1617,1648]],[[64612,64612],"mapped",[1574,1585]],[[64613,64613],"mapped",[1574,1586]],[[64614,64614],"mapped",[1574,1605]],[[64615,64615],"mapped",[1574,1606]],[[64616,64616],"mapped",[1574,1609]],[[64617,64617],"mapped",[1574,1610]],[[64618,64618],"mapped",[1576,1585]],[[64619,64619],"mapped",[1576,1586]],[[64620,64620],"mapped",[1576,1605]],[[64621,64621],"mapped",[1576,1606]],[[64622,64622],"mapped",[1576,1609]],[[64623,64623],"mapped",[1576,1610]],[[64624,64624],"mapped",[1578,1585]],[[64625,64625],"mapped",[1578,1586]],[[64626,64626],"mapped",[1578,1605]],[[64627,64627],"mapped",[1578,1606]],[[64628,64628],"mapped",[1578,1609]],[[64629,64629],"mapped",[1578,1610]],[[64630,64630],"mapped",[1579,1585]],[[64631,64631],"mapped",[1579,1586]],[[64632,64632],"mapped",[1579,1605]],[[64633,64633],"mapped",[1579,1606]],[[64634,64634],"mapped",[1579,1609]],[[64635,64635],"mapped",[1579,1610]],[[64636,64636],"mapped",[1601,1609]],[[64637,64637],"mapped",[1601,1610]],[[64638,64638],"mapped",[1602,1609]],[[64639,64639],"mapped",[1602,1610]],[[64640,64640],"mapped",[1603,1575]],[[64641,64641],"mapped",[1603,1604]],[[64642,64642],"mapped",[1603,1605]],[[64643,64643],"mapped",[1603,1609]],[[64644,64644],"mapped",[1603,1610]],[[64645,64645],"mapped",[1604,1605]],[[64646,64646],"mapped",[1604,1609]],[[64647,64647],"mapped",[1604,1610]],[[64648,64648],"mapped",[1605,1575]],[[64649,64649],"mapped",[1605,1605]],[[64650,64650],"mapped",[1606,1585]],[[64651,64651],"mapped",[1606,1586]],[[64652,64652],"mapped",[1606,1605]],[[64653,64653],"mapped",[1606,1606]],[[64654,64654],"mapped",[1606,1609]],[[64655,64655],"mapped",[1606,1610]],[[64656,64656],"mapped",[1609,1648]],[[64657,64657],"mapped",[1610,1585]],[[64658,64658],"mapped",[1610,1586]],[[64659,64659],"mapped",[1610,1605]],[[64660,64660],"mapped",[1610,1606]],[[64661,64661],"mapped",[1610,1609]],[[64662,64662],"mapped",[1610,1610]],[[64663,64663],"mapped",[1574,1580]],[[64664,64664],"mapped",[1574,1581]],[[64665,64665],"mapped",[1574,1582]],[[64666,64666],"mapped",[1574,1605]],[[64667,64667],"mapped",[1574,1607]],[[64668,64668],"mapped",[1576,1580]],[[64669,64669],"mapped",[1576,1581]],[[64670,64670],"mapped",[1576,1582]],[[64671,64671],"mapped",[1576,1605]],[[64672,64672],"mapped",[1576,1607]],[[64673,64673],"mapped",[1578,1580]],[[64674,64674],"mapped",[1578,1581]],[[64675,64675],"mapped",[1578,1582]],[[64676,64676],"mapped",[1578,1605]],[[64677,64677],"mapped",[1578,1607]],[[64678,64678],"mapped",[1579,1605]],[[64679,64679],"mapped",[1580,1581]],[[64680,64680],"mapped",[1580,1605]],[[64681,64681],"mapped",[1581,1580]],[[64682,64682],"mapped",[1581,1605]],[[64683,64683],"mapped",[1582,1580]],[[64684,64684],"mapped",[1582,1605]],[[64685,64685],"mapped",[1587,1580]],[[64686,64686],"mapped",[1587,1581]],[[64687,64687],"mapped",[1587,1582]],[[64688,64688],"mapped",[1587,1605]],[[64689,64689],"mapped",[1589,1581]],[[64690,64690],"mapped",[1589,1582]],[[64691,64691],"mapped",[1589,1605]],[[64692,64692],"mapped",[1590,1580]],[[64693,64693],"mapped",[1590,1581]],[[64694,64694],"mapped",[1590,1582]],[[64695,64695],"mapped",[1590,1605]],[[64696,64696],"mapped",[1591,1581]],[[64697,64697],"mapped",[1592,1605]],[[64698,64698],"mapped",[1593,1580]],[[64699,64699],"mapped",[1593,1605]],[[64700,64700],"mapped",[1594,1580]],[[64701,64701],"mapped",[1594,1605]],[[64702,64702],"mapped",[1601,1580]],[[64703,64703],"mapped",[1601,1581]],[[64704,64704],"mapped",[1601,1582]],[[64705,64705],"mapped",[1601,1605]],[[64706,64706],"mapped",[1602,1581]],[[64707,64707],"mapped",[1602,1605]],[[64708,64708],"mapped",[1603,1580]],[[64709,64709],"mapped",[1603,1581]],[[64710,64710],"mapped",[1603,1582]],[[64711,64711],"mapped",[1603,1604]],[[64712,64712],"mapped",[1603,1605]],[[64713,64713],"mapped",[1604,1580]],[[64714,64714],"mapped",[1604,1581]],[[64715,64715],"mapped",[1604,1582]],[[64716,64716],"mapped",[1604,1605]],[[64717,64717],"mapped",[1604,1607]],[[64718,64718],"mapped",[1605,1580]],[[64719,64719],"mapped",[1605,1581]],[[64720,64720],"mapped",[1605,1582]],[[64721,64721],"mapped",[1605,1605]],[[64722,64722],"mapped",[1606,1580]],[[64723,64723],"mapped",[1606,1581]],[[64724,64724],"mapped",[1606,1582]],[[64725,64725],"mapped",[1606,1605]],[[64726,64726],"mapped",[1606,1607]],[[64727,64727],"mapped",[1607,1580]],[[64728,64728],"mapped",[1607,1605]],[[64729,64729],"mapped",[1607,1648]],[[64730,64730],"mapped",[1610,1580]],[[64731,64731],"mapped",[1610,1581]],[[64732,64732],"mapped",[1610,1582]],[[64733,64733],"mapped",[1610,1605]],[[64734,64734],"mapped",[1610,1607]],[[64735,64735],"mapped",[1574,1605]],[[64736,64736],"mapped",[1574,1607]],[[64737,64737],"mapped",[1576,1605]],[[64738,64738],"mapped",[1576,1607]],[[64739,64739],"mapped",[1578,1605]],[[64740,64740],"mapped",[1578,1607]],[[64741,64741],"mapped",[1579,1605]],[[64742,64742],"mapped",[1579,1607]],[[64743,64743],"mapped",[1587,1605]],[[64744,64744],"mapped",[1587,1607]],[[64745,64745],"mapped",[1588,1605]],[[64746,64746],"mapped",[1588,1607]],[[64747,64747],"mapped",[1603,1604]],[[64748,64748],"mapped",[1603,1605]],[[64749,64749],"mapped",[1604,1605]],[[64750,64750],"mapped",[1606,1605]],[[64751,64751],"mapped",[1606,1607]],[[64752,64752],"mapped",[1610,1605]],[[64753,64753],"mapped",[1610,1607]],[[64754,64754],"mapped",[1600,1614,1617]],[[64755,64755],"mapped",[1600,1615,1617]],[[64756,64756],"mapped",[1600,1616,1617]],[[64757,64757],"mapped",[1591,1609]],[[64758,64758],"mapped",[1591,1610]],[[64759,64759],"mapped",[1593,1609]],[[64760,64760],"mapped",[1593,1610]],[[64761,64761],"mapped",[1594,1609]],[[64762,64762],"mapped",[1594,1610]],[[64763,64763],"mapped",[1587,1609]],[[64764,64764],"mapped",[1587,1610]],[[64765,64765],"mapped",[1588,1609]],[[64766,64766],"mapped",[1588,1610]],[[64767,64767],"mapped",[1581,1609]],[[64768,64768],"mapped",[1581,1610]],[[64769,64769],"mapped",[1580,1609]],[[64770,64770],"mapped",[1580,1610]],[[64771,64771],"mapped",[1582,1609]],[[64772,64772],"mapped",[1582,1610]],[[64773,64773],"mapped",[1589,1609]],[[64774,64774],"mapped",[1589,1610]],[[64775,64775],"mapped",[1590,1609]],[[64776,64776],"mapped",[1590,1610]],[[64777,64777],"mapped",[1588,1580]],[[64778,64778],"mapped",[1588,1581]],[[64779,64779],"mapped",[1588,1582]],[[64780,64780],"mapped",[1588,1605]],[[64781,64781],"mapped",[1588,1585]],[[64782,64782],"mapped",[1587,1585]],[[64783,64783],"mapped",[1589,1585]],[[64784,64784],"mapped",[1590,1585]],[[64785,64785],"mapped",[1591,1609]],[[64786,64786],"mapped",[1591,1610]],[[64787,64787],"mapped",[1593,1609]],[[64788,64788],"mapped",[1593,1610]],[[64789,64789],"mapped",[1594,1609]],[[64790,64790],"mapped",[1594,1610]],[[64791,64791],"mapped",[1587,1609]],[[64792,64792],"mapped",[1587,1610]],[[64793,64793],"mapped",[1588,1609]],[[64794,64794],"mapped",[1588,1610]],[[64795,64795],"mapped",[1581,1609]],[[64796,64796],"mapped",[1581,1610]],[[64797,64797],"mapped",[1580,1609]],[[64798,64798],"mapped",[1580,1610]],[[64799,64799],"mapped",[1582,1609]],[[64800,64800],"mapped",[1582,1610]],[[64801,64801],"mapped",[1589,1609]],[[64802,64802],"mapped",[1589,1610]],[[64803,64803],"mapped",[1590,1609]],[[64804,64804],"mapped",[1590,1610]],[[64805,64805],"mapped",[1588,1580]],[[64806,64806],"mapped",[1588,1581]],[[64807,64807],"mapped",[1588,1582]],[[64808,64808],"mapped",[1588,1605]],[[64809,64809],"mapped",[1588,1585]],[[64810,64810],"mapped",[1587,1585]],[[64811,64811],"mapped",[1589,1585]],[[64812,64812],"mapped",[1590,1585]],[[64813,64813],"mapped",[1588,1580]],[[64814,64814],"mapped",[1588,1581]],[[64815,64815],"mapped",[1588,1582]],[[64816,64816],"mapped",[1588,1605]],[[64817,64817],"mapped",[1587,1607]],[[64818,64818],"mapped",[1588,1607]],[[64819,64819],"mapped",[1591,1605]],[[64820,64820],"mapped",[1587,1580]],[[64821,64821],"mapped",[1587,1581]],[[64822,64822],"mapped",[1587,1582]],[[64823,64823],"mapped",[1588,1580]],[[64824,64824],"mapped",[1588,1581]],[[64825,64825],"mapped",[1588,1582]],[[64826,64826],"mapped",[1591,1605]],[[64827,64827],"mapped",[1592,1605]],[[64828,64829],"mapped",[1575,1611]],[[64830,64831],"valid",[],"NV8"],[[64832,64847],"disallowed"],[[64848,64848],"mapped",[1578,1580,1605]],[[64849,64850],"mapped",[1578,1581,1580]],[[64851,64851],"mapped",[1578,1581,1605]],[[64852,64852],"mapped",[1578,1582,1605]],[[64853,64853],"mapped",[1578,1605,1580]],[[64854,64854],"mapped",[1578,1605,1581]],[[64855,64855],"mapped",[1578,1605,1582]],[[64856,64857],"mapped",[1580,1605,1581]],[[64858,64858],"mapped",[1581,1605,1610]],[[64859,64859],"mapped",[1581,1605,1609]],[[64860,64860],"mapped",[1587,1581,1580]],[[64861,64861],"mapped",[1587,1580,1581]],[[64862,64862],"mapped",[1587,1580,1609]],[[64863,64864],"mapped",[1587,1605,1581]],[[64865,64865],"mapped",[1587,1605,1580]],[[64866,64867],"mapped",[1587,1605,1605]],[[64868,64869],"mapped",[1589,1581,1581]],[[64870,64870],"mapped",[1589,1605,1605]],[[64871,64872],"mapped",[1588,1581,1605]],[[64873,64873],"mapped",[1588,1580,1610]],[[64874,64875],"mapped",[1588,1605,1582]],[[64876,64877],"mapped",[1588,1605,1605]],[[64878,64878],"mapped",[1590,1581,1609]],[[64879,64880],"mapped",[1590,1582,1605]],[[64881,64882],"mapped",[1591,1605,1581]],[[64883,64883],"mapped",[1591,1605,1605]],[[64884,64884],"mapped",[1591,1605,1610]],[[64885,64885],"mapped",[1593,1580,1605]],[[64886,64887],"mapped",[1593,1605,1605]],[[64888,64888],"mapped",[1593,1605,1609]],[[64889,64889],"mapped",[1594,1605,1605]],[[64890,64890],"mapped",[1594,1605,1610]],[[64891,64891],"mapped",[1594,1605,1609]],[[64892,64893],"mapped",[1601,1582,1605]],[[64894,64894],"mapped",[1602,1605,1581]],[[64895,64895],"mapped",[1602,1605,1605]],[[64896,64896],"mapped",[1604,1581,1605]],[[64897,64897],"mapped",[1604,1581,1610]],[[64898,64898],"mapped",[1604,1581,1609]],[[64899,64900],"mapped",[1604,1580,1580]],[[64901,64902],"mapped",[1604,1582,1605]],[[64903,64904],"mapped",[1604,1605,1581]],[[64905,64905],"mapped",[1605,1581,1580]],[[64906,64906],"mapped",[1605,1581,1605]],[[64907,64907],"mapped",[1605,1581,1610]],[[64908,64908],"mapped",[1605,1580,1581]],[[64909,64909],"mapped",[1605,1580,1605]],[[64910,64910],"mapped",[1605,1582,1580]],[[64911,64911],"mapped",[1605,1582,1605]],[[64912,64913],"disallowed"],[[64914,64914],"mapped",[1605,1580,1582]],[[64915,64915],"mapped",[1607,1605,1580]],[[64916,64916],"mapped",[1607,1605,1605]],[[64917,64917],"mapped",[1606,1581,1605]],[[64918,64918],"mapped",[1606,1581,1609]],[[64919,64920],"mapped",[1606,1580,1605]],[[64921,64921],"mapped",[1606,1580,1609]],[[64922,64922],"mapped",[1606,1605,1610]],[[64923,64923],"mapped",[1606,1605,1609]],[[64924,64925],"mapped",[1610,1605,1605]],[[64926,64926],"mapped",[1576,1582,1610]],[[64927,64927],"mapped",[1578,1580,1610]],[[64928,64928],"mapped",[1578,1580,1609]],[[64929,64929],"mapped",[1578,1582,1610]],[[64930,64930],"mapped",[1578,1582,1609]],[[64931,64931],"mapped",[1578,1605,1610]],[[64932,64932],"mapped",[1578,1605,1609]],[[64933,64933],"mapped",[1580,1605,1610]],[[64934,64934],"mapped",[1580,1581,1609]],[[64935,64935],"mapped",[1580,1605,1609]],[[64936,64936],"mapped",[1587,1582,1609]],[[64937,64937],"mapped",[1589,1581,1610]],[[64938,64938],"mapped",[1588,1581,1610]],[[64939,64939],"mapped",[1590,1581,1610]],[[64940,64940],"mapped",[1604,1580,1610]],[[64941,64941],"mapped",[1604,1605,1610]],[[64942,64942],"mapped",[1610,1581,1610]],[[64943,64943],"mapped",[1610,1580,1610]],[[64944,64944],"mapped",[1610,1605,1610]],[[64945,64945],"mapped",[1605,1605,1610]],[[64946,64946],"mapped",[1602,1605,1610]],[[64947,64947],"mapped",[1606,1581,1610]],[[64948,64948],"mapped",[1602,1605,1581]],[[64949,64949],"mapped",[1604,1581,1605]],[[64950,64950],"mapped",[1593,1605,1610]],[[64951,64951],"mapped",[1603,1605,1610]],[[64952,64952],"mapped",[1606,1580,1581]],[[64953,64953],"mapped",[1605,1582,1610]],[[64954,64954],"mapped",[1604,1580,1605]],[[64955,64955],"mapped",[1603,1605,1605]],[[64956,64956],"mapped",[1604,1580,1605]],[[64957,64957],"mapped",[1606,1580,1581]],[[64958,64958],"mapped",[1580,1581,1610]],[[64959,64959],"mapped",[1581,1580,1610]],[[64960,64960],"mapped",[1605,1580,1610]],[[64961,64961],"mapped",[1601,1605,1610]],[[64962,64962],"mapped",[1576,1581,1610]],[[64963,64963],"mapped",[1603,1605,1605]],[[64964,64964],"mapped",[1593,1580,1605]],[[64965,64965],"mapped",[1589,1605,1605]],[[64966,64966],"mapped",[1587,1582,1610]],[[64967,64967],"mapped",[1606,1580,1610]],[[64968,64975],"disallowed"],[[64976,65007],"disallowed"],[[65008,65008],"mapped",[1589,1604,1746]],[[65009,65009],"mapped",[1602,1604,1746]],[[65010,65010],"mapped",[1575,1604,1604,1607]],[[65011,65011],"mapped",[1575,1603,1576,1585]],[[65012,65012],"mapped",[1605,1581,1605,1583]],[[65013,65013],"mapped",[1589,1604,1593,1605]],[[65014,65014],"mapped",[1585,1587,1608,1604]],[[65015,65015],"mapped",[1593,1604,1610,1607]],[[65016,65016],"mapped",[1608,1587,1604,1605]],[[65017,65017],"mapped",[1589,1604,1609]],[[65018,65018],"disallowed_STD3_mapped",[1589,1604,1609,32,1575,1604,1604,1607,32,1593,1604,1610,1607,32,1608,1587,1604,1605]],[[65019,65019],"disallowed_STD3_mapped",[1580,1604,32,1580,1604,1575,1604,1607]],[[65020,65020],"mapped",[1585,1740,1575,1604]],[[65021,65021],"valid",[],"NV8"],[[65022,65023],"disallowed"],[[65024,65039],"ignored"],[[65040,65040],"disallowed_STD3_mapped",[44]],[[65041,65041],"mapped",[12289]],[[65042,65042],"disallowed"],[[65043,65043],"disallowed_STD3_mapped",[58]],[[65044,65044],"disallowed_STD3_mapped",[59]],[[65045,65045],"disallowed_STD3_mapped",[33]],[[65046,65046],"disallowed_STD3_mapped",[63]],[[65047,65047],"mapped",[12310]],[[65048,65048],"mapped",[12311]],[[65049,65049],"disallowed"],[[65050,65055],"disallowed"],[[65056,65059],"valid"],[[65060,65062],"valid"],[[65063,65069],"valid"],[[65070,65071],"valid"],[[65072,65072],"disallowed"],[[65073,65073],"mapped",[8212]],[[65074,65074],"mapped",[8211]],[[65075,65076],"disallowed_STD3_mapped",[95]],[[65077,65077],"disallowed_STD3_mapped",[40]],[[65078,65078],"disallowed_STD3_mapped",[41]],[[65079,65079],"disallowed_STD3_mapped",[123]],[[65080,65080],"disallowed_STD3_mapped",[125]],[[65081,65081],"mapped",[12308]],[[65082,65082],"mapped",[12309]],[[65083,65083],"mapped",[12304]],[[65084,65084],"mapped",[12305]],[[65085,65085],"mapped",[12298]],[[65086,65086],"mapped",[12299]],[[65087,65087],"mapped",[12296]],[[65088,65088],"mapped",[12297]],[[65089,65089],"mapped",[12300]],[[65090,65090],"mapped",[12301]],[[65091,65091],"mapped",[12302]],[[65092,65092],"mapped",[12303]],[[65093,65094],"valid",[],"NV8"],[[65095,65095],"disallowed_STD3_mapped",[91]],[[65096,65096],"disallowed_STD3_mapped",[93]],[[65097,65100],"disallowed_STD3_mapped",[32,773]],[[65101,65103],"disallowed_STD3_mapped",[95]],[[65104,65104],"disallowed_STD3_mapped",[44]],[[65105,65105],"mapped",[12289]],[[65106,65106],"disallowed"],[[65107,65107],"disallowed"],[[65108,65108],"disallowed_STD3_mapped",[59]],[[65109,65109],"disallowed_STD3_mapped",[58]],[[65110,65110],"disallowed_STD3_mapped",[63]],[[65111,65111],"disallowed_STD3_mapped",[33]],[[65112,65112],"mapped",[8212]],[[65113,65113],"disallowed_STD3_mapped",[40]],[[65114,65114],"disallowed_STD3_mapped",[41]],[[65115,65115],"disallowed_STD3_mapped",[123]],[[65116,65116],"disallowed_STD3_mapped",[125]],[[65117,65117],"mapped",[12308]],[[65118,65118],"mapped",[12309]],[[65119,65119],"disallowed_STD3_mapped",[35]],[[65120,65120],"disallowed_STD3_mapped",[38]],[[65121,65121],"disallowed_STD3_mapped",[42]],[[65122,65122],"disallowed_STD3_mapped",[43]],[[65123,65123],"mapped",[45]],[[65124,65124],"disallowed_STD3_mapped",[60]],[[65125,65125],"disallowed_STD3_mapped",[62]],[[65126,65126],"disallowed_STD3_mapped",[61]],[[65127,65127],"disallowed"],[[65128,65128],"disallowed_STD3_mapped",[92]],[[65129,65129],"disallowed_STD3_mapped",[36]],[[65130,65130],"disallowed_STD3_mapped",[37]],[[65131,65131],"disallowed_STD3_mapped",[64]],[[65132,65135],"disallowed"],[[65136,65136],"disallowed_STD3_mapped",[32,1611]],[[65137,65137],"mapped",[1600,1611]],[[65138,65138],"disallowed_STD3_mapped",[32,1612]],[[65139,65139],"valid"],[[65140,65140],"disallowed_STD3_mapped",[32,1613]],[[65141,65141],"disallowed"],[[65142,65142],"disallowed_STD3_mapped",[32,1614]],[[65143,65143],"mapped",[1600,1614]],[[65144,65144],"disallowed_STD3_mapped",[32,1615]],[[65145,65145],"mapped",[1600,1615]],[[65146,65146],"disallowed_STD3_mapped",[32,1616]],[[65147,65147],"mapped",[1600,1616]],[[65148,65148],"disallowed_STD3_mapped",[32,1617]],[[65149,65149],"mapped",[1600,1617]],[[65150,65150],"disallowed_STD3_mapped",[32,1618]],[[65151,65151],"mapped",[1600,1618]],[[65152,65152],"mapped",[1569]],[[65153,65154],"mapped",[1570]],[[65155,65156],"mapped",[1571]],[[65157,65158],"mapped",[1572]],[[65159,65160],"mapped",[1573]],[[65161,65164],"mapped",[1574]],[[65165,65166],"mapped",[1575]],[[65167,65170],"mapped",[1576]],[[65171,65172],"mapped",[1577]],[[65173,65176],"mapped",[1578]],[[65177,65180],"mapped",[1579]],[[65181,65184],"mapped",[1580]],[[65185,65188],"mapped",[1581]],[[65189,65192],"mapped",[1582]],[[65193,65194],"mapped",[1583]],[[65195,65196],"mapped",[1584]],[[65197,65198],"mapped",[1585]],[[65199,65200],"mapped",[1586]],[[65201,65204],"mapped",[1587]],[[65205,65208],"mapped",[1588]],[[65209,65212],"mapped",[1589]],[[65213,65216],"mapped",[1590]],[[65217,65220],"mapped",[1591]],[[65221,65224],"mapped",[1592]],[[65225,65228],"mapped",[1593]],[[65229,65232],"mapped",[1594]],[[65233,65236],"mapped",[1601]],[[65237,65240],"mapped",[1602]],[[65241,65244],"mapped",[1603]],[[65245,65248],"mapped",[1604]],[[65249,65252],"mapped",[1605]],[[65253,65256],"mapped",[1606]],[[65257,65260],"mapped",[1607]],[[65261,65262],"mapped",[1608]],[[65263,65264],"mapped",[1609]],[[65265,65268],"mapped",[1610]],[[65269,65270],"mapped",[1604,1570]],[[65271,65272],"mapped",[1604,1571]],[[65273,65274],"mapped",[1604,1573]],[[65275,65276],"mapped",[1604,1575]],[[65277,65278],"disallowed"],[[65279,65279],"ignored"],[[65280,65280],"disallowed"],[[65281,65281],"disallowed_STD3_mapped",[33]],[[65282,65282],"disallowed_STD3_mapped",[34]],[[65283,65283],"disallowed_STD3_mapped",[35]],[[65284,65284],"disallowed_STD3_mapped",[36]],[[65285,65285],"disallowed_STD3_mapped",[37]],[[65286,65286],"disallowed_STD3_mapped",[38]],[[65287,65287],"disallowed_STD3_mapped",[39]],[[65288,65288],"disallowed_STD3_mapped",[40]],[[65289,65289],"disallowed_STD3_mapped",[41]],[[65290,65290],"disallowed_STD3_mapped",[42]],[[65291,65291],"disallowed_STD3_mapped",[43]],[[65292,65292],"disallowed_STD3_mapped",[44]],[[65293,65293],"mapped",[45]],[[65294,65294],"mapped",[46]],[[65295,65295],"disallowed_STD3_mapped",[47]],[[65296,65296],"mapped",[48]],[[65297,65297],"mapped",[49]],[[65298,65298],"mapped",[50]],[[65299,65299],"mapped",[51]],[[65300,65300],"mapped",[52]],[[65301,65301],"mapped",[53]],[[65302,65302],"mapped",[54]],[[65303,65303],"mapped",[55]],[[65304,65304],"mapped",[56]],[[65305,65305],"mapped",[57]],[[65306,65306],"disallowed_STD3_mapped",[58]],[[65307,65307],"disallowed_STD3_mapped",[59]],[[65308,65308],"disallowed_STD3_mapped",[60]],[[65309,65309],"disallowed_STD3_mapped",[61]],[[65310,65310],"disallowed_STD3_mapped",[62]],[[65311,65311],"disallowed_STD3_mapped",[63]],[[65312,65312],"disallowed_STD3_mapped",[64]],[[65313,65313],"mapped",[97]],[[65314,65314],"mapped",[98]],[[65315,65315],"mapped",[99]],[[65316,65316],"mapped",[100]],[[65317,65317],"mapped",[101]],[[65318,65318],"mapped",[102]],[[65319,65319],"mapped",[103]],[[65320,65320],"mapped",[104]],[[65321,65321],"mapped",[105]],[[65322,65322],"mapped",[106]],[[65323,65323],"mapped",[107]],[[65324,65324],"mapped",[108]],[[65325,65325],"mapped",[109]],[[65326,65326],"mapped",[110]],[[65327,65327],"mapped",[111]],[[65328,65328],"mapped",[112]],[[65329,65329],"mapped",[113]],[[65330,65330],"mapped",[114]],[[65331,65331],"mapped",[115]],[[65332,65332],"mapped",[116]],[[65333,65333],"mapped",[117]],[[65334,65334],"mapped",[118]],[[65335,65335],"mapped",[119]],[[65336,65336],"mapped",[120]],[[65337,65337],"mapped",[121]],[[65338,65338],"mapped",[122]],[[65339,65339],"disallowed_STD3_mapped",[91]],[[65340,65340],"disallowed_STD3_mapped",[92]],[[65341,65341],"disallowed_STD3_mapped",[93]],[[65342,65342],"disallowed_STD3_mapped",[94]],[[65343,65343],"disallowed_STD3_mapped",[95]],[[65344,65344],"disallowed_STD3_mapped",[96]],[[65345,65345],"mapped",[97]],[[65346,65346],"mapped",[98]],[[65347,65347],"mapped",[99]],[[65348,65348],"mapped",[100]],[[65349,65349],"mapped",[101]],[[65350,65350],"mapped",[102]],[[65351,65351],"mapped",[103]],[[65352,65352],"mapped",[104]],[[65353,65353],"mapped",[105]],[[65354,65354],"mapped",[106]],[[65355,65355],"mapped",[107]],[[65356,65356],"mapped",[108]],[[65357,65357],"mapped",[109]],[[65358,65358],"mapped",[110]],[[65359,65359],"mapped",[111]],[[65360,65360],"mapped",[112]],[[65361,65361],"mapped",[113]],[[65362,65362],"mapped",[114]],[[65363,65363],"mapped",[115]],[[65364,65364],"mapped",[116]],[[65365,65365],"mapped",[117]],[[65366,65366],"mapped",[118]],[[65367,65367],"mapped",[119]],[[65368,65368],"mapped",[120]],[[65369,65369],"mapped",[121]],[[65370,65370],"mapped",[122]],[[65371,65371],"disallowed_STD3_mapped",[123]],[[65372,65372],"disallowed_STD3_mapped",[124]],[[65373,65373],"disallowed_STD3_mapped",[125]],[[65374,65374],"disallowed_STD3_mapped",[126]],[[65375,65375],"mapped",[10629]],[[65376,65376],"mapped",[10630]],[[65377,65377],"mapped",[46]],[[65378,65378],"mapped",[12300]],[[65379,65379],"mapped",[12301]],[[65380,65380],"mapped",[12289]],[[65381,65381],"mapped",[12539]],[[65382,65382],"mapped",[12530]],[[65383,65383],"mapped",[12449]],[[65384,65384],"mapped",[12451]],[[65385,65385],"mapped",[12453]],[[65386,65386],"mapped",[12455]],[[65387,65387],"mapped",[12457]],[[65388,65388],"mapped",[12515]],[[65389,65389],"mapped",[12517]],[[65390,65390],"mapped",[12519]],[[65391,65391],"mapped",[12483]],[[65392,65392],"mapped",[12540]],[[65393,65393],"mapped",[12450]],[[65394,65394],"mapped",[12452]],[[65395,65395],"mapped",[12454]],[[65396,65396],"mapped",[12456]],[[65397,65397],"mapped",[12458]],[[65398,65398],"mapped",[12459]],[[65399,65399],"mapped",[12461]],[[65400,65400],"mapped",[12463]],[[65401,65401],"mapped",[12465]],[[65402,65402],"mapped",[12467]],[[65403,65403],"mapped",[12469]],[[65404,65404],"mapped",[12471]],[[65405,65405],"mapped",[12473]],[[65406,65406],"mapped",[12475]],[[65407,65407],"mapped",[12477]],[[65408,65408],"mapped",[12479]],[[65409,65409],"mapped",[12481]],[[65410,65410],"mapped",[12484]],[[65411,65411],"mapped",[12486]],[[65412,65412],"mapped",[12488]],[[65413,65413],"mapped",[12490]],[[65414,65414],"mapped",[12491]],[[65415,65415],"mapped",[12492]],[[65416,65416],"mapped",[12493]],[[65417,65417],"mapped",[12494]],[[65418,65418],"mapped",[12495]],[[65419,65419],"mapped",[12498]],[[65420,65420],"mapped",[12501]],[[65421,65421],"mapped",[12504]],[[65422,65422],"mapped",[12507]],[[65423,65423],"mapped",[12510]],[[65424,65424],"mapped",[12511]],[[65425,65425],"mapped",[12512]],[[65426,65426],"mapped",[12513]],[[65427,65427],"mapped",[12514]],[[65428,65428],"mapped",[12516]],[[65429,65429],"mapped",[12518]],[[65430,65430],"mapped",[12520]],[[65431,65431],"mapped",[12521]],[[65432,65432],"mapped",[12522]],[[65433,65433],"mapped",[12523]],[[65434,65434],"mapped",[12524]],[[65435,65435],"mapped",[12525]],[[65436,65436],"mapped",[12527]],[[65437,65437],"mapped",[12531]],[[65438,65438],"mapped",[12441]],[[65439,65439],"mapped",[12442]],[[65440,65440],"disallowed"],[[65441,65441],"mapped",[4352]],[[65442,65442],"mapped",[4353]],[[65443,65443],"mapped",[4522]],[[65444,65444],"mapped",[4354]],[[65445,65445],"mapped",[4524]],[[65446,65446],"mapped",[4525]],[[65447,65447],"mapped",[4355]],[[65448,65448],"mapped",[4356]],[[65449,65449],"mapped",[4357]],[[65450,65450],"mapped",[4528]],[[65451,65451],"mapped",[4529]],[[65452,65452],"mapped",[4530]],[[65453,65453],"mapped",[4531]],[[65454,65454],"mapped",[4532]],[[65455,65455],"mapped",[4533]],[[65456,65456],"mapped",[4378]],[[65457,65457],"mapped",[4358]],[[65458,65458],"mapped",[4359]],[[65459,65459],"mapped",[4360]],[[65460,65460],"mapped",[4385]],[[65461,65461],"mapped",[4361]],[[65462,65462],"mapped",[4362]],[[65463,65463],"mapped",[4363]],[[65464,65464],"mapped",[4364]],[[65465,65465],"mapped",[4365]],[[65466,65466],"mapped",[4366]],[[65467,65467],"mapped",[4367]],[[65468,65468],"mapped",[4368]],[[65469,65469],"mapped",[4369]],[[65470,65470],"mapped",[4370]],[[65471,65473],"disallowed"],[[65474,65474],"mapped",[4449]],[[65475,65475],"mapped",[4450]],[[65476,65476],"mapped",[4451]],[[65477,65477],"mapped",[4452]],[[65478,65478],"mapped",[4453]],[[65479,65479],"mapped",[4454]],[[65480,65481],"disallowed"],[[65482,65482],"mapped",[4455]],[[65483,65483],"mapped",[4456]],[[65484,65484],"mapped",[4457]],[[65485,65485],"mapped",[4458]],[[65486,65486],"mapped",[4459]],[[65487,65487],"mapped",[4460]],[[65488,65489],"disallowed"],[[65490,65490],"mapped",[4461]],[[65491,65491],"mapped",[4462]],[[65492,65492],"mapped",[4463]],[[65493,65493],"mapped",[4464]],[[65494,65494],"mapped",[4465]],[[65495,65495],"mapped",[4466]],[[65496,65497],"disallowed"],[[65498,65498],"mapped",[4467]],[[65499,65499],"mapped",[4468]],[[65500,65500],"mapped",[4469]],[[65501,65503],"disallowed"],[[65504,65504],"mapped",[162]],[[65505,65505],"mapped",[163]],[[65506,65506],"mapped",[172]],[[65507,65507],"disallowed_STD3_mapped",[32,772]],[[65508,65508],"mapped",[166]],[[65509,65509],"mapped",[165]],[[65510,65510],"mapped",[8361]],[[65511,65511],"disallowed"],[[65512,65512],"mapped",[9474]],[[65513,65513],"mapped",[8592]],[[65514,65514],"mapped",[8593]],[[65515,65515],"mapped",[8594]],[[65516,65516],"mapped",[8595]],[[65517,65517],"mapped",[9632]],[[65518,65518],"mapped",[9675]],[[65519,65528],"disallowed"],[[65529,65531],"disallowed"],[[65532,65532],"disallowed"],[[65533,65533],"disallowed"],[[65534,65535],"disallowed"],[[65536,65547],"valid"],[[65548,65548],"disallowed"],[[65549,65574],"valid"],[[65575,65575],"disallowed"],[[65576,65594],"valid"],[[65595,65595],"disallowed"],[[65596,65597],"valid"],[[65598,65598],"disallowed"],[[65599,65613],"valid"],[[65614,65615],"disallowed"],[[65616,65629],"valid"],[[65630,65663],"disallowed"],[[65664,65786],"valid"],[[65787,65791],"disallowed"],[[65792,65794],"valid",[],"NV8"],[[65795,65798],"disallowed"],[[65799,65843],"valid",[],"NV8"],[[65844,65846],"disallowed"],[[65847,65855],"valid",[],"NV8"],[[65856,65930],"valid",[],"NV8"],[[65931,65932],"valid",[],"NV8"],[[65933,65935],"disallowed"],[[65936,65947],"valid",[],"NV8"],[[65948,65951],"disallowed"],[[65952,65952],"valid",[],"NV8"],[[65953,65999],"disallowed"],[[66000,66044],"valid",[],"NV8"],[[66045,66045],"valid"],[[66046,66175],"disallowed"],[[66176,66204],"valid"],[[66205,66207],"disallowed"],[[66208,66256],"valid"],[[66257,66271],"disallowed"],[[66272,66272],"valid"],[[66273,66299],"valid",[],"NV8"],[[66300,66303],"disallowed"],[[66304,66334],"valid"],[[66335,66335],"valid"],[[66336,66339],"valid",[],"NV8"],[[66340,66351],"disallowed"],[[66352,66368],"valid"],[[66369,66369],"valid",[],"NV8"],[[66370,66377],"valid"],[[66378,66378],"valid",[],"NV8"],[[66379,66383],"disallowed"],[[66384,66426],"valid"],[[66427,66431],"disallowed"],[[66432,66461],"valid"],[[66462,66462],"disallowed"],[[66463,66463],"valid",[],"NV8"],[[66464,66499],"valid"],[[66500,66503],"disallowed"],[[66504,66511],"valid"],[[66512,66517],"valid",[],"NV8"],[[66518,66559],"disallowed"],[[66560,66560],"mapped",[66600]],[[66561,66561],"mapped",[66601]],[[66562,66562],"mapped",[66602]],[[66563,66563],"mapped",[66603]],[[66564,66564],"mapped",[66604]],[[66565,66565],"mapped",[66605]],[[66566,66566],"mapped",[66606]],[[66567,66567],"mapped",[66607]],[[66568,66568],"mapped",[66608]],[[66569,66569],"mapped",[66609]],[[66570,66570],"mapped",[66610]],[[66571,66571],"mapped",[66611]],[[66572,66572],"mapped",[66612]],[[66573,66573],"mapped",[66613]],[[66574,66574],"mapped",[66614]],[[66575,66575],"mapped",[66615]],[[66576,66576],"mapped",[66616]],[[66577,66577],"mapped",[66617]],[[66578,66578],"mapped",[66618]],[[66579,66579],"mapped",[66619]],[[66580,66580],"mapped",[66620]],[[66581,66581],"mapped",[66621]],[[66582,66582],"mapped",[66622]],[[66583,66583],"mapped",[66623]],[[66584,66584],"mapped",[66624]],[[66585,66585],"mapped",[66625]],[[66586,66586],"mapped",[66626]],[[66587,66587],"mapped",[66627]],[[66588,66588],"mapped",[66628]],[[66589,66589],"mapped",[66629]],[[66590,66590],"mapped",[66630]],[[66591,66591],"mapped",[66631]],[[66592,66592],"mapped",[66632]],[[66593,66593],"mapped",[66633]],[[66594,66594],"mapped",[66634]],[[66595,66595],"mapped",[66635]],[[66596,66596],"mapped",[66636]],[[66597,66597],"mapped",[66637]],[[66598,66598],"mapped",[66638]],[[66599,66599],"mapped",[66639]],[[66600,66637],"valid"],[[66638,66717],"valid"],[[66718,66719],"disallowed"],[[66720,66729],"valid"],[[66730,66815],"disallowed"],[[66816,66855],"valid"],[[66856,66863],"disallowed"],[[66864,66915],"valid"],[[66916,66926],"disallowed"],[[66927,66927],"valid",[],"NV8"],[[66928,67071],"disallowed"],[[67072,67382],"valid"],[[67383,67391],"disallowed"],[[67392,67413],"valid"],[[67414,67423],"disallowed"],[[67424,67431],"valid"],[[67432,67583],"disallowed"],[[67584,67589],"valid"],[[67590,67591],"disallowed"],[[67592,67592],"valid"],[[67593,67593],"disallowed"],[[67594,67637],"valid"],[[67638,67638],"disallowed"],[[67639,67640],"valid"],[[67641,67643],"disallowed"],[[67644,67644],"valid"],[[67645,67646],"disallowed"],[[67647,67647],"valid"],[[67648,67669],"valid"],[[67670,67670],"disallowed"],[[67671,67679],"valid",[],"NV8"],[[67680,67702],"valid"],[[67703,67711],"valid",[],"NV8"],[[67712,67742],"valid"],[[67743,67750],"disallowed"],[[67751,67759],"valid",[],"NV8"],[[67760,67807],"disallowed"],[[67808,67826],"valid"],[[67827,67827],"disallowed"],[[67828,67829],"valid"],[[67830,67834],"disallowed"],[[67835,67839],"valid",[],"NV8"],[[67840,67861],"valid"],[[67862,67865],"valid",[],"NV8"],[[67866,67867],"valid",[],"NV8"],[[67868,67870],"disallowed"],[[67871,67871],"valid",[],"NV8"],[[67872,67897],"valid"],[[67898,67902],"disallowed"],[[67903,67903],"valid",[],"NV8"],[[67904,67967],"disallowed"],[[67968,68023],"valid"],[[68024,68027],"disallowed"],[[68028,68029],"valid",[],"NV8"],[[68030,68031],"valid"],[[68032,68047],"valid",[],"NV8"],[[68048,68049],"disallowed"],[[68050,68095],"valid",[],"NV8"],[[68096,68099],"valid"],[[68100,68100],"disallowed"],[[68101,68102],"valid"],[[68103,68107],"disallowed"],[[68108,68115],"valid"],[[68116,68116],"disallowed"],[[68117,68119],"valid"],[[68120,68120],"disallowed"],[[68121,68147],"valid"],[[68148,68151],"disallowed"],[[68152,68154],"valid"],[[68155,68158],"disallowed"],[[68159,68159],"valid"],[[68160,68167],"valid",[],"NV8"],[[68168,68175],"disallowed"],[[68176,68184],"valid",[],"NV8"],[[68185,68191],"disallowed"],[[68192,68220],"valid"],[[68221,68223],"valid",[],"NV8"],[[68224,68252],"valid"],[[68253,68255],"valid",[],"NV8"],[[68256,68287],"disallowed"],[[68288,68295],"valid"],[[68296,68296],"valid",[],"NV8"],[[68297,68326],"valid"],[[68327,68330],"disallowed"],[[68331,68342],"valid",[],"NV8"],[[68343,68351],"disallowed"],[[68352,68405],"valid"],[[68406,68408],"disallowed"],[[68409,68415],"valid",[],"NV8"],[[68416,68437],"valid"],[[68438,68439],"disallowed"],[[68440,68447],"valid",[],"NV8"],[[68448,68466],"valid"],[[68467,68471],"disallowed"],[[68472,68479],"valid",[],"NV8"],[[68480,68497],"valid"],[[68498,68504],"disallowed"],[[68505,68508],"valid",[],"NV8"],[[68509,68520],"disallowed"],[[68521,68527],"valid",[],"NV8"],[[68528,68607],"disallowed"],[[68608,68680],"valid"],[[68681,68735],"disallowed"],[[68736,68736],"mapped",[68800]],[[68737,68737],"mapped",[68801]],[[68738,68738],"mapped",[68802]],[[68739,68739],"mapped",[68803]],[[68740,68740],"mapped",[68804]],[[68741,68741],"mapped",[68805]],[[68742,68742],"mapped",[68806]],[[68743,68743],"mapped",[68807]],[[68744,68744],"mapped",[68808]],[[68745,68745],"mapped",[68809]],[[68746,68746],"mapped",[68810]],[[68747,68747],"mapped",[68811]],[[68748,68748],"mapped",[68812]],[[68749,68749],"mapped",[68813]],[[68750,68750],"mapped",[68814]],[[68751,68751],"mapped",[68815]],[[68752,68752],"mapped",[68816]],[[68753,68753],"mapped",[68817]],[[68754,68754],"mapped",[68818]],[[68755,68755],"mapped",[68819]],[[68756,68756],"mapped",[68820]],[[68757,68757],"mapped",[68821]],[[68758,68758],"mapped",[68822]],[[68759,68759],"mapped",[68823]],[[68760,68760],"mapped",[68824]],[[68761,68761],"mapped",[68825]],[[68762,68762],"mapped",[68826]],[[68763,68763],"mapped",[68827]],[[68764,68764],"mapped",[68828]],[[68765,68765],"mapped",[68829]],[[68766,68766],"mapped",[68830]],[[68767,68767],"mapped",[68831]],[[68768,68768],"mapped",[68832]],[[68769,68769],"mapped",[68833]],[[68770,68770],"mapped",[68834]],[[68771,68771],"mapped",[68835]],[[68772,68772],"mapped",[68836]],[[68773,68773],"mapped",[68837]],[[68774,68774],"mapped",[68838]],[[68775,68775],"mapped",[68839]],[[68776,68776],"mapped",[68840]],[[68777,68777],"mapped",[68841]],[[68778,68778],"mapped",[68842]],[[68779,68779],"mapped",[68843]],[[68780,68780],"mapped",[68844]],[[68781,68781],"mapped",[68845]],[[68782,68782],"mapped",[68846]],[[68783,68783],"mapped",[68847]],[[68784,68784],"mapped",[68848]],[[68785,68785],"mapped",[68849]],[[68786,68786],"mapped",[68850]],[[68787,68799],"disallowed"],[[68800,68850],"valid"],[[68851,68857],"disallowed"],[[68858,68863],"valid",[],"NV8"],[[68864,69215],"disallowed"],[[69216,69246],"valid",[],"NV8"],[[69247,69631],"disallowed"],[[69632,69702],"valid"],[[69703,69709],"valid",[],"NV8"],[[69710,69713],"disallowed"],[[69714,69733],"valid",[],"NV8"],[[69734,69743],"valid"],[[69744,69758],"disallowed"],[[69759,69759],"valid"],[[69760,69818],"valid"],[[69819,69820],"valid",[],"NV8"],[[69821,69821],"disallowed"],[[69822,69825],"valid",[],"NV8"],[[69826,69839],"disallowed"],[[69840,69864],"valid"],[[69865,69871],"disallowed"],[[69872,69881],"valid"],[[69882,69887],"disallowed"],[[69888,69940],"valid"],[[69941,69941],"disallowed"],[[69942,69951],"valid"],[[69952,69955],"valid",[],"NV8"],[[69956,69967],"disallowed"],[[69968,70003],"valid"],[[70004,70005],"valid",[],"NV8"],[[70006,70006],"valid"],[[70007,70015],"disallowed"],[[70016,70084],"valid"],[[70085,70088],"valid",[],"NV8"],[[70089,70089],"valid",[],"NV8"],[[70090,70092],"valid"],[[70093,70093],"valid",[],"NV8"],[[70094,70095],"disallowed"],[[70096,70105],"valid"],[[70106,70106],"valid"],[[70107,70107],"valid",[],"NV8"],[[70108,70108],"valid"],[[70109,70111],"valid",[],"NV8"],[[70112,70112],"disallowed"],[[70113,70132],"valid",[],"NV8"],[[70133,70143],"disallowed"],[[70144,70161],"valid"],[[70162,70162],"disallowed"],[[70163,70199],"valid"],[[70200,70205],"valid",[],"NV8"],[[70206,70271],"disallowed"],[[70272,70278],"valid"],[[70279,70279],"disallowed"],[[70280,70280],"valid"],[[70281,70281],"disallowed"],[[70282,70285],"valid"],[[70286,70286],"disallowed"],[[70287,70301],"valid"],[[70302,70302],"disallowed"],[[70303,70312],"valid"],[[70313,70313],"valid",[],"NV8"],[[70314,70319],"disallowed"],[[70320,70378],"valid"],[[70379,70383],"disallowed"],[[70384,70393],"valid"],[[70394,70399],"disallowed"],[[70400,70400],"valid"],[[70401,70403],"valid"],[[70404,70404],"disallowed"],[[70405,70412],"valid"],[[70413,70414],"disallowed"],[[70415,70416],"valid"],[[70417,70418],"disallowed"],[[70419,70440],"valid"],[[70441,70441],"disallowed"],[[70442,70448],"valid"],[[70449,70449],"disallowed"],[[70450,70451],"valid"],[[70452,70452],"disallowed"],[[70453,70457],"valid"],[[70458,70459],"disallowed"],[[70460,70468],"valid"],[[70469,70470],"disallowed"],[[70471,70472],"valid"],[[70473,70474],"disallowed"],[[70475,70477],"valid"],[[70478,70479],"disallowed"],[[70480,70480],"valid"],[[70481,70486],"disallowed"],[[70487,70487],"valid"],[[70488,70492],"disallowed"],[[70493,70499],"valid"],[[70500,70501],"disallowed"],[[70502,70508],"valid"],[[70509,70511],"disallowed"],[[70512,70516],"valid"],[[70517,70783],"disallowed"],[[70784,70853],"valid"],[[70854,70854],"valid",[],"NV8"],[[70855,70855],"valid"],[[70856,70863],"disallowed"],[[70864,70873],"valid"],[[70874,71039],"disallowed"],[[71040,71093],"valid"],[[71094,71095],"disallowed"],[[71096,71104],"valid"],[[71105,71113],"valid",[],"NV8"],[[71114,71127],"valid",[],"NV8"],[[71128,71133],"valid"],[[71134,71167],"disallowed"],[[71168,71232],"valid"],[[71233,71235],"valid",[],"NV8"],[[71236,71236],"valid"],[[71237,71247],"disallowed"],[[71248,71257],"valid"],[[71258,71295],"disallowed"],[[71296,71351],"valid"],[[71352,71359],"disallowed"],[[71360,71369],"valid"],[[71370,71423],"disallowed"],[[71424,71449],"valid"],[[71450,71452],"disallowed"],[[71453,71467],"valid"],[[71468,71471],"disallowed"],[[71472,71481],"valid"],[[71482,71487],"valid",[],"NV8"],[[71488,71839],"disallowed"],[[71840,71840],"mapped",[71872]],[[71841,71841],"mapped",[71873]],[[71842,71842],"mapped",[71874]],[[71843,71843],"mapped",[71875]],[[71844,71844],"mapped",[71876]],[[71845,71845],"mapped",[71877]],[[71846,71846],"mapped",[71878]],[[71847,71847],"mapped",[71879]],[[71848,71848],"mapped",[71880]],[[71849,71849],"mapped",[71881]],[[71850,71850],"mapped",[71882]],[[71851,71851],"mapped",[71883]],[[71852,71852],"mapped",[71884]],[[71853,71853],"mapped",[71885]],[[71854,71854],"mapped",[71886]],[[71855,71855],"mapped",[71887]],[[71856,71856],"mapped",[71888]],[[71857,71857],"mapped",[71889]],[[71858,71858],"mapped",[71890]],[[71859,71859],"mapped",[71891]],[[71860,71860],"mapped",[71892]],[[71861,71861],"mapped",[71893]],[[71862,71862],"mapped",[71894]],[[71863,71863],"mapped",[71895]],[[71864,71864],"mapped",[71896]],[[71865,71865],"mapped",[71897]],[[71866,71866],"mapped",[71898]],[[71867,71867],"mapped",[71899]],[[71868,71868],"mapped",[71900]],[[71869,71869],"mapped",[71901]],[[71870,71870],"mapped",[71902]],[[71871,71871],"mapped",[71903]],[[71872,71913],"valid"],[[71914,71922],"valid",[],"NV8"],[[71923,71934],"disallowed"],[[71935,71935],"valid"],[[71936,72383],"disallowed"],[[72384,72440],"valid"],[[72441,73727],"disallowed"],[[73728,74606],"valid"],[[74607,74648],"valid"],[[74649,74649],"valid"],[[74650,74751],"disallowed"],[[74752,74850],"valid",[],"NV8"],[[74851,74862],"valid",[],"NV8"],[[74863,74863],"disallowed"],[[74864,74867],"valid",[],"NV8"],[[74868,74868],"valid",[],"NV8"],[[74869,74879],"disallowed"],[[74880,75075],"valid"],[[75076,77823],"disallowed"],[[77824,78894],"valid"],[[78895,82943],"disallowed"],[[82944,83526],"valid"],[[83527,92159],"disallowed"],[[92160,92728],"valid"],[[92729,92735],"disallowed"],[[92736,92766],"valid"],[[92767,92767],"disallowed"],[[92768,92777],"valid"],[[92778,92781],"disallowed"],[[92782,92783],"valid",[],"NV8"],[[92784,92879],"disallowed"],[[92880,92909],"valid"],[[92910,92911],"disallowed"],[[92912,92916],"valid"],[[92917,92917],"valid",[],"NV8"],[[92918,92927],"disallowed"],[[92928,92982],"valid"],[[92983,92991],"valid",[],"NV8"],[[92992,92995],"valid"],[[92996,92997],"valid",[],"NV8"],[[92998,93007],"disallowed"],[[93008,93017],"valid"],[[93018,93018],"disallowed"],[[93019,93025],"valid",[],"NV8"],[[93026,93026],"disallowed"],[[93027,93047],"valid"],[[93048,93052],"disallowed"],[[93053,93071],"valid"],[[93072,93951],"disallowed"],[[93952,94020],"valid"],[[94021,94031],"disallowed"],[[94032,94078],"valid"],[[94079,94094],"disallowed"],[[94095,94111],"valid"],[[94112,110591],"disallowed"],[[110592,110593],"valid"],[[110594,113663],"disallowed"],[[113664,113770],"valid"],[[113771,113775],"disallowed"],[[113776,113788],"valid"],[[113789,113791],"disallowed"],[[113792,113800],"valid"],[[113801,113807],"disallowed"],[[113808,113817],"valid"],[[113818,113819],"disallowed"],[[113820,113820],"valid",[],"NV8"],[[113821,113822],"valid"],[[113823,113823],"valid",[],"NV8"],[[113824,113827],"ignored"],[[113828,118783],"disallowed"],[[118784,119029],"valid",[],"NV8"],[[119030,119039],"disallowed"],[[119040,119078],"valid",[],"NV8"],[[119079,119080],"disallowed"],[[119081,119081],"valid",[],"NV8"],[[119082,119133],"valid",[],"NV8"],[[119134,119134],"mapped",[119127,119141]],[[119135,119135],"mapped",[119128,119141]],[[119136,119136],"mapped",[119128,119141,119150]],[[119137,119137],"mapped",[119128,119141,119151]],[[119138,119138],"mapped",[119128,119141,119152]],[[119139,119139],"mapped",[119128,119141,119153]],[[119140,119140],"mapped",[119128,119141,119154]],[[119141,119154],"valid",[],"NV8"],[[119155,119162],"disallowed"],[[119163,119226],"valid",[],"NV8"],[[119227,119227],"mapped",[119225,119141]],[[119228,119228],"mapped",[119226,119141]],[[119229,119229],"mapped",[119225,119141,119150]],[[119230,119230],"mapped",[119226,119141,119150]],[[119231,119231],"mapped",[119225,119141,119151]],[[119232,119232],"mapped",[119226,119141,119151]],[[119233,119261],"valid",[],"NV8"],[[119262,119272],"valid",[],"NV8"],[[119273,119295],"disallowed"],[[119296,119365],"valid",[],"NV8"],[[119366,119551],"disallowed"],[[119552,119638],"valid",[],"NV8"],[[119639,119647],"disallowed"],[[119648,119665],"valid",[],"NV8"],[[119666,119807],"disallowed"],[[119808,119808],"mapped",[97]],[[119809,119809],"mapped",[98]],[[119810,119810],"mapped",[99]],[[119811,119811],"mapped",[100]],[[119812,119812],"mapped",[101]],[[119813,119813],"mapped",[102]],[[119814,119814],"mapped",[103]],[[119815,119815],"mapped",[104]],[[119816,119816],"mapped",[105]],[[119817,119817],"mapped",[106]],[[119818,119818],"mapped",[107]],[[119819,119819],"mapped",[108]],[[119820,119820],"mapped",[109]],[[119821,119821],"mapped",[110]],[[119822,119822],"mapped",[111]],[[119823,119823],"mapped",[112]],[[119824,119824],"mapped",[113]],[[119825,119825],"mapped",[114]],[[119826,119826],"mapped",[115]],[[119827,119827],"mapped",[116]],[[119828,119828],"mapped",[117]],[[119829,119829],"mapped",[118]],[[119830,119830],"mapped",[119]],[[119831,119831],"mapped",[120]],[[119832,119832],"mapped",[121]],[[119833,119833],"mapped",[122]],[[119834,119834],"mapped",[97]],[[119835,119835],"mapped",[98]],[[119836,119836],"mapped",[99]],[[119837,119837],"mapped",[100]],[[119838,119838],"mapped",[101]],[[119839,119839],"mapped",[102]],[[119840,119840],"mapped",[103]],[[119841,119841],"mapped",[104]],[[119842,119842],"mapped",[105]],[[119843,119843],"mapped",[106]],[[119844,119844],"mapped",[107]],[[119845,119845],"mapped",[108]],[[119846,119846],"mapped",[109]],[[119847,119847],"mapped",[110]],[[119848,119848],"mapped",[111]],[[119849,119849],"mapped",[112]],[[119850,119850],"mapped",[113]],[[119851,119851],"mapped",[114]],[[119852,119852],"mapped",[115]],[[119853,119853],"mapped",[116]],[[119854,119854],"mapped",[117]],[[119855,119855],"mapped",[118]],[[119856,119856],"mapped",[119]],[[119857,119857],"mapped",[120]],[[119858,119858],"mapped",[121]],[[119859,119859],"mapped",[122]],[[119860,119860],"mapped",[97]],[[119861,119861],"mapped",[98]],[[119862,119862],"mapped",[99]],[[119863,119863],"mapped",[100]],[[119864,119864],"mapped",[101]],[[119865,119865],"mapped",[102]],[[119866,119866],"mapped",[103]],[[119867,119867],"mapped",[104]],[[119868,119868],"mapped",[105]],[[119869,119869],"mapped",[106]],[[119870,119870],"mapped",[107]],[[119871,119871],"mapped",[108]],[[119872,119872],"mapped",[109]],[[119873,119873],"mapped",[110]],[[119874,119874],"mapped",[111]],[[119875,119875],"mapped",[112]],[[119876,119876],"mapped",[113]],[[119877,119877],"mapped",[114]],[[119878,119878],"mapped",[115]],[[119879,119879],"mapped",[116]],[[119880,119880],"mapped",[117]],[[119881,119881],"mapped",[118]],[[119882,119882],"mapped",[119]],[[119883,119883],"mapped",[120]],[[119884,119884],"mapped",[121]],[[119885,119885],"mapped",[122]],[[119886,119886],"mapped",[97]],[[119887,119887],"mapped",[98]],[[119888,119888],"mapped",[99]],[[119889,119889],"mapped",[100]],[[119890,119890],"mapped",[101]],[[119891,119891],"mapped",[102]],[[119892,119892],"mapped",[103]],[[119893,119893],"disallowed"],[[119894,119894],"mapped",[105]],[[119895,119895],"mapped",[106]],[[119896,119896],"mapped",[107]],[[119897,119897],"mapped",[108]],[[119898,119898],"mapped",[109]],[[119899,119899],"mapped",[110]],[[119900,119900],"mapped",[111]],[[119901,119901],"mapped",[112]],[[119902,119902],"mapped",[113]],[[119903,119903],"mapped",[114]],[[119904,119904],"mapped",[115]],[[119905,119905],"mapped",[116]],[[119906,119906],"mapped",[117]],[[119907,119907],"mapped",[118]],[[119908,119908],"mapped",[119]],[[119909,119909],"mapped",[120]],[[119910,119910],"mapped",[121]],[[119911,119911],"mapped",[122]],[[119912,119912],"mapped",[97]],[[119913,119913],"mapped",[98]],[[119914,119914],"mapped",[99]],[[119915,119915],"mapped",[100]],[[119916,119916],"mapped",[101]],[[119917,119917],"mapped",[102]],[[119918,119918],"mapped",[103]],[[119919,119919],"mapped",[104]],[[119920,119920],"mapped",[105]],[[119921,119921],"mapped",[106]],[[119922,119922],"mapped",[107]],[[119923,119923],"mapped",[108]],[[119924,119924],"mapped",[109]],[[119925,119925],"mapped",[110]],[[119926,119926],"mapped",[111]],[[119927,119927],"mapped",[112]],[[119928,119928],"mapped",[113]],[[119929,119929],"mapped",[114]],[[119930,119930],"mapped",[115]],[[119931,119931],"mapped",[116]],[[119932,119932],"mapped",[117]],[[119933,119933],"mapped",[118]],[[119934,119934],"mapped",[119]],[[119935,119935],"mapped",[120]],[[119936,119936],"mapped",[121]],[[119937,119937],"mapped",[122]],[[119938,119938],"mapped",[97]],[[119939,119939],"mapped",[98]],[[119940,119940],"mapped",[99]],[[119941,119941],"mapped",[100]],[[119942,119942],"mapped",[101]],[[119943,119943],"mapped",[102]],[[119944,119944],"mapped",[103]],[[119945,119945],"mapped",[104]],[[119946,119946],"mapped",[105]],[[119947,119947],"mapped",[106]],[[119948,119948],"mapped",[107]],[[119949,119949],"mapped",[108]],[[119950,119950],"mapped",[109]],[[119951,119951],"mapped",[110]],[[119952,119952],"mapped",[111]],[[119953,119953],"mapped",[112]],[[119954,119954],"mapped",[113]],[[119955,119955],"mapped",[114]],[[119956,119956],"mapped",[115]],[[119957,119957],"mapped",[116]],[[119958,119958],"mapped",[117]],[[119959,119959],"mapped",[118]],[[119960,119960],"mapped",[119]],[[119961,119961],"mapped",[120]],[[119962,119962],"mapped",[121]],[[119963,119963],"mapped",[122]],[[119964,119964],"mapped",[97]],[[119965,119965],"disallowed"],[[119966,119966],"mapped",[99]],[[119967,119967],"mapped",[100]],[[119968,119969],"disallowed"],[[119970,119970],"mapped",[103]],[[119971,119972],"disallowed"],[[119973,119973],"mapped",[106]],[[119974,119974],"mapped",[107]],[[119975,119976],"disallowed"],[[119977,119977],"mapped",[110]],[[119978,119978],"mapped",[111]],[[119979,119979],"mapped",[112]],[[119980,119980],"mapped",[113]],[[119981,119981],"disallowed"],[[119982,119982],"mapped",[115]],[[119983,119983],"mapped",[116]],[[119984,119984],"mapped",[117]],[[119985,119985],"mapped",[118]],[[119986,119986],"mapped",[119]],[[119987,119987],"mapped",[120]],[[119988,119988],"mapped",[121]],[[119989,119989],"mapped",[122]],[[119990,119990],"mapped",[97]],[[119991,119991],"mapped",[98]],[[119992,119992],"mapped",[99]],[[119993,119993],"mapped",[100]],[[119994,119994],"disallowed"],[[119995,119995],"mapped",[102]],[[119996,119996],"disallowed"],[[119997,119997],"mapped",[104]],[[119998,119998],"mapped",[105]],[[119999,119999],"mapped",[106]],[[120000,120000],"mapped",[107]],[[120001,120001],"mapped",[108]],[[120002,120002],"mapped",[109]],[[120003,120003],"mapped",[110]],[[120004,120004],"disallowed"],[[120005,120005],"mapped",[112]],[[120006,120006],"mapped",[113]],[[120007,120007],"mapped",[114]],[[120008,120008],"mapped",[115]],[[120009,120009],"mapped",[116]],[[120010,120010],"mapped",[117]],[[120011,120011],"mapped",[118]],[[120012,120012],"mapped",[119]],[[120013,120013],"mapped",[120]],[[120014,120014],"mapped",[121]],[[120015,120015],"mapped",[122]],[[120016,120016],"mapped",[97]],[[120017,120017],"mapped",[98]],[[120018,120018],"mapped",[99]],[[120019,120019],"mapped",[100]],[[120020,120020],"mapped",[101]],[[120021,120021],"mapped",[102]],[[120022,120022],"mapped",[103]],[[120023,120023],"mapped",[104]],[[120024,120024],"mapped",[105]],[[120025,120025],"mapped",[106]],[[120026,120026],"mapped",[107]],[[120027,120027],"mapped",[108]],[[120028,120028],"mapped",[109]],[[120029,120029],"mapped",[110]],[[120030,120030],"mapped",[111]],[[120031,120031],"mapped",[112]],[[120032,120032],"mapped",[113]],[[120033,120033],"mapped",[114]],[[120034,120034],"mapped",[115]],[[120035,120035],"mapped",[116]],[[120036,120036],"mapped",[117]],[[120037,120037],"mapped",[118]],[[120038,120038],"mapped",[119]],[[120039,120039],"mapped",[120]],[[120040,120040],"mapped",[121]],[[120041,120041],"mapped",[122]],[[120042,120042],"mapped",[97]],[[120043,120043],"mapped",[98]],[[120044,120044],"mapped",[99]],[[120045,120045],"mapped",[100]],[[120046,120046],"mapped",[101]],[[120047,120047],"mapped",[102]],[[120048,120048],"mapped",[103]],[[120049,120049],"mapped",[104]],[[120050,120050],"mapped",[105]],[[120051,120051],"mapped",[106]],[[120052,120052],"mapped",[107]],[[120053,120053],"mapped",[108]],[[120054,120054],"mapped",[109]],[[120055,120055],"mapped",[110]],[[120056,120056],"mapped",[111]],[[120057,120057],"mapped",[112]],[[120058,120058],"mapped",[113]],[[120059,120059],"mapped",[114]],[[120060,120060],"mapped",[115]],[[120061,120061],"mapped",[116]],[[120062,120062],"mapped",[117]],[[120063,120063],"mapped",[118]],[[120064,120064],"mapped",[119]],[[120065,120065],"mapped",[120]],[[120066,120066],"mapped",[121]],[[120067,120067],"mapped",[122]],[[120068,120068],"mapped",[97]],[[120069,120069],"mapped",[98]],[[120070,120070],"disallowed"],[[120071,120071],"mapped",[100]],[[120072,120072],"mapped",[101]],[[120073,120073],"mapped",[102]],[[120074,120074],"mapped",[103]],[[120075,120076],"disallowed"],[[120077,120077],"mapped",[106]],[[120078,120078],"mapped",[107]],[[120079,120079],"mapped",[108]],[[120080,120080],"mapped",[109]],[[120081,120081],"mapped",[110]],[[120082,120082],"mapped",[111]],[[120083,120083],"mapped",[112]],[[120084,120084],"mapped",[113]],[[120085,120085],"disallowed"],[[120086,120086],"mapped",[115]],[[120087,120087],"mapped",[116]],[[120088,120088],"mapped",[117]],[[120089,120089],"mapped",[118]],[[120090,120090],"mapped",[119]],[[120091,120091],"mapped",[120]],[[120092,120092],"mapped",[121]],[[120093,120093],"disallowed"],[[120094,120094],"mapped",[97]],[[120095,120095],"mapped",[98]],[[120096,120096],"mapped",[99]],[[120097,120097],"mapped",[100]],[[120098,120098],"mapped",[101]],[[120099,120099],"mapped",[102]],[[120100,120100],"mapped",[103]],[[120101,120101],"mapped",[104]],[[120102,120102],"mapped",[105]],[[120103,120103],"mapped",[106]],[[120104,120104],"mapped",[107]],[[120105,120105],"mapped",[108]],[[120106,120106],"mapped",[109]],[[120107,120107],"mapped",[110]],[[120108,120108],"mapped",[111]],[[120109,120109],"mapped",[112]],[[120110,120110],"mapped",[113]],[[120111,120111],"mapped",[114]],[[120112,120112],"mapped",[115]],[[120113,120113],"mapped",[116]],[[120114,120114],"mapped",[117]],[[120115,120115],"mapped",[118]],[[120116,120116],"mapped",[119]],[[120117,120117],"mapped",[120]],[[120118,120118],"mapped",[121]],[[120119,120119],"mapped",[122]],[[120120,120120],"mapped",[97]],[[120121,120121],"mapped",[98]],[[120122,120122],"disallowed"],[[120123,120123],"mapped",[100]],[[120124,120124],"mapped",[101]],[[120125,120125],"mapped",[102]],[[120126,120126],"mapped",[103]],[[120127,120127],"disallowed"],[[120128,120128],"mapped",[105]],[[120129,120129],"mapped",[106]],[[120130,120130],"mapped",[107]],[[120131,120131],"mapped",[108]],[[120132,120132],"mapped",[109]],[[120133,120133],"disallowed"],[[120134,120134],"mapped",[111]],[[120135,120137],"disallowed"],[[120138,120138],"mapped",[115]],[[120139,120139],"mapped",[116]],[[120140,120140],"mapped",[117]],[[120141,120141],"mapped",[118]],[[120142,120142],"mapped",[119]],[[120143,120143],"mapped",[120]],[[120144,120144],"mapped",[121]],[[120145,120145],"disallowed"],[[120146,120146],"mapped",[97]],[[120147,120147],"mapped",[98]],[[120148,120148],"mapped",[99]],[[120149,120149],"mapped",[100]],[[120150,120150],"mapped",[101]],[[120151,120151],"mapped",[102]],[[120152,120152],"mapped",[103]],[[120153,120153],"mapped",[104]],[[120154,120154],"mapped",[105]],[[120155,120155],"mapped",[106]],[[120156,120156],"mapped",[107]],[[120157,120157],"mapped",[108]],[[120158,120158],"mapped",[109]],[[120159,120159],"mapped",[110]],[[120160,120160],"mapped",[111]],[[120161,120161],"mapped",[112]],[[120162,120162],"mapped",[113]],[[120163,120163],"mapped",[114]],[[120164,120164],"mapped",[115]],[[120165,120165],"mapped",[116]],[[120166,120166],"mapped",[117]],[[120167,120167],"mapped",[118]],[[120168,120168],"mapped",[119]],[[120169,120169],"mapped",[120]],[[120170,120170],"mapped",[121]],[[120171,120171],"mapped",[122]],[[120172,120172],"mapped",[97]],[[120173,120173],"mapped",[98]],[[120174,120174],"mapped",[99]],[[120175,120175],"mapped",[100]],[[120176,120176],"mapped",[101]],[[120177,120177],"mapped",[102]],[[120178,120178],"mapped",[103]],[[120179,120179],"mapped",[104]],[[120180,120180],"mapped",[105]],[[120181,120181],"mapped",[106]],[[120182,120182],"mapped",[107]],[[120183,120183],"mapped",[108]],[[120184,120184],"mapped",[109]],[[120185,120185],"mapped",[110]],[[120186,120186],"mapped",[111]],[[120187,120187],"mapped",[112]],[[120188,120188],"mapped",[113]],[[120189,120189],"mapped",[114]],[[120190,120190],"mapped",[115]],[[120191,120191],"mapped",[116]],[[120192,120192],"mapped",[117]],[[120193,120193],"mapped",[118]],[[120194,120194],"mapped",[119]],[[120195,120195],"mapped",[120]],[[120196,120196],"mapped",[121]],[[120197,120197],"mapped",[122]],[[120198,120198],"mapped",[97]],[[120199,120199],"mapped",[98]],[[120200,120200],"mapped",[99]],[[120201,120201],"mapped",[100]],[[120202,120202],"mapped",[101]],[[120203,120203],"mapped",[102]],[[120204,120204],"mapped",[103]],[[120205,120205],"mapped",[104]],[[120206,120206],"mapped",[105]],[[120207,120207],"mapped",[106]],[[120208,120208],"mapped",[107]],[[120209,120209],"mapped",[108]],[[120210,120210],"mapped",[109]],[[120211,120211],"mapped",[110]],[[120212,120212],"mapped",[111]],[[120213,120213],"mapped",[112]],[[120214,120214],"mapped",[113]],[[120215,120215],"mapped",[114]],[[120216,120216],"mapped",[115]],[[120217,120217],"mapped",[116]],[[120218,120218],"mapped",[117]],[[120219,120219],"mapped",[118]],[[120220,120220],"mapped",[119]],[[120221,120221],"mapped",[120]],[[120222,120222],"mapped",[121]],[[120223,120223],"mapped",[122]],[[120224,120224],"mapped",[97]],[[120225,120225],"mapped",[98]],[[120226,120226],"mapped",[99]],[[120227,120227],"mapped",[100]],[[120228,120228],"mapped",[101]],[[120229,120229],"mapped",[102]],[[120230,120230],"mapped",[103]],[[120231,120231],"mapped",[104]],[[120232,120232],"mapped",[105]],[[120233,120233],"mapped",[106]],[[120234,120234],"mapped",[107]],[[120235,120235],"mapped",[108]],[[120236,120236],"mapped",[109]],[[120237,120237],"mapped",[110]],[[120238,120238],"mapped",[111]],[[120239,120239],"mapped",[112]],[[120240,120240],"mapped",[113]],[[120241,120241],"mapped",[114]],[[120242,120242],"mapped",[115]],[[120243,120243],"mapped",[116]],[[120244,120244],"mapped",[117]],[[120245,120245],"mapped",[118]],[[120246,120246],"mapped",[119]],[[120247,120247],"mapped",[120]],[[120248,120248],"mapped",[121]],[[120249,120249],"mapped",[122]],[[120250,120250],"mapped",[97]],[[120251,120251],"mapped",[98]],[[120252,120252],"mapped",[99]],[[120253,120253],"mapped",[100]],[[120254,120254],"mapped",[101]],[[120255,120255],"mapped",[102]],[[120256,120256],"mapped",[103]],[[120257,120257],"mapped",[104]],[[120258,120258],"mapped",[105]],[[120259,120259],"mapped",[106]],[[120260,120260],"mapped",[107]],[[120261,120261],"mapped",[108]],[[120262,120262],"mapped",[109]],[[120263,120263],"mapped",[110]],[[120264,120264],"mapped",[111]],[[120265,120265],"mapped",[112]],[[120266,120266],"mapped",[113]],[[120267,120267],"mapped",[114]],[[120268,120268],"mapped",[115]],[[120269,120269],"mapped",[116]],[[120270,120270],"mapped",[117]],[[120271,120271],"mapped",[118]],[[120272,120272],"mapped",[119]],[[120273,120273],"mapped",[120]],[[120274,120274],"mapped",[121]],[[120275,120275],"mapped",[122]],[[120276,120276],"mapped",[97]],[[120277,120277],"mapped",[98]],[[120278,120278],"mapped",[99]],[[120279,120279],"mapped",[100]],[[120280,120280],"mapped",[101]],[[120281,120281],"mapped",[102]],[[120282,120282],"mapped",[103]],[[120283,120283],"mapped",[104]],[[120284,120284],"mapped",[105]],[[120285,120285],"mapped",[106]],[[120286,120286],"mapped",[107]],[[120287,120287],"mapped",[108]],[[120288,120288],"mapped",[109]],[[120289,120289],"mapped",[110]],[[120290,120290],"mapped",[111]],[[120291,120291],"mapped",[112]],[[120292,120292],"mapped",[113]],[[120293,120293],"mapped",[114]],[[120294,120294],"mapped",[115]],[[120295,120295],"mapped",[116]],[[120296,120296],"mapped",[117]],[[120297,120297],"mapped",[118]],[[120298,120298],"mapped",[119]],[[120299,120299],"mapped",[120]],[[120300,120300],"mapped",[121]],[[120301,120301],"mapped",[122]],[[120302,120302],"mapped",[97]],[[120303,120303],"mapped",[98]],[[120304,120304],"mapped",[99]],[[120305,120305],"mapped",[100]],[[120306,120306],"mapped",[101]],[[120307,120307],"mapped",[102]],[[120308,120308],"mapped",[103]],[[120309,120309],"mapped",[104]],[[120310,120310],"mapped",[105]],[[120311,120311],"mapped",[106]],[[120312,120312],"mapped",[107]],[[120313,120313],"mapped",[108]],[[120314,120314],"mapped",[109]],[[120315,120315],"mapped",[110]],[[120316,120316],"mapped",[111]],[[120317,120317],"mapped",[112]],[[120318,120318],"mapped",[113]],[[120319,120319],"mapped",[114]],[[120320,120320],"mapped",[115]],[[120321,120321],"mapped",[116]],[[120322,120322],"mapped",[117]],[[120323,120323],"mapped",[118]],[[120324,120324],"mapped",[119]],[[120325,120325],"mapped",[120]],[[120326,120326],"mapped",[121]],[[120327,120327],"mapped",[122]],[[120328,120328],"mapped",[97]],[[120329,120329],"mapped",[98]],[[120330,120330],"mapped",[99]],[[120331,120331],"mapped",[100]],[[120332,120332],"mapped",[101]],[[120333,120333],"mapped",[102]],[[120334,120334],"mapped",[103]],[[120335,120335],"mapped",[104]],[[120336,120336],"mapped",[105]],[[120337,120337],"mapped",[106]],[[120338,120338],"mapped",[107]],[[120339,120339],"mapped",[108]],[[120340,120340],"mapped",[109]],[[120341,120341],"mapped",[110]],[[120342,120342],"mapped",[111]],[[120343,120343],"mapped",[112]],[[120344,120344],"mapped",[113]],[[120345,120345],"mapped",[114]],[[120346,120346],"mapped",[115]],[[120347,120347],"mapped",[116]],[[120348,120348],"mapped",[117]],[[120349,120349],"mapped",[118]],[[120350,120350],"mapped",[119]],[[120351,120351],"mapped",[120]],[[120352,120352],"mapped",[121]],[[120353,120353],"mapped",[122]],[[120354,120354],"mapped",[97]],[[120355,120355],"mapped",[98]],[[120356,120356],"mapped",[99]],[[120357,120357],"mapped",[100]],[[120358,120358],"mapped",[101]],[[120359,120359],"mapped",[102]],[[120360,120360],"mapped",[103]],[[120361,120361],"mapped",[104]],[[120362,120362],"mapped",[105]],[[120363,120363],"mapped",[106]],[[120364,120364],"mapped",[107]],[[120365,120365],"mapped",[108]],[[120366,120366],"mapped",[109]],[[120367,120367],"mapped",[110]],[[120368,120368],"mapped",[111]],[[120369,120369],"mapped",[112]],[[120370,120370],"mapped",[113]],[[120371,120371],"mapped",[114]],[[120372,120372],"mapped",[115]],[[120373,120373],"mapped",[116]],[[120374,120374],"mapped",[117]],[[120375,120375],"mapped",[118]],[[120376,120376],"mapped",[119]],[[120377,120377],"mapped",[120]],[[120378,120378],"mapped",[121]],[[120379,120379],"mapped",[122]],[[120380,120380],"mapped",[97]],[[120381,120381],"mapped",[98]],[[120382,120382],"mapped",[99]],[[120383,120383],"mapped",[100]],[[120384,120384],"mapped",[101]],[[120385,120385],"mapped",[102]],[[120386,120386],"mapped",[103]],[[120387,120387],"mapped",[104]],[[120388,120388],"mapped",[105]],[[120389,120389],"mapped",[106]],[[120390,120390],"mapped",[107]],[[120391,120391],"mapped",[108]],[[120392,120392],"mapped",[109]],[[120393,120393],"mapped",[110]],[[120394,120394],"mapped",[111]],[[120395,120395],"mapped",[112]],[[120396,120396],"mapped",[113]],[[120397,120397],"mapped",[114]],[[120398,120398],"mapped",[115]],[[120399,120399],"mapped",[116]],[[120400,120400],"mapped",[117]],[[120401,120401],"mapped",[118]],[[120402,120402],"mapped",[119]],[[120403,120403],"mapped",[120]],[[120404,120404],"mapped",[121]],[[120405,120405],"mapped",[122]],[[120406,120406],"mapped",[97]],[[120407,120407],"mapped",[98]],[[120408,120408],"mapped",[99]],[[120409,120409],"mapped",[100]],[[120410,120410],"mapped",[101]],[[120411,120411],"mapped",[102]],[[120412,120412],"mapped",[103]],[[120413,120413],"mapped",[104]],[[120414,120414],"mapped",[105]],[[120415,120415],"mapped",[106]],[[120416,120416],"mapped",[107]],[[120417,120417],"mapped",[108]],[[120418,120418],"mapped",[109]],[[120419,120419],"mapped",[110]],[[120420,120420],"mapped",[111]],[[120421,120421],"mapped",[112]],[[120422,120422],"mapped",[113]],[[120423,120423],"mapped",[114]],[[120424,120424],"mapped",[115]],[[120425,120425],"mapped",[116]],[[120426,120426],"mapped",[117]],[[120427,120427],"mapped",[118]],[[120428,120428],"mapped",[119]],[[120429,120429],"mapped",[120]],[[120430,120430],"mapped",[121]],[[120431,120431],"mapped",[122]],[[120432,120432],"mapped",[97]],[[120433,120433],"mapped",[98]],[[120434,120434],"mapped",[99]],[[120435,120435],"mapped",[100]],[[120436,120436],"mapped",[101]],[[120437,120437],"mapped",[102]],[[120438,120438],"mapped",[103]],[[120439,120439],"mapped",[104]],[[120440,120440],"mapped",[105]],[[120441,120441],"mapped",[106]],[[120442,120442],"mapped",[107]],[[120443,120443],"mapped",[108]],[[120444,120444],"mapped",[109]],[[120445,120445],"mapped",[110]],[[120446,120446],"mapped",[111]],[[120447,120447],"mapped",[112]],[[120448,120448],"mapped",[113]],[[120449,120449],"mapped",[114]],[[120450,120450],"mapped",[115]],[[120451,120451],"mapped",[116]],[[120452,120452],"mapped",[117]],[[120453,120453],"mapped",[118]],[[120454,120454],"mapped",[119]],[[120455,120455],"mapped",[120]],[[120456,120456],"mapped",[121]],[[120457,120457],"mapped",[122]],[[120458,120458],"mapped",[97]],[[120459,120459],"mapped",[98]],[[120460,120460],"mapped",[99]],[[120461,120461],"mapped",[100]],[[120462,120462],"mapped",[101]],[[120463,120463],"mapped",[102]],[[120464,120464],"mapped",[103]],[[120465,120465],"mapped",[104]],[[120466,120466],"mapped",[105]],[[120467,120467],"mapped",[106]],[[120468,120468],"mapped",[107]],[[120469,120469],"mapped",[108]],[[120470,120470],"mapped",[109]],[[120471,120471],"mapped",[110]],[[120472,120472],"mapped",[111]],[[120473,120473],"mapped",[112]],[[120474,120474],"mapped",[113]],[[120475,120475],"mapped",[114]],[[120476,120476],"mapped",[115]],[[120477,120477],"mapped",[116]],[[120478,120478],"mapped",[117]],[[120479,120479],"mapped",[118]],[[120480,120480],"mapped",[119]],[[120481,120481],"mapped",[120]],[[120482,120482],"mapped",[121]],[[120483,120483],"mapped",[122]],[[120484,120484],"mapped",[305]],[[120485,120485],"mapped",[567]],[[120486,120487],"disallowed"],[[120488,120488],"mapped",[945]],[[120489,120489],"mapped",[946]],[[120490,120490],"mapped",[947]],[[120491,120491],"mapped",[948]],[[120492,120492],"mapped",[949]],[[120493,120493],"mapped",[950]],[[120494,120494],"mapped",[951]],[[120495,120495],"mapped",[952]],[[120496,120496],"mapped",[953]],[[120497,120497],"mapped",[954]],[[120498,120498],"mapped",[955]],[[120499,120499],"mapped",[956]],[[120500,120500],"mapped",[957]],[[120501,120501],"mapped",[958]],[[120502,120502],"mapped",[959]],[[120503,120503],"mapped",[960]],[[120504,120504],"mapped",[961]],[[120505,120505],"mapped",[952]],[[120506,120506],"mapped",[963]],[[120507,120507],"mapped",[964]],[[120508,120508],"mapped",[965]],[[120509,120509],"mapped",[966]],[[120510,120510],"mapped",[967]],[[120511,120511],"mapped",[968]],[[120512,120512],"mapped",[969]],[[120513,120513],"mapped",[8711]],[[120514,120514],"mapped",[945]],[[120515,120515],"mapped",[946]],[[120516,120516],"mapped",[947]],[[120517,120517],"mapped",[948]],[[120518,120518],"mapped",[949]],[[120519,120519],"mapped",[950]],[[120520,120520],"mapped",[951]],[[120521,120521],"mapped",[952]],[[120522,120522],"mapped",[953]],[[120523,120523],"mapped",[954]],[[120524,120524],"mapped",[955]],[[120525,120525],"mapped",[956]],[[120526,120526],"mapped",[957]],[[120527,120527],"mapped",[958]],[[120528,120528],"mapped",[959]],[[120529,120529],"mapped",[960]],[[120530,120530],"mapped",[961]],[[120531,120532],"mapped",[963]],[[120533,120533],"mapped",[964]],[[120534,120534],"mapped",[965]],[[120535,120535],"mapped",[966]],[[120536,120536],"mapped",[967]],[[120537,120537],"mapped",[968]],[[120538,120538],"mapped",[969]],[[120539,120539],"mapped",[8706]],[[120540,120540],"mapped",[949]],[[120541,120541],"mapped",[952]],[[120542,120542],"mapped",[954]],[[120543,120543],"mapped",[966]],[[120544,120544],"mapped",[961]],[[120545,120545],"mapped",[960]],[[120546,120546],"mapped",[945]],[[120547,120547],"mapped",[946]],[[120548,120548],"mapped",[947]],[[120549,120549],"mapped",[948]],[[120550,120550],"mapped",[949]],[[120551,120551],"mapped",[950]],[[120552,120552],"mapped",[951]],[[120553,120553],"mapped",[952]],[[120554,120554],"mapped",[953]],[[120555,120555],"mapped",[954]],[[120556,120556],"mapped",[955]],[[120557,120557],"mapped",[956]],[[120558,120558],"mapped",[957]],[[120559,120559],"mapped",[958]],[[120560,120560],"mapped",[959]],[[120561,120561],"mapped",[960]],[[120562,120562],"mapped",[961]],[[120563,120563],"mapped",[952]],[[120564,120564],"mapped",[963]],[[120565,120565],"mapped",[964]],[[120566,120566],"mapped",[965]],[[120567,120567],"mapped",[966]],[[120568,120568],"mapped",[967]],[[120569,120569],"mapped",[968]],[[120570,120570],"mapped",[969]],[[120571,120571],"mapped",[8711]],[[120572,120572],"mapped",[945]],[[120573,120573],"mapped",[946]],[[120574,120574],"mapped",[947]],[[120575,120575],"mapped",[948]],[[120576,120576],"mapped",[949]],[[120577,120577],"mapped",[950]],[[120578,120578],"mapped",[951]],[[120579,120579],"mapped",[952]],[[120580,120580],"mapped",[953]],[[120581,120581],"mapped",[954]],[[120582,120582],"mapped",[955]],[[120583,120583],"mapped",[956]],[[120584,120584],"mapped",[957]],[[120585,120585],"mapped",[958]],[[120586,120586],"mapped",[959]],[[120587,120587],"mapped",[960]],[[120588,120588],"mapped",[961]],[[120589,120590],"mapped",[963]],[[120591,120591],"mapped",[964]],[[120592,120592],"mapped",[965]],[[120593,120593],"mapped",[966]],[[120594,120594],"mapped",[967]],[[120595,120595],"mapped",[968]],[[120596,120596],"mapped",[969]],[[120597,120597],"mapped",[8706]],[[120598,120598],"mapped",[949]],[[120599,120599],"mapped",[952]],[[120600,120600],"mapped",[954]],[[120601,120601],"mapped",[966]],[[120602,120602],"mapped",[961]],[[120603,120603],"mapped",[960]],[[120604,120604],"mapped",[945]],[[120605,120605],"mapped",[946]],[[120606,120606],"mapped",[947]],[[120607,120607],"mapped",[948]],[[120608,120608],"mapped",[949]],[[120609,120609],"mapped",[950]],[[120610,120610],"mapped",[951]],[[120611,120611],"mapped",[952]],[[120612,120612],"mapped",[953]],[[120613,120613],"mapped",[954]],[[120614,120614],"mapped",[955]],[[120615,120615],"mapped",[956]],[[120616,120616],"mapped",[957]],[[120617,120617],"mapped",[958]],[[120618,120618],"mapped",[959]],[[120619,120619],"mapped",[960]],[[120620,120620],"mapped",[961]],[[120621,120621],"mapped",[952]],[[120622,120622],"mapped",[963]],[[120623,120623],"mapped",[964]],[[120624,120624],"mapped",[965]],[[120625,120625],"mapped",[966]],[[120626,120626],"mapped",[967]],[[120627,120627],"mapped",[968]],[[120628,120628],"mapped",[969]],[[120629,120629],"mapped",[8711]],[[120630,120630],"mapped",[945]],[[120631,120631],"mapped",[946]],[[120632,120632],"mapped",[947]],[[120633,120633],"mapped",[948]],[[120634,120634],"mapped",[949]],[[120635,120635],"mapped",[950]],[[120636,120636],"mapped",[951]],[[120637,120637],"mapped",[952]],[[120638,120638],"mapped",[953]],[[120639,120639],"mapped",[954]],[[120640,120640],"mapped",[955]],[[120641,120641],"mapped",[956]],[[120642,120642],"mapped",[957]],[[120643,120643],"mapped",[958]],[[120644,120644],"mapped",[959]],[[120645,120645],"mapped",[960]],[[120646,120646],"mapped",[961]],[[120647,120648],"mapped",[963]],[[120649,120649],"mapped",[964]],[[120650,120650],"mapped",[965]],[[120651,120651],"mapped",[966]],[[120652,120652],"mapped",[967]],[[120653,120653],"mapped",[968]],[[120654,120654],"mapped",[969]],[[120655,120655],"mapped",[8706]],[[120656,120656],"mapped",[949]],[[120657,120657],"mapped",[952]],[[120658,120658],"mapped",[954]],[[120659,120659],"mapped",[966]],[[120660,120660],"mapped",[961]],[[120661,120661],"mapped",[960]],[[120662,120662],"mapped",[945]],[[120663,120663],"mapped",[946]],[[120664,120664],"mapped",[947]],[[120665,120665],"mapped",[948]],[[120666,120666],"mapped",[949]],[[120667,120667],"mapped",[950]],[[120668,120668],"mapped",[951]],[[120669,120669],"mapped",[952]],[[120670,120670],"mapped",[953]],[[120671,120671],"mapped",[954]],[[120672,120672],"mapped",[955]],[[120673,120673],"mapped",[956]],[[120674,120674],"mapped",[957]],[[120675,120675],"mapped",[958]],[[120676,120676],"mapped",[959]],[[120677,120677],"mapped",[960]],[[120678,120678],"mapped",[961]],[[120679,120679],"mapped",[952]],[[120680,120680],"mapped",[963]],[[120681,120681],"mapped",[964]],[[120682,120682],"mapped",[965]],[[120683,120683],"mapped",[966]],[[120684,120684],"mapped",[967]],[[120685,120685],"mapped",[968]],[[120686,120686],"mapped",[969]],[[120687,120687],"mapped",[8711]],[[120688,120688],"mapped",[945]],[[120689,120689],"mapped",[946]],[[120690,120690],"mapped",[947]],[[120691,120691],"mapped",[948]],[[120692,120692],"mapped",[949]],[[120693,120693],"mapped",[950]],[[120694,120694],"mapped",[951]],[[120695,120695],"mapped",[952]],[[120696,120696],"mapped",[953]],[[120697,120697],"mapped",[954]],[[120698,120698],"mapped",[955]],[[120699,120699],"mapped",[956]],[[120700,120700],"mapped",[957]],[[120701,120701],"mapped",[958]],[[120702,120702],"mapped",[959]],[[120703,120703],"mapped",[960]],[[120704,120704],"mapped",[961]],[[120705,120706],"mapped",[963]],[[120707,120707],"mapped",[964]],[[120708,120708],"mapped",[965]],[[120709,120709],"mapped",[966]],[[120710,120710],"mapped",[967]],[[120711,120711],"mapped",[968]],[[120712,120712],"mapped",[969]],[[120713,120713],"mapped",[8706]],[[120714,120714],"mapped",[949]],[[120715,120715],"mapped",[952]],[[120716,120716],"mapped",[954]],[[120717,120717],"mapped",[966]],[[120718,120718],"mapped",[961]],[[120719,120719],"mapped",[960]],[[120720,120720],"mapped",[945]],[[120721,120721],"mapped",[946]],[[120722,120722],"mapped",[947]],[[120723,120723],"mapped",[948]],[[120724,120724],"mapped",[949]],[[120725,120725],"mapped",[950]],[[120726,120726],"mapped",[951]],[[120727,120727],"mapped",[952]],[[120728,120728],"mapped",[953]],[[120729,120729],"mapped",[954]],[[120730,120730],"mapped",[955]],[[120731,120731],"mapped",[956]],[[120732,120732],"mapped",[957]],[[120733,120733],"mapped",[958]],[[120734,120734],"mapped",[959]],[[120735,120735],"mapped",[960]],[[120736,120736],"mapped",[961]],[[120737,120737],"mapped",[952]],[[120738,120738],"mapped",[963]],[[120739,120739],"mapped",[964]],[[120740,120740],"mapped",[965]],[[120741,120741],"mapped",[966]],[[120742,120742],"mapped",[967]],[[120743,120743],"mapped",[968]],[[120744,120744],"mapped",[969]],[[120745,120745],"mapped",[8711]],[[120746,120746],"mapped",[945]],[[120747,120747],"mapped",[946]],[[120748,120748],"mapped",[947]],[[120749,120749],"mapped",[948]],[[120750,120750],"mapped",[949]],[[120751,120751],"mapped",[950]],[[120752,120752],"mapped",[951]],[[120753,120753],"mapped",[952]],[[120754,120754],"mapped",[953]],[[120755,120755],"mapped",[954]],[[120756,120756],"mapped",[955]],[[120757,120757],"mapped",[956]],[[120758,120758],"mapped",[957]],[[120759,120759],"mapped",[958]],[[120760,120760],"mapped",[959]],[[120761,120761],"mapped",[960]],[[120762,120762],"mapped",[961]],[[120763,120764],"mapped",[963]],[[120765,120765],"mapped",[964]],[[120766,120766],"mapped",[965]],[[120767,120767],"mapped",[966]],[[120768,120768],"mapped",[967]],[[120769,120769],"mapped",[968]],[[120770,120770],"mapped",[969]],[[120771,120771],"mapped",[8706]],[[120772,120772],"mapped",[949]],[[120773,120773],"mapped",[952]],[[120774,120774],"mapped",[954]],[[120775,120775],"mapped",[966]],[[120776,120776],"mapped",[961]],[[120777,120777],"mapped",[960]],[[120778,120779],"mapped",[989]],[[120780,120781],"disallowed"],[[120782,120782],"mapped",[48]],[[120783,120783],"mapped",[49]],[[120784,120784],"mapped",[50]],[[120785,120785],"mapped",[51]],[[120786,120786],"mapped",[52]],[[120787,120787],"mapped",[53]],[[120788,120788],"mapped",[54]],[[120789,120789],"mapped",[55]],[[120790,120790],"mapped",[56]],[[120791,120791],"mapped",[57]],[[120792,120792],"mapped",[48]],[[120793,120793],"mapped",[49]],[[120794,120794],"mapped",[50]],[[120795,120795],"mapped",[51]],[[120796,120796],"mapped",[52]],[[120797,120797],"mapped",[53]],[[120798,120798],"mapped",[54]],[[120799,120799],"mapped",[55]],[[120800,120800],"mapped",[56]],[[120801,120801],"mapped",[57]],[[120802,120802],"mapped",[48]],[[120803,120803],"mapped",[49]],[[120804,120804],"mapped",[50]],[[120805,120805],"mapped",[51]],[[120806,120806],"mapped",[52]],[[120807,120807],"mapped",[53]],[[120808,120808],"mapped",[54]],[[120809,120809],"mapped",[55]],[[120810,120810],"mapped",[56]],[[120811,120811],"mapped",[57]],[[120812,120812],"mapped",[48]],[[120813,120813],"mapped",[49]],[[120814,120814],"mapped",[50]],[[120815,120815],"mapped",[51]],[[120816,120816],"mapped",[52]],[[120817,120817],"mapped",[53]],[[120818,120818],"mapped",[54]],[[120819,120819],"mapped",[55]],[[120820,120820],"mapped",[56]],[[120821,120821],"mapped",[57]],[[120822,120822],"mapped",[48]],[[120823,120823],"mapped",[49]],[[120824,120824],"mapped",[50]],[[120825,120825],"mapped",[51]],[[120826,120826],"mapped",[52]],[[120827,120827],"mapped",[53]],[[120828,120828],"mapped",[54]],[[120829,120829],"mapped",[55]],[[120830,120830],"mapped",[56]],[[120831,120831],"mapped",[57]],[[120832,121343],"valid",[],"NV8"],[[121344,121398],"valid"],[[121399,121402],"valid",[],"NV8"],[[121403,121452],"valid"],[[121453,121460],"valid",[],"NV8"],[[121461,121461],"valid"],[[121462,121475],"valid",[],"NV8"],[[121476,121476],"valid"],[[121477,121483],"valid",[],"NV8"],[[121484,121498],"disallowed"],[[121499,121503],"valid"],[[121504,121504],"disallowed"],[[121505,121519],"valid"],[[121520,124927],"disallowed"],[[124928,125124],"valid"],[[125125,125126],"disallowed"],[[125127,125135],"valid",[],"NV8"],[[125136,125142],"valid"],[[125143,126463],"disallowed"],[[126464,126464],"mapped",[1575]],[[126465,126465],"mapped",[1576]],[[126466,126466],"mapped",[1580]],[[126467,126467],"mapped",[1583]],[[126468,126468],"disallowed"],[[126469,126469],"mapped",[1608]],[[126470,126470],"mapped",[1586]],[[126471,126471],"mapped",[1581]],[[126472,126472],"mapped",[1591]],[[126473,126473],"mapped",[1610]],[[126474,126474],"mapped",[1603]],[[126475,126475],"mapped",[1604]],[[126476,126476],"mapped",[1605]],[[126477,126477],"mapped",[1606]],[[126478,126478],"mapped",[1587]],[[126479,126479],"mapped",[1593]],[[126480,126480],"mapped",[1601]],[[126481,126481],"mapped",[1589]],[[126482,126482],"mapped",[1602]],[[126483,126483],"mapped",[1585]],[[126484,126484],"mapped",[1588]],[[126485,126485],"mapped",[1578]],[[126486,126486],"mapped",[1579]],[[126487,126487],"mapped",[1582]],[[126488,126488],"mapped",[1584]],[[126489,126489],"mapped",[1590]],[[126490,126490],"mapped",[1592]],[[126491,126491],"mapped",[1594]],[[126492,126492],"mapped",[1646]],[[126493,126493],"mapped",[1722]],[[126494,126494],"mapped",[1697]],[[126495,126495],"mapped",[1647]],[[126496,126496],"disallowed"],[[126497,126497],"mapped",[1576]],[[126498,126498],"mapped",[1580]],[[126499,126499],"disallowed"],[[126500,126500],"mapped",[1607]],[[126501,126502],"disallowed"],[[126503,126503],"mapped",[1581]],[[126504,126504],"disallowed"],[[126505,126505],"mapped",[1610]],[[126506,126506],"mapped",[1603]],[[126507,126507],"mapped",[1604]],[[126508,126508],"mapped",[1605]],[[126509,126509],"mapped",[1606]],[[126510,126510],"mapped",[1587]],[[126511,126511],"mapped",[1593]],[[126512,126512],"mapped",[1601]],[[126513,126513],"mapped",[1589]],[[126514,126514],"mapped",[1602]],[[126515,126515],"disallowed"],[[126516,126516],"mapped",[1588]],[[126517,126517],"mapped",[1578]],[[126518,126518],"mapped",[1579]],[[126519,126519],"mapped",[1582]],[[126520,126520],"disallowed"],[[126521,126521],"mapped",[1590]],[[126522,126522],"disallowed"],[[126523,126523],"mapped",[1594]],[[126524,126529],"disallowed"],[[126530,126530],"mapped",[1580]],[[126531,126534],"disallowed"],[[126535,126535],"mapped",[1581]],[[126536,126536],"disallowed"],[[126537,126537],"mapped",[1610]],[[126538,126538],"disallowed"],[[126539,126539],"mapped",[1604]],[[126540,126540],"disallowed"],[[126541,126541],"mapped",[1606]],[[126542,126542],"mapped",[1587]],[[126543,126543],"mapped",[1593]],[[126544,126544],"disallowed"],[[126545,126545],"mapped",[1589]],[[126546,126546],"mapped",[1602]],[[126547,126547],"disallowed"],[[126548,126548],"mapped",[1588]],[[126549,126550],"disallowed"],[[126551,126551],"mapped",[1582]],[[126552,126552],"disallowed"],[[126553,126553],"mapped",[1590]],[[126554,126554],"disallowed"],[[126555,126555],"mapped",[1594]],[[126556,126556],"disallowed"],[[126557,126557],"mapped",[1722]],[[126558,126558],"disallowed"],[[126559,126559],"mapped",[1647]],[[126560,126560],"disallowed"],[[126561,126561],"mapped",[1576]],[[126562,126562],"mapped",[1580]],[[126563,126563],"disallowed"],[[126564,126564],"mapped",[1607]],[[126565,126566],"disallowed"],[[126567,126567],"mapped",[1581]],[[126568,126568],"mapped",[1591]],[[126569,126569],"mapped",[1610]],[[126570,126570],"mapped",[1603]],[[126571,126571],"disallowed"],[[126572,126572],"mapped",[1605]],[[126573,126573],"mapped",[1606]],[[126574,126574],"mapped",[1587]],[[126575,126575],"mapped",[1593]],[[126576,126576],"mapped",[1601]],[[126577,126577],"mapped",[1589]],[[126578,126578],"mapped",[1602]],[[126579,126579],"disallowed"],[[126580,126580],"mapped",[1588]],[[126581,126581],"mapped",[1578]],[[126582,126582],"mapped",[1579]],[[126583,126583],"mapped",[1582]],[[126584,126584],"disallowed"],[[126585,126585],"mapped",[1590]],[[126586,126586],"mapped",[1592]],[[126587,126587],"mapped",[1594]],[[126588,126588],"mapped",[1646]],[[126589,126589],"disallowed"],[[126590,126590],"mapped",[1697]],[[126591,126591],"disallowed"],[[126592,126592],"mapped",[1575]],[[126593,126593],"mapped",[1576]],[[126594,126594],"mapped",[1580]],[[126595,126595],"mapped",[1583]],[[126596,126596],"mapped",[1607]],[[126597,126597],"mapped",[1608]],[[126598,126598],"mapped",[1586]],[[126599,126599],"mapped",[1581]],[[126600,126600],"mapped",[1591]],[[126601,126601],"mapped",[1610]],[[126602,126602],"disallowed"],[[126603,126603],"mapped",[1604]],[[126604,126604],"mapped",[1605]],[[126605,126605],"mapped",[1606]],[[126606,126606],"mapped",[1587]],[[126607,126607],"mapped",[1593]],[[126608,126608],"mapped",[1601]],[[126609,126609],"mapped",[1589]],[[126610,126610],"mapped",[1602]],[[126611,126611],"mapped",[1585]],[[126612,126612],"mapped",[1588]],[[126613,126613],"mapped",[1578]],[[126614,126614],"mapped",[1579]],[[126615,126615],"mapped",[1582]],[[126616,126616],"mapped",[1584]],[[126617,126617],"mapped",[1590]],[[126618,126618],"mapped",[1592]],[[126619,126619],"mapped",[1594]],[[126620,126624],"disallowed"],[[126625,126625],"mapped",[1576]],[[126626,126626],"mapped",[1580]],[[126627,126627],"mapped",[1583]],[[126628,126628],"disallowed"],[[126629,126629],"mapped",[1608]],[[126630,126630],"mapped",[1586]],[[126631,126631],"mapped",[1581]],[[126632,126632],"mapped",[1591]],[[126633,126633],"mapped",[1610]],[[126634,126634],"disallowed"],[[126635,126635],"mapped",[1604]],[[126636,126636],"mapped",[1605]],[[126637,126637],"mapped",[1606]],[[126638,126638],"mapped",[1587]],[[126639,126639],"mapped",[1593]],[[126640,126640],"mapped",[1601]],[[126641,126641],"mapped",[1589]],[[126642,126642],"mapped",[1602]],[[126643,126643],"mapped",[1585]],[[126644,126644],"mapped",[1588]],[[126645,126645],"mapped",[1578]],[[126646,126646],"mapped",[1579]],[[126647,126647],"mapped",[1582]],[[126648,126648],"mapped",[1584]],[[126649,126649],"mapped",[1590]],[[126650,126650],"mapped",[1592]],[[126651,126651],"mapped",[1594]],[[126652,126703],"disallowed"],[[126704,126705],"valid",[],"NV8"],[[126706,126975],"disallowed"],[[126976,127019],"valid",[],"NV8"],[[127020,127023],"disallowed"],[[127024,127123],"valid",[],"NV8"],[[127124,127135],"disallowed"],[[127136,127150],"valid",[],"NV8"],[[127151,127152],"disallowed"],[[127153,127166],"valid",[],"NV8"],[[127167,127167],"valid",[],"NV8"],[[127168,127168],"disallowed"],[[127169,127183],"valid",[],"NV8"],[[127184,127184],"disallowed"],[[127185,127199],"valid",[],"NV8"],[[127200,127221],"valid",[],"NV8"],[[127222,127231],"disallowed"],[[127232,127232],"disallowed"],[[127233,127233],"disallowed_STD3_mapped",[48,44]],[[127234,127234],"disallowed_STD3_mapped",[49,44]],[[127235,127235],"disallowed_STD3_mapped",[50,44]],[[127236,127236],"disallowed_STD3_mapped",[51,44]],[[127237,127237],"disallowed_STD3_mapped",[52,44]],[[127238,127238],"disallowed_STD3_mapped",[53,44]],[[127239,127239],"disallowed_STD3_mapped",[54,44]],[[127240,127240],"disallowed_STD3_mapped",[55,44]],[[127241,127241],"disallowed_STD3_mapped",[56,44]],[[127242,127242],"disallowed_STD3_mapped",[57,44]],[[127243,127244],"valid",[],"NV8"],[[127245,127247],"disallowed"],[[127248,127248],"disallowed_STD3_mapped",[40,97,41]],[[127249,127249],"disallowed_STD3_mapped",[40,98,41]],[[127250,127250],"disallowed_STD3_mapped",[40,99,41]],[[127251,127251],"disallowed_STD3_mapped",[40,100,41]],[[127252,127252],"disallowed_STD3_mapped",[40,101,41]],[[127253,127253],"disallowed_STD3_mapped",[40,102,41]],[[127254,127254],"disallowed_STD3_mapped",[40,103,41]],[[127255,127255],"disallowed_STD3_mapped",[40,104,41]],[[127256,127256],"disallowed_STD3_mapped",[40,105,41]],[[127257,127257],"disallowed_STD3_mapped",[40,106,41]],[[127258,127258],"disallowed_STD3_mapped",[40,107,41]],[[127259,127259],"disallowed_STD3_mapped",[40,108,41]],[[127260,127260],"disallowed_STD3_mapped",[40,109,41]],[[127261,127261],"disallowed_STD3_mapped",[40,110,41]],[[127262,127262],"disallowed_STD3_mapped",[40,111,41]],[[127263,127263],"disallowed_STD3_mapped",[40,112,41]],[[127264,127264],"disallowed_STD3_mapped",[40,113,41]],[[127265,127265],"disallowed_STD3_mapped",[40,114,41]],[[127266,127266],"disallowed_STD3_mapped",[40,115,41]],[[127267,127267],"disallowed_STD3_mapped",[40,116,41]],[[127268,127268],"disallowed_STD3_mapped",[40,117,41]],[[127269,127269],"disallowed_STD3_mapped",[40,118,41]],[[127270,127270],"disallowed_STD3_mapped",[40,119,41]],[[127271,127271],"disallowed_STD3_mapped",[40,120,41]],[[127272,127272],"disallowed_STD3_mapped",[40,121,41]],[[127273,127273],"disallowed_STD3_mapped",[40,122,41]],[[127274,127274],"mapped",[12308,115,12309]],[[127275,127275],"mapped",[99]],[[127276,127276],"mapped",[114]],[[127277,127277],"mapped",[99,100]],[[127278,127278],"mapped",[119,122]],[[127279,127279],"disallowed"],[[127280,127280],"mapped",[97]],[[127281,127281],"mapped",[98]],[[127282,127282],"mapped",[99]],[[127283,127283],"mapped",[100]],[[127284,127284],"mapped",[101]],[[127285,127285],"mapped",[102]],[[127286,127286],"mapped",[103]],[[127287,127287],"mapped",[104]],[[127288,127288],"mapped",[105]],[[127289,127289],"mapped",[106]],[[127290,127290],"mapped",[107]],[[127291,127291],"mapped",[108]],[[127292,127292],"mapped",[109]],[[127293,127293],"mapped",[110]],[[127294,127294],"mapped",[111]],[[127295,127295],"mapped",[112]],[[127296,127296],"mapped",[113]],[[127297,127297],"mapped",[114]],[[127298,127298],"mapped",[115]],[[127299,127299],"mapped",[116]],[[127300,127300],"mapped",[117]],[[127301,127301],"mapped",[118]],[[127302,127302],"mapped",[119]],[[127303,127303],"mapped",[120]],[[127304,127304],"mapped",[121]],[[127305,127305],"mapped",[122]],[[127306,127306],"mapped",[104,118]],[[127307,127307],"mapped",[109,118]],[[127308,127308],"mapped",[115,100]],[[127309,127309],"mapped",[115,115]],[[127310,127310],"mapped",[112,112,118]],[[127311,127311],"mapped",[119,99]],[[127312,127318],"valid",[],"NV8"],[[127319,127319],"valid",[],"NV8"],[[127320,127326],"valid",[],"NV8"],[[127327,127327],"valid",[],"NV8"],[[127328,127337],"valid",[],"NV8"],[[127338,127338],"mapped",[109,99]],[[127339,127339],"mapped",[109,100]],[[127340,127343],"disallowed"],[[127344,127352],"valid",[],"NV8"],[[127353,127353],"valid",[],"NV8"],[[127354,127354],"valid",[],"NV8"],[[127355,127356],"valid",[],"NV8"],[[127357,127358],"valid",[],"NV8"],[[127359,127359],"valid",[],"NV8"],[[127360,127369],"valid",[],"NV8"],[[127370,127373],"valid",[],"NV8"],[[127374,127375],"valid",[],"NV8"],[[127376,127376],"mapped",[100,106]],[[127377,127386],"valid",[],"NV8"],[[127387,127461],"disallowed"],[[127462,127487],"valid",[],"NV8"],[[127488,127488],"mapped",[12411,12363]],[[127489,127489],"mapped",[12467,12467]],[[127490,127490],"mapped",[12469]],[[127491,127503],"disallowed"],[[127504,127504],"mapped",[25163]],[[127505,127505],"mapped",[23383]],[[127506,127506],"mapped",[21452]],[[127507,127507],"mapped",[12487]],[[127508,127508],"mapped",[20108]],[[127509,127509],"mapped",[22810]],[[127510,127510],"mapped",[35299]],[[127511,127511],"mapped",[22825]],[[127512,127512],"mapped",[20132]],[[127513,127513],"mapped",[26144]],[[127514,127514],"mapped",[28961]],[[127515,127515],"mapped",[26009]],[[127516,127516],"mapped",[21069]],[[127517,127517],"mapped",[24460]],[[127518,127518],"mapped",[20877]],[[127519,127519],"mapped",[26032]],[[127520,127520],"mapped",[21021]],[[127521,127521],"mapped",[32066]],[[127522,127522],"mapped",[29983]],[[127523,127523],"mapped",[36009]],[[127524,127524],"mapped",[22768]],[[127525,127525],"mapped",[21561]],[[127526,127526],"mapped",[28436]],[[127527,127527],"mapped",[25237]],[[127528,127528],"mapped",[25429]],[[127529,127529],"mapped",[19968]],[[127530,127530],"mapped",[19977]],[[127531,127531],"mapped",[36938]],[[127532,127532],"mapped",[24038]],[[127533,127533],"mapped",[20013]],[[127534,127534],"mapped",[21491]],[[127535,127535],"mapped",[25351]],[[127536,127536],"mapped",[36208]],[[127537,127537],"mapped",[25171]],[[127538,127538],"mapped",[31105]],[[127539,127539],"mapped",[31354]],[[127540,127540],"mapped",[21512]],[[127541,127541],"mapped",[28288]],[[127542,127542],"mapped",[26377]],[[127543,127543],"mapped",[26376]],[[127544,127544],"mapped",[30003]],[[127545,127545],"mapped",[21106]],[[127546,127546],"mapped",[21942]],[[127547,127551],"disallowed"],[[127552,127552],"mapped",[12308,26412,12309]],[[127553,127553],"mapped",[12308,19977,12309]],[[127554,127554],"mapped",[12308,20108,12309]],[[127555,127555],"mapped",[12308,23433,12309]],[[127556,127556],"mapped",[12308,28857,12309]],[[127557,127557],"mapped",[12308,25171,12309]],[[127558,127558],"mapped",[12308,30423,12309]],[[127559,127559],"mapped",[12308,21213,12309]],[[127560,127560],"mapped",[12308,25943,12309]],[[127561,127567],"disallowed"],[[127568,127568],"mapped",[24471]],[[127569,127569],"mapped",[21487]],[[127570,127743],"disallowed"],[[127744,127776],"valid",[],"NV8"],[[127777,127788],"valid",[],"NV8"],[[127789,127791],"valid",[],"NV8"],[[127792,127797],"valid",[],"NV8"],[[127798,127798],"valid",[],"NV8"],[[127799,127868],"valid",[],"NV8"],[[127869,127869],"valid",[],"NV8"],[[127870,127871],"valid",[],"NV8"],[[127872,127891],"valid",[],"NV8"],[[127892,127903],"valid",[],"NV8"],[[127904,127940],"valid",[],"NV8"],[[127941,127941],"valid",[],"NV8"],[[127942,127946],"valid",[],"NV8"],[[127947,127950],"valid",[],"NV8"],[[127951,127955],"valid",[],"NV8"],[[127956,127967],"valid",[],"NV8"],[[127968,127984],"valid",[],"NV8"],[[127985,127991],"valid",[],"NV8"],[[127992,127999],"valid",[],"NV8"],[[128000,128062],"valid",[],"NV8"],[[128063,128063],"valid",[],"NV8"],[[128064,128064],"valid",[],"NV8"],[[128065,128065],"valid",[],"NV8"],[[128066,128247],"valid",[],"NV8"],[[128248,128248],"valid",[],"NV8"],[[128249,128252],"valid",[],"NV8"],[[128253,128254],"valid",[],"NV8"],[[128255,128255],"valid",[],"NV8"],[[128256,128317],"valid",[],"NV8"],[[128318,128319],"valid",[],"NV8"],[[128320,128323],"valid",[],"NV8"],[[128324,128330],"valid",[],"NV8"],[[128331,128335],"valid",[],"NV8"],[[128336,128359],"valid",[],"NV8"],[[128360,128377],"valid",[],"NV8"],[[128378,128378],"disallowed"],[[128379,128419],"valid",[],"NV8"],[[128420,128420],"disallowed"],[[128421,128506],"valid",[],"NV8"],[[128507,128511],"valid",[],"NV8"],[[128512,128512],"valid",[],"NV8"],[[128513,128528],"valid",[],"NV8"],[[128529,128529],"valid",[],"NV8"],[[128530,128532],"valid",[],"NV8"],[[128533,128533],"valid",[],"NV8"],[[128534,128534],"valid",[],"NV8"],[[128535,128535],"valid",[],"NV8"],[[128536,128536],"valid",[],"NV8"],[[128537,128537],"valid",[],"NV8"],[[128538,128538],"valid",[],"NV8"],[[128539,128539],"valid",[],"NV8"],[[128540,128542],"valid",[],"NV8"],[[128543,128543],"valid",[],"NV8"],[[128544,128549],"valid",[],"NV8"],[[128550,128551],"valid",[],"NV8"],[[128552,128555],"valid",[],"NV8"],[[128556,128556],"valid",[],"NV8"],[[128557,128557],"valid",[],"NV8"],[[128558,128559],"valid",[],"NV8"],[[128560,128563],"valid",[],"NV8"],[[128564,128564],"valid",[],"NV8"],[[128565,128576],"valid",[],"NV8"],[[128577,128578],"valid",[],"NV8"],[[128579,128580],"valid",[],"NV8"],[[128581,128591],"valid",[],"NV8"],[[128592,128639],"valid",[],"NV8"],[[128640,128709],"valid",[],"NV8"],[[128710,128719],"valid",[],"NV8"],[[128720,128720],"valid",[],"NV8"],[[128721,128735],"disallowed"],[[128736,128748],"valid",[],"NV8"],[[128749,128751],"disallowed"],[[128752,128755],"valid",[],"NV8"],[[128756,128767],"disallowed"],[[128768,128883],"valid",[],"NV8"],[[128884,128895],"disallowed"],[[128896,128980],"valid",[],"NV8"],[[128981,129023],"disallowed"],[[129024,129035],"valid",[],"NV8"],[[129036,129039],"disallowed"],[[129040,129095],"valid",[],"NV8"],[[129096,129103],"disallowed"],[[129104,129113],"valid",[],"NV8"],[[129114,129119],"disallowed"],[[129120,129159],"valid",[],"NV8"],[[129160,129167],"disallowed"],[[129168,129197],"valid",[],"NV8"],[[129198,129295],"disallowed"],[[129296,129304],"valid",[],"NV8"],[[129305,129407],"disallowed"],[[129408,129412],"valid",[],"NV8"],[[129413,129471],"disallowed"],[[129472,129472],"valid",[],"NV8"],[[129473,131069],"disallowed"],[[131070,131071],"disallowed"],[[131072,173782],"valid"],[[173783,173823],"disallowed"],[[173824,177972],"valid"],[[177973,177983],"disallowed"],[[177984,178205],"valid"],[[178206,178207],"disallowed"],[[178208,183969],"valid"],[[183970,194559],"disallowed"],[[194560,194560],"mapped",[20029]],[[194561,194561],"mapped",[20024]],[[194562,194562],"mapped",[20033]],[[194563,194563],"mapped",[131362]],[[194564,194564],"mapped",[20320]],[[194565,194565],"mapped",[20398]],[[194566,194566],"mapped",[20411]],[[194567,194567],"mapped",[20482]],[[194568,194568],"mapped",[20602]],[[194569,194569],"mapped",[20633]],[[194570,194570],"mapped",[20711]],[[194571,194571],"mapped",[20687]],[[194572,194572],"mapped",[13470]],[[194573,194573],"mapped",[132666]],[[194574,194574],"mapped",[20813]],[[194575,194575],"mapped",[20820]],[[194576,194576],"mapped",[20836]],[[194577,194577],"mapped",[20855]],[[194578,194578],"mapped",[132380]],[[194579,194579],"mapped",[13497]],[[194580,194580],"mapped",[20839]],[[194581,194581],"mapped",[20877]],[[194582,194582],"mapped",[132427]],[[194583,194583],"mapped",[20887]],[[194584,194584],"mapped",[20900]],[[194585,194585],"mapped",[20172]],[[194586,194586],"mapped",[20908]],[[194587,194587],"mapped",[20917]],[[194588,194588],"mapped",[168415]],[[194589,194589],"mapped",[20981]],[[194590,194590],"mapped",[20995]],[[194591,194591],"mapped",[13535]],[[194592,194592],"mapped",[21051]],[[194593,194593],"mapped",[21062]],[[194594,194594],"mapped",[21106]],[[194595,194595],"mapped",[21111]],[[194596,194596],"mapped",[13589]],[[194597,194597],"mapped",[21191]],[[194598,194598],"mapped",[21193]],[[194599,194599],"mapped",[21220]],[[194600,194600],"mapped",[21242]],[[194601,194601],"mapped",[21253]],[[194602,194602],"mapped",[21254]],[[194603,194603],"mapped",[21271]],[[194604,194604],"mapped",[21321]],[[194605,194605],"mapped",[21329]],[[194606,194606],"mapped",[21338]],[[194607,194607],"mapped",[21363]],[[194608,194608],"mapped",[21373]],[[194609,194611],"mapped",[21375]],[[194612,194612],"mapped",[133676]],[[194613,194613],"mapped",[28784]],[[194614,194614],"mapped",[21450]],[[194615,194615],"mapped",[21471]],[[194616,194616],"mapped",[133987]],[[194617,194617],"mapped",[21483]],[[194618,194618],"mapped",[21489]],[[194619,194619],"mapped",[21510]],[[194620,194620],"mapped",[21662]],[[194621,194621],"mapped",[21560]],[[194622,194622],"mapped",[21576]],[[194623,194623],"mapped",[21608]],[[194624,194624],"mapped",[21666]],[[194625,194625],"mapped",[21750]],[[194626,194626],"mapped",[21776]],[[194627,194627],"mapped",[21843]],[[194628,194628],"mapped",[21859]],[[194629,194630],"mapped",[21892]],[[194631,194631],"mapped",[21913]],[[194632,194632],"mapped",[21931]],[[194633,194633],"mapped",[21939]],[[194634,194634],"mapped",[21954]],[[194635,194635],"mapped",[22294]],[[194636,194636],"mapped",[22022]],[[194637,194637],"mapped",[22295]],[[194638,194638],"mapped",[22097]],[[194639,194639],"mapped",[22132]],[[194640,194640],"mapped",[20999]],[[194641,194641],"mapped",[22766]],[[194642,194642],"mapped",[22478]],[[194643,194643],"mapped",[22516]],[[194644,194644],"mapped",[22541]],[[194645,194645],"mapped",[22411]],[[194646,194646],"mapped",[22578]],[[194647,194647],"mapped",[22577]],[[194648,194648],"mapped",[22700]],[[194649,194649],"mapped",[136420]],[[194650,194650],"mapped",[22770]],[[194651,194651],"mapped",[22775]],[[194652,194652],"mapped",[22790]],[[194653,194653],"mapped",[22810]],[[194654,194654],"mapped",[22818]],[[194655,194655],"mapped",[22882]],[[194656,194656],"mapped",[136872]],[[194657,194657],"mapped",[136938]],[[194658,194658],"mapped",[23020]],[[194659,194659],"mapped",[23067]],[[194660,194660],"mapped",[23079]],[[194661,194661],"mapped",[23000]],[[194662,194662],"mapped",[23142]],[[194663,194663],"mapped",[14062]],[[194664,194664],"disallowed"],[[194665,194665],"mapped",[23304]],[[194666,194667],"mapped",[23358]],[[194668,194668],"mapped",[137672]],[[194669,194669],"mapped",[23491]],[[194670,194670],"mapped",[23512]],[[194671,194671],"mapped",[23527]],[[194672,194672],"mapped",[23539]],[[194673,194673],"mapped",[138008]],[[194674,194674],"mapped",[23551]],[[194675,194675],"mapped",[23558]],[[194676,194676],"disallowed"],[[194677,194677],"mapped",[23586]],[[194678,194678],"mapped",[14209]],[[194679,194679],"mapped",[23648]],[[194680,194680],"mapped",[23662]],[[194681,194681],"mapped",[23744]],[[194682,194682],"mapped",[23693]],[[194683,194683],"mapped",[138724]],[[194684,194684],"mapped",[23875]],[[194685,194685],"mapped",[138726]],[[194686,194686],"mapped",[23918]],[[194687,194687],"mapped",[23915]],[[194688,194688],"mapped",[23932]],[[194689,194689],"mapped",[24033]],[[194690,194690],"mapped",[24034]],[[194691,194691],"mapped",[14383]],[[194692,194692],"mapped",[24061]],[[194693,194693],"mapped",[24104]],[[194694,194694],"mapped",[24125]],[[194695,194695],"mapped",[24169]],[[194696,194696],"mapped",[14434]],[[194697,194697],"mapped",[139651]],[[194698,194698],"mapped",[14460]],[[194699,194699],"mapped",[24240]],[[194700,194700],"mapped",[24243]],[[194701,194701],"mapped",[24246]],[[194702,194702],"mapped",[24266]],[[194703,194703],"mapped",[172946]],[[194704,194704],"mapped",[24318]],[[194705,194706],"mapped",[140081]],[[194707,194707],"mapped",[33281]],[[194708,194709],"mapped",[24354]],[[194710,194710],"mapped",[14535]],[[194711,194711],"mapped",[144056]],[[194712,194712],"mapped",[156122]],[[194713,194713],"mapped",[24418]],[[194714,194714],"mapped",[24427]],[[194715,194715],"mapped",[14563]],[[194716,194716],"mapped",[24474]],[[194717,194717],"mapped",[24525]],[[194718,194718],"mapped",[24535]],[[194719,194719],"mapped",[24569]],[[194720,194720],"mapped",[24705]],[[194721,194721],"mapped",[14650]],[[194722,194722],"mapped",[14620]],[[194723,194723],"mapped",[24724]],[[194724,194724],"mapped",[141012]],[[194725,194725],"mapped",[24775]],[[194726,194726],"mapped",[24904]],[[194727,194727],"mapped",[24908]],[[194728,194728],"mapped",[24910]],[[194729,194729],"mapped",[24908]],[[194730,194730],"mapped",[24954]],[[194731,194731],"mapped",[24974]],[[194732,194732],"mapped",[25010]],[[194733,194733],"mapped",[24996]],[[194734,194734],"mapped",[25007]],[[194735,194735],"mapped",[25054]],[[194736,194736],"mapped",[25074]],[[194737,194737],"mapped",[25078]],[[194738,194738],"mapped",[25104]],[[194739,194739],"mapped",[25115]],[[194740,194740],"mapped",[25181]],[[194741,194741],"mapped",[25265]],[[194742,194742],"mapped",[25300]],[[194743,194743],"mapped",[25424]],[[194744,194744],"mapped",[142092]],[[194745,194745],"mapped",[25405]],[[194746,194746],"mapped",[25340]],[[194747,194747],"mapped",[25448]],[[194748,194748],"mapped",[25475]],[[194749,194749],"mapped",[25572]],[[194750,194750],"mapped",[142321]],[[194751,194751],"mapped",[25634]],[[194752,194752],"mapped",[25541]],[[194753,194753],"mapped",[25513]],[[194754,194754],"mapped",[14894]],[[194755,194755],"mapped",[25705]],[[194756,194756],"mapped",[25726]],[[194757,194757],"mapped",[25757]],[[194758,194758],"mapped",[25719]],[[194759,194759],"mapped",[14956]],[[194760,194760],"mapped",[25935]],[[194761,194761],"mapped",[25964]],[[194762,194762],"mapped",[143370]],[[194763,194763],"mapped",[26083]],[[194764,194764],"mapped",[26360]],[[194765,194765],"mapped",[26185]],[[194766,194766],"mapped",[15129]],[[194767,194767],"mapped",[26257]],[[194768,194768],"mapped",[15112]],[[194769,194769],"mapped",[15076]],[[194770,194770],"mapped",[20882]],[[194771,194771],"mapped",[20885]],[[194772,194772],"mapped",[26368]],[[194773,194773],"mapped",[26268]],[[194774,194774],"mapped",[32941]],[[194775,194775],"mapped",[17369]],[[194776,194776],"mapped",[26391]],[[194777,194777],"mapped",[26395]],[[194778,194778],"mapped",[26401]],[[194779,194779],"mapped",[26462]],[[194780,194780],"mapped",[26451]],[[194781,194781],"mapped",[144323]],[[194782,194782],"mapped",[15177]],[[194783,194783],"mapped",[26618]],[[194784,194784],"mapped",[26501]],[[194785,194785],"mapped",[26706]],[[194786,194786],"mapped",[26757]],[[194787,194787],"mapped",[144493]],[[194788,194788],"mapped",[26766]],[[194789,194789],"mapped",[26655]],[[194790,194790],"mapped",[26900]],[[194791,194791],"mapped",[15261]],[[194792,194792],"mapped",[26946]],[[194793,194793],"mapped",[27043]],[[194794,194794],"mapped",[27114]],[[194795,194795],"mapped",[27304]],[[194796,194796],"mapped",[145059]],[[194797,194797],"mapped",[27355]],[[194798,194798],"mapped",[15384]],[[194799,194799],"mapped",[27425]],[[194800,194800],"mapped",[145575]],[[194801,194801],"mapped",[27476]],[[194802,194802],"mapped",[15438]],[[194803,194803],"mapped",[27506]],[[194804,194804],"mapped",[27551]],[[194805,194805],"mapped",[27578]],[[194806,194806],"mapped",[27579]],[[194807,194807],"mapped",[146061]],[[194808,194808],"mapped",[138507]],[[194809,194809],"mapped",[146170]],[[194810,194810],"mapped",[27726]],[[194811,194811],"mapped",[146620]],[[194812,194812],"mapped",[27839]],[[194813,194813],"mapped",[27853]],[[194814,194814],"mapped",[27751]],[[194815,194815],"mapped",[27926]],[[194816,194816],"mapped",[27966]],[[194817,194817],"mapped",[28023]],[[194818,194818],"mapped",[27969]],[[194819,194819],"mapped",[28009]],[[194820,194820],"mapped",[28024]],[[194821,194821],"mapped",[28037]],[[194822,194822],"mapped",[146718]],[[194823,194823],"mapped",[27956]],[[194824,194824],"mapped",[28207]],[[194825,194825],"mapped",[28270]],[[194826,194826],"mapped",[15667]],[[194827,194827],"mapped",[28363]],[[194828,194828],"mapped",[28359]],[[194829,194829],"mapped",[147153]],[[194830,194830],"mapped",[28153]],[[194831,194831],"mapped",[28526]],[[194832,194832],"mapped",[147294]],[[194833,194833],"mapped",[147342]],[[194834,194834],"mapped",[28614]],[[194835,194835],"mapped",[28729]],[[194836,194836],"mapped",[28702]],[[194837,194837],"mapped",[28699]],[[194838,194838],"mapped",[15766]],[[194839,194839],"mapped",[28746]],[[194840,194840],"mapped",[28797]],[[194841,194841],"mapped",[28791]],[[194842,194842],"mapped",[28845]],[[194843,194843],"mapped",[132389]],[[194844,194844],"mapped",[28997]],[[194845,194845],"mapped",[148067]],[[194846,194846],"mapped",[29084]],[[194847,194847],"disallowed"],[[194848,194848],"mapped",[29224]],[[194849,194849],"mapped",[29237]],[[194850,194850],"mapped",[29264]],[[194851,194851],"mapped",[149000]],[[194852,194852],"mapped",[29312]],[[194853,194853],"mapped",[29333]],[[194854,194854],"mapped",[149301]],[[194855,194855],"mapped",[149524]],[[194856,194856],"mapped",[29562]],[[194857,194857],"mapped",[29579]],[[194858,194858],"mapped",[16044]],[[194859,194859],"mapped",[29605]],[[194860,194861],"mapped",[16056]],[[194862,194862],"mapped",[29767]],[[194863,194863],"mapped",[29788]],[[194864,194864],"mapped",[29809]],[[194865,194865],"mapped",[29829]],[[194866,194866],"mapped",[29898]],[[194867,194867],"mapped",[16155]],[[194868,194868],"mapped",[29988]],[[194869,194869],"mapped",[150582]],[[194870,194870],"mapped",[30014]],[[194871,194871],"mapped",[150674]],[[194872,194872],"mapped",[30064]],[[194873,194873],"mapped",[139679]],[[194874,194874],"mapped",[30224]],[[194875,194875],"mapped",[151457]],[[194876,194876],"mapped",[151480]],[[194877,194877],"mapped",[151620]],[[194878,194878],"mapped",[16380]],[[194879,194879],"mapped",[16392]],[[194880,194880],"mapped",[30452]],[[194881,194881],"mapped",[151795]],[[194882,194882],"mapped",[151794]],[[194883,194883],"mapped",[151833]],[[194884,194884],"mapped",[151859]],[[194885,194885],"mapped",[30494]],[[194886,194887],"mapped",[30495]],[[194888,194888],"mapped",[30538]],[[194889,194889],"mapped",[16441]],[[194890,194890],"mapped",[30603]],[[194891,194891],"mapped",[16454]],[[194892,194892],"mapped",[16534]],[[194893,194893],"mapped",[152605]],[[194894,194894],"mapped",[30798]],[[194895,194895],"mapped",[30860]],[[194896,194896],"mapped",[30924]],[[194897,194897],"mapped",[16611]],[[194898,194898],"mapped",[153126]],[[194899,194899],"mapped",[31062]],[[194900,194900],"mapped",[153242]],[[194901,194901],"mapped",[153285]],[[194902,194902],"mapped",[31119]],[[194903,194903],"mapped",[31211]],[[194904,194904],"mapped",[16687]],[[194905,194905],"mapped",[31296]],[[194906,194906],"mapped",[31306]],[[194907,194907],"mapped",[31311]],[[194908,194908],"mapped",[153980]],[[194909,194910],"mapped",[154279]],[[194911,194911],"disallowed"],[[194912,194912],"mapped",[16898]],[[194913,194913],"mapped",[154539]],[[194914,194914],"mapped",[31686]],[[194915,194915],"mapped",[31689]],[[194916,194916],"mapped",[16935]],[[194917,194917],"mapped",[154752]],[[194918,194918],"mapped",[31954]],[[194919,194919],"mapped",[17056]],[[194920,194920],"mapped",[31976]],[[194921,194921],"mapped",[31971]],[[194922,194922],"mapped",[32000]],[[194923,194923],"mapped",[155526]],[[194924,194924],"mapped",[32099]],[[194925,194925],"mapped",[17153]],[[194926,194926],"mapped",[32199]],[[194927,194927],"mapped",[32258]],[[194928,194928],"mapped",[32325]],[[194929,194929],"mapped",[17204]],[[194930,194930],"mapped",[156200]],[[194931,194931],"mapped",[156231]],[[194932,194932],"mapped",[17241]],[[194933,194933],"mapped",[156377]],[[194934,194934],"mapped",[32634]],[[194935,194935],"mapped",[156478]],[[194936,194936],"mapped",[32661]],[[194937,194937],"mapped",[32762]],[[194938,194938],"mapped",[32773]],[[194939,194939],"mapped",[156890]],[[194940,194940],"mapped",[156963]],[[194941,194941],"mapped",[32864]],[[194942,194942],"mapped",[157096]],[[194943,194943],"mapped",[32880]],[[194944,194944],"mapped",[144223]],[[194945,194945],"mapped",[17365]],[[194946,194946],"mapped",[32946]],[[194947,194947],"mapped",[33027]],[[194948,194948],"mapped",[17419]],[[194949,194949],"mapped",[33086]],[[194950,194950],"mapped",[23221]],[[194951,194951],"mapped",[157607]],[[194952,194952],"mapped",[157621]],[[194953,194953],"mapped",[144275]],[[194954,194954],"mapped",[144284]],[[194955,194955],"mapped",[33281]],[[194956,194956],"mapped",[33284]],[[194957,194957],"mapped",[36766]],[[194958,194958],"mapped",[17515]],[[194959,194959],"mapped",[33425]],[[194960,194960],"mapped",[33419]],[[194961,194961],"mapped",[33437]],[[194962,194962],"mapped",[21171]],[[194963,194963],"mapped",[33457]],[[194964,194964],"mapped",[33459]],[[194965,194965],"mapped",[33469]],[[194966,194966],"mapped",[33510]],[[194967,194967],"mapped",[158524]],[[194968,194968],"mapped",[33509]],[[194969,194969],"mapped",[33565]],[[194970,194970],"mapped",[33635]],[[194971,194971],"mapped",[33709]],[[194972,194972],"mapped",[33571]],[[194973,194973],"mapped",[33725]],[[194974,194974],"mapped",[33767]],[[194975,194975],"mapped",[33879]],[[194976,194976],"mapped",[33619]],[[194977,194977],"mapped",[33738]],[[194978,194978],"mapped",[33740]],[[194979,194979],"mapped",[33756]],[[194980,194980],"mapped",[158774]],[[194981,194981],"mapped",[159083]],[[194982,194982],"mapped",[158933]],[[194983,194983],"mapped",[17707]],[[194984,194984],"mapped",[34033]],[[194985,194985],"mapped",[34035]],[[194986,194986],"mapped",[34070]],[[194987,194987],"mapped",[160714]],[[194988,194988],"mapped",[34148]],[[194989,194989],"mapped",[159532]],[[194990,194990],"mapped",[17757]],[[194991,194991],"mapped",[17761]],[[194992,194992],"mapped",[159665]],[[194993,194993],"mapped",[159954]],[[194994,194994],"mapped",[17771]],[[194995,194995],"mapped",[34384]],[[194996,194996],"mapped",[34396]],[[194997,194997],"mapped",[34407]],[[194998,194998],"mapped",[34409]],[[194999,194999],"mapped",[34473]],[[195000,195000],"mapped",[34440]],[[195001,195001],"mapped",[34574]],[[195002,195002],"mapped",[34530]],[[195003,195003],"mapped",[34681]],[[195004,195004],"mapped",[34600]],[[195005,195005],"mapped",[34667]],[[195006,195006],"mapped",[34694]],[[195007,195007],"disallowed"],[[195008,195008],"mapped",[34785]],[[195009,195009],"mapped",[34817]],[[195010,195010],"mapped",[17913]],[[195011,195011],"mapped",[34912]],[[195012,195012],"mapped",[34915]],[[195013,195013],"mapped",[161383]],[[195014,195014],"mapped",[35031]],[[195015,195015],"mapped",[35038]],[[195016,195016],"mapped",[17973]],[[195017,195017],"mapped",[35066]],[[195018,195018],"mapped",[13499]],[[195019,195019],"mapped",[161966]],[[195020,195020],"mapped",[162150]],[[195021,195021],"mapped",[18110]],[[195022,195022],"mapped",[18119]],[[195023,195023],"mapped",[35488]],[[195024,195024],"mapped",[35565]],[[195025,195025],"mapped",[35722]],[[195026,195026],"mapped",[35925]],[[195027,195027],"mapped",[162984]],[[195028,195028],"mapped",[36011]],[[195029,195029],"mapped",[36033]],[[195030,195030],"mapped",[36123]],[[195031,195031],"mapped",[36215]],[[195032,195032],"mapped",[163631]],[[195033,195033],"mapped",[133124]],[[195034,195034],"mapped",[36299]],[[195035,195035],"mapped",[36284]],[[195036,195036],"mapped",[36336]],[[195037,195037],"mapped",[133342]],[[195038,195038],"mapped",[36564]],[[195039,195039],"mapped",[36664]],[[195040,195040],"mapped",[165330]],[[195041,195041],"mapped",[165357]],[[195042,195042],"mapped",[37012]],[[195043,195043],"mapped",[37105]],[[195044,195044],"mapped",[37137]],[[195045,195045],"mapped",[165678]],[[195046,195046],"mapped",[37147]],[[195047,195047],"mapped",[37432]],[[195048,195048],"mapped",[37591]],[[195049,195049],"mapped",[37592]],[[195050,195050],"mapped",[37500]],[[195051,195051],"mapped",[37881]],[[195052,195052],"mapped",[37909]],[[195053,195053],"mapped",[166906]],[[195054,195054],"mapped",[38283]],[[195055,195055],"mapped",[18837]],[[195056,195056],"mapped",[38327]],[[195057,195057],"mapped",[167287]],[[195058,195058],"mapped",[18918]],[[195059,195059],"mapped",[38595]],[[195060,195060],"mapped",[23986]],[[195061,195061],"mapped",[38691]],[[195062,195062],"mapped",[168261]],[[195063,195063],"mapped",[168474]],[[195064,195064],"mapped",[19054]],[[195065,195065],"mapped",[19062]],[[195066,195066],"mapped",[38880]],[[195067,195067],"mapped",[168970]],[[195068,195068],"mapped",[19122]],[[195069,195069],"mapped",[169110]],[[195070,195071],"mapped",[38923]],[[195072,195072],"mapped",[38953]],[[195073,195073],"mapped",[169398]],[[195074,195074],"mapped",[39138]],[[195075,195075],"mapped",[19251]],[[195076,195076],"mapped",[39209]],[[195077,195077],"mapped",[39335]],[[195078,195078],"mapped",[39362]],[[195079,195079],"mapped",[39422]],[[195080,195080],"mapped",[19406]],[[195081,195081],"mapped",[170800]],[[195082,195082],"mapped",[39698]],[[195083,195083],"mapped",[40000]],[[195084,195084],"mapped",[40189]],[[195085,195085],"mapped",[19662]],[[195086,195086],"mapped",[19693]],[[195087,195087],"mapped",[40295]],[[195088,195088],"mapped",[172238]],[[195089,195089],"mapped",[19704]],[[195090,195090],"mapped",[172293]],[[195091,195091],"mapped",[172558]],[[195092,195092],"mapped",[172689]],[[195093,195093],"mapped",[40635]],[[195094,195094],"mapped",[19798]],[[195095,195095],"mapped",[40697]],[[195096,195096],"mapped",[40702]],[[195097,195097],"mapped",[40709]],[[195098,195098],"mapped",[40719]],[[195099,195099],"mapped",[40726]],[[195100,195100],"mapped",[40763]],[[195101,195101],"mapped",[173568]],[[195102,196605],"disallowed"],[[196606,196607],"disallowed"],[[196608,262141],"disallowed"],[[262142,262143],"disallowed"],[[262144,327677],"disallowed"],[[327678,327679],"disallowed"],[[327680,393213],"disallowed"],[[393214,393215],"disallowed"],[[393216,458749],"disallowed"],[[458750,458751],"disallowed"],[[458752,524285],"disallowed"],[[524286,524287],"disallowed"],[[524288,589821],"disallowed"],[[589822,589823],"disallowed"],[[589824,655357],"disallowed"],[[655358,655359],"disallowed"],[[655360,720893],"disallowed"],[[720894,720895],"disallowed"],[[720896,786429],"disallowed"],[[786430,786431],"disallowed"],[[786432,851965],"disallowed"],[[851966,851967],"disallowed"],[[851968,917501],"disallowed"],[[917502,917503],"disallowed"],[[917504,917504],"disallowed"],[[917505,917505],"disallowed"],[[917506,917535],"disallowed"],[[917536,917631],"disallowed"],[[917632,917759],"disallowed"],[[917760,917999],"ignored"],[[918000,983037],"disallowed"],[[983038,983039],"disallowed"],[[983040,1048573],"disallowed"],[[1048574,1048575],"disallowed"],[[1048576,1114109],"disallowed"],[[1114110,1114111],"disallowed"]]')}},a={};function r(e){var n=a[e];if(void 0!==n)return n.exports;var i=a[e]={id:e,loaded:!1,exports:{}};return t[e].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.m=t,r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var a in t)r.o(t,a)&&!r.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,a)=>(r.f[a](e,t),t)),[])),r.u=e=>e+".js",r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),e={480:1},r.f.require=(t,a)=>{e[t]||(t=>{var a=t.modules,n=t.ids,i=t.runtime;for(var s in a)r.o(a,s)&&(r.m[s]=a[s]);i&&i(r);for(var o=0;o<n.length;o++)e[n[o]]=1})(require("./"+r.u(t)))},r(27222)})()));